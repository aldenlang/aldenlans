var Df=Object.create;var Fr=Object.defineProperty;var Ef=Object.getOwnPropertyDescriptor;var qf=Object.getOwnPropertyNames;var Of=Object.getPrototypeOf,kf=Object.prototype.hasOwnProperty;var lo=t=>Fr(t,"__esModule",{value:!0});var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),xf=(t,e)=>{lo(t);for(var n in e)Fr(t,n,{get:e[n],enumerable:!0})},Ff=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of qf(e))!kf.call(t,r)&&r!=="default"&&Fr(t,r,{get:()=>e[r],enumerable:!(n=Ef(e,r))||n.enumerable});return t},Nr=t=>Ff(lo(Fr(t!=null?Df(Of(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Qn=D((YR,fo)=>{var Nf="2.0.0",If=256,Lf=Number.MAX_SAFE_INTEGER||9007199254740991,Mf=16;fo.exports={SEMVER_SPEC_VERSION:Nf,MAX_LENGTH:If,MAX_SAFE_INTEGER:Lf,MAX_SAFE_COMPONENT_LENGTH:Mf}});var Zn=D((QR,ho)=>{var Af=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ho.exports=Af});var hn=D((en,po)=>{var{MAX_SAFE_COMPONENT_LENGTH:Fi}=Qn(),jf=Zn();en=po.exports={};var $f=en.re=[],M=en.src=[],A=en.t={},Kf=0,Y=(t,e,n)=>{let r=Kf++;jf(r,e),A[t]=r,M[r]=e,$f[r]=new RegExp(e,n?"g":void 0)};Y("NUMERICIDENTIFIER","0|[1-9]\\d*");Y("NUMERICIDENTIFIERLOOSE","[0-9]+");Y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Y("MAINVERSION",`(${M[A.NUMERICIDENTIFIER]})\\.(${M[A.NUMERICIDENTIFIER]})\\.(${M[A.NUMERICIDENTIFIER]})`);Y("MAINVERSIONLOOSE",`(${M[A.NUMERICIDENTIFIERLOOSE]})\\.(${M[A.NUMERICIDENTIFIERLOOSE]})\\.(${M[A.NUMERICIDENTIFIERLOOSE]})`);Y("PRERELEASEIDENTIFIER",`(?:${M[A.NUMERICIDENTIFIER]}|${M[A.NONNUMERICIDENTIFIER]})`);Y("PRERELEASEIDENTIFIERLOOSE",`(?:${M[A.NUMERICIDENTIFIERLOOSE]}|${M[A.NONNUMERICIDENTIFIER]})`);Y("PRERELEASE",`(?:-(${M[A.PRERELEASEIDENTIFIER]}(?:\\.${M[A.PRERELEASEIDENTIFIER]})*))`);Y("PRERELEASELOOSE",`(?:-?(${M[A.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${M[A.PRERELEASEIDENTIFIERLOOSE]})*))`);Y("BUILDIDENTIFIER","[0-9A-Za-z-]+");Y("BUILD",`(?:\\+(${M[A.BUILDIDENTIFIER]}(?:\\.${M[A.BUILDIDENTIFIER]})*))`);Y("FULLPLAIN",`v?${M[A.MAINVERSION]}${M[A.PRERELEASE]}?${M[A.BUILD]}?`);Y("FULL",`^${M[A.FULLPLAIN]}$`);Y("LOOSEPLAIN",`[v=\\s]*${M[A.MAINVERSIONLOOSE]}${M[A.PRERELEASELOOSE]}?${M[A.BUILD]}?`);Y("LOOSE",`^${M[A.LOOSEPLAIN]}$`);Y("GTLT","((?:<|>)?=?)");Y("XRANGEIDENTIFIERLOOSE",`${M[A.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Y("XRANGEIDENTIFIER",`${M[A.NUMERICIDENTIFIER]}|x|X|\\*`);Y("XRANGEPLAIN",`[v=\\s]*(${M[A.XRANGEIDENTIFIER]})(?:\\.(${M[A.XRANGEIDENTIFIER]})(?:\\.(${M[A.XRANGEIDENTIFIER]})(?:${M[A.PRERELEASE]})?${M[A.BUILD]}?)?)?`);Y("XRANGEPLAINLOOSE",`[v=\\s]*(${M[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[A.XRANGEIDENTIFIERLOOSE]})(?:${M[A.PRERELEASELOOSE]})?${M[A.BUILD]}?)?)?`);Y("XRANGE",`^${M[A.GTLT]}\\s*${M[A.XRANGEPLAIN]}$`);Y("XRANGELOOSE",`^${M[A.GTLT]}\\s*${M[A.XRANGEPLAINLOOSE]}$`);Y("COERCE",`(^|[^\\d])(\\d{1,${Fi}})(?:\\.(\\d{1,${Fi}}))?(?:\\.(\\d{1,${Fi}}))?(?:$|[^\\d])`);Y("COERCERTL",M[A.COERCE],!0);Y("LONETILDE","(?:~>?)");Y("TILDETRIM",`(\\s*)${M[A.LONETILDE]}\\s+`,!0);en.tildeTrimReplace="$1~";Y("TILDE",`^${M[A.LONETILDE]}${M[A.XRANGEPLAIN]}$`);Y("TILDELOOSE",`^${M[A.LONETILDE]}${M[A.XRANGEPLAINLOOSE]}$`);Y("LONECARET","(?:\\^)");Y("CARETTRIM",`(\\s*)${M[A.LONECARET]}\\s+`,!0);en.caretTrimReplace="$1^";Y("CARET",`^${M[A.LONECARET]}${M[A.XRANGEPLAIN]}$`);Y("CARETLOOSE",`^${M[A.LONECARET]}${M[A.XRANGEPLAINLOOSE]}$`);Y("COMPARATORLOOSE",`^${M[A.GTLT]}\\s*(${M[A.LOOSEPLAIN]})$|^$`);Y("COMPARATOR",`^${M[A.GTLT]}\\s*(${M[A.FULLPLAIN]})$|^$`);Y("COMPARATORTRIM",`(\\s*)${M[A.GTLT]}\\s*(${M[A.LOOSEPLAIN]}|${M[A.XRANGEPLAIN]})`,!0);en.comparatorTrimReplace="$1$2$3";Y("HYPHENRANGE",`^\\s*(${M[A.XRANGEPLAIN]})\\s+-\\s+(${M[A.XRANGEPLAIN]})\\s*$`);Y("HYPHENRANGELOOSE",`^\\s*(${M[A.XRANGEPLAINLOOSE]})\\s+-\\s+(${M[A.XRANGEPLAINLOOSE]})\\s*$`);Y("STAR","(<|>)?=?\\s*\\*");Y("GTE0","^\\s*>=\\s*0.0.0\\s*$");Y("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var er=D((ZR,go)=>{var Hf=["includePrerelease","loose","rtl"],Wf=t=>t?typeof t!="object"?{loose:!0}:Hf.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};go.exports=Wf});var Ir=D((eC,yo)=>{var mo=/^[0-9]+$/,vo=(t,e)=>{let n=mo.test(t),r=mo.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},zf=(t,e)=>vo(e,t);yo.exports={compareIdentifiers:vo,rcompareIdentifiers:zf}});var He=D((tC,_o)=>{var Lr=Zn(),{MAX_LENGTH:Ro,MAX_SAFE_INTEGER:Mr}=Qn(),{re:Co,t:bo}=hn(),Uf=er(),{compareIdentifiers:tr}=Ir(),ft=class{constructor(e,n){if(n=Uf(n),e instanceof ft){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Ro)throw new TypeError(`version is longer than ${Ro} characters`);Lr("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Co[bo.LOOSE]:Co[bo.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Mr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mr||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let a=+i;if(a>=0&&a<Mr)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Lr("SemVer.compare",this.version,this.options,e),!(e instanceof ft)){if(typeof e=="string"&&e===this.version)return 0;e=new ft(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ft||(e=new ft(e,this.options)),tr(this.major,e.major)||tr(this.minor,e.minor)||tr(this.patch,e.patch)}comparePre(e){if(e instanceof ft||(e=new ft(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(Lr("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return tr(r,i)}while(++n)}compareBuild(e){e instanceof ft||(e=new ft(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(Lr("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return tr(r,i)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};_o.exports=ft});var pn=D((nC,Po)=>{var{MAX_LENGTH:Bf}=Qn(),{re:wo,t:To}=hn(),So=He(),Gf=er(),Xf=(t,e)=>{if(e=Gf(e),t instanceof So)return t;if(typeof t!="string"||t.length>Bf||!(e.loose?wo[To.LOOSE]:wo[To.FULL]).test(t))return null;try{return new So(t,e)}catch{return null}};Po.exports=Xf});var Eo=D((rC,Do)=>{var Vf=pn(),Jf=(t,e)=>{let n=Vf(t,e);return n?n.version:null};Do.exports=Jf});var Oo=D((iC,qo)=>{var Yf=pn(),Qf=(t,e)=>{let n=Yf(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};qo.exports=Qf});var xo=D((sC,ko)=>{var Zf=He(),eh=(t,e,n,r)=>{typeof n=="string"&&(r=n,n=void 0);try{return new Zf(t,n).inc(e,r).version}catch{return null}};ko.exports=eh});var ht=D((oC,No)=>{var Fo=He(),th=(t,e,n)=>new Fo(t,n).compare(new Fo(e,n));No.exports=th});var Ar=D((aC,Io)=>{var nh=ht(),rh=(t,e,n)=>nh(t,e,n)===0;Io.exports=rh});var Ao=D((cC,Mo)=>{var Lo=pn(),ih=Ar(),sh=(t,e)=>{if(ih(t,e))return null;{let n=Lo(t),r=Lo(e),i=n.prerelease.length||r.prerelease.length,a=i?"pre":"",c=i?"prerelease":"";for(let f in n)if((f==="major"||f==="minor"||f==="patch")&&n[f]!==r[f])return a+f;return c}};Mo.exports=sh});var $o=D((uC,jo)=>{var oh=He(),ah=(t,e)=>new oh(t,e).major;jo.exports=ah});var Ho=D((lC,Ko)=>{var ch=He(),uh=(t,e)=>new ch(t,e).minor;Ko.exports=uh});var zo=D((dC,Wo)=>{var lh=He(),dh=(t,e)=>new lh(t,e).patch;Wo.exports=dh});var Bo=D((fC,Uo)=>{var fh=pn(),hh=(t,e)=>{let n=fh(t,e);return n&&n.prerelease.length?n.prerelease:null};Uo.exports=hh});var Xo=D((hC,Go)=>{var ph=ht(),gh=(t,e,n)=>ph(e,t,n);Go.exports=gh});var Jo=D((pC,Vo)=>{var mh=ht(),vh=(t,e)=>mh(t,e,!0);Vo.exports=vh});var jr=D((gC,Qo)=>{var Yo=He(),yh=(t,e,n)=>{let r=new Yo(t,n),i=new Yo(e,n);return r.compare(i)||r.compareBuild(i)};Qo.exports=yh});var ea=D((mC,Zo)=>{var Rh=jr(),Ch=(t,e)=>t.sort((n,r)=>Rh(n,r,e));Zo.exports=Ch});var na=D((vC,ta)=>{var bh=jr(),_h=(t,e)=>t.sort((n,r)=>bh(r,n,e));ta.exports=_h});var nr=D((yC,ra)=>{var wh=ht(),Th=(t,e,n)=>wh(t,e,n)>0;ra.exports=Th});var $r=D((RC,ia)=>{var Sh=ht(),Ph=(t,e,n)=>Sh(t,e,n)<0;ia.exports=Ph});var Ni=D((CC,sa)=>{var Dh=ht(),Eh=(t,e,n)=>Dh(t,e,n)!==0;sa.exports=Eh});var Kr=D((bC,oa)=>{var qh=ht(),Oh=(t,e,n)=>qh(t,e,n)>=0;oa.exports=Oh});var Hr=D((_C,aa)=>{var kh=ht(),xh=(t,e,n)=>kh(t,e,n)<=0;aa.exports=xh});var Ii=D((wC,ca)=>{var Fh=Ar(),Nh=Ni(),Ih=nr(),Lh=Kr(),Mh=$r(),Ah=Hr(),jh=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Fh(t,n,r);case"!=":return Nh(t,n,r);case">":return Ih(t,n,r);case">=":return Lh(t,n,r);case"<":return Mh(t,n,r);case"<=":return Ah(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};ca.exports=jh});var la=D((TC,ua)=>{var $h=He(),Kh=pn(),{re:Wr,t:zr}=hn(),Hh=(t,e)=>{if(t instanceof $h)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(Wr[zr.COERCE]);else{let r;for(;(r=Wr[zr.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),Wr[zr.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;Wr[zr.COERCERTL].lastIndex=-1}return n===null?null:Kh(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};ua.exports=Hh});var fa=D((SC,da)=>{"use strict";da.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var pa=D((PC,ha)=>{"use strict";ha.exports=ne;ne.Node=gn;ne.create=ne;function ne(t){var e=this;if(e instanceof ne||(e=new ne),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}ne.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ne.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ne.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ne.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)zh(this,arguments[t]);return this.length};ne.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Uh(this,arguments[t]);return this.length};ne.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ne.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ne.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};ne.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};ne.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};ne.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};ne.prototype.map=function(t,e){e=e||this;for(var n=new ne,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};ne.prototype.mapReverse=function(t,e){e=e||this;for(var n=new ne,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};ne.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};ne.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};ne.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};ne.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};ne.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new ne;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};ne.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new ne;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};ne.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var a=[],r=0;i&&r<e;r++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=Wh(this,i,n[r]);return a};ne.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function Wh(t,e,n){var r=e===t.head?new gn(n,null,e,t):new gn(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function zh(t,e){t.tail=new gn(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Uh(t,e){t.head=new gn(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function gn(t,e,n,r){if(!(this instanceof gn))return new gn(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{fa()(ne)}catch{}});var ba=D((DC,Ca)=>{"use strict";var Bh=pa(),mn=Symbol("max"),At=Symbol("length"),xn=Symbol("lengthCalculator"),rr=Symbol("allowStale"),vn=Symbol("maxAge"),jt=Symbol("dispose"),ga=Symbol("noDisposeOnSet"),Ne=Symbol("lruList"),Ct=Symbol("cache"),ma=Symbol("updateAgeOnGet"),Li=()=>1,va=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[mn]=e.max||1/0,r=e.length||Li;if(this[xn]=typeof r!="function"?Li:r,this[rr]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[vn]=e.maxAge||0,this[jt]=e.dispose,this[ga]=e.noDisposeOnSet||!1,this[ma]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[mn]=e||1/0,ir(this)}get max(){return this[mn]}set allowStale(e){this[rr]=!!e}get allowStale(){return this[rr]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[vn]=e,ir(this)}get maxAge(){return this[vn]}set lengthCalculator(e){typeof e!="function"&&(e=Li),e!==this[xn]&&(this[xn]=e,this[At]=0,this[Ne].forEach(n=>{n.length=this[xn](n.value,n.key),this[At]+=n.length})),ir(this)}get lengthCalculator(){return this[xn]}get length(){return this[At]}get itemCount(){return this[Ne].length}rforEach(e,n){n=n||this;for(let r=this[Ne].tail;r!==null;){let i=r.prev;Ra(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[Ne].head;r!==null;){let i=r.next;Ra(this,e,r,n),r=i}}keys(){return this[Ne].toArray().map(e=>e.key)}values(){return this[Ne].toArray().map(e=>e.value)}reset(){this[jt]&&this[Ne]&&this[Ne].length&&this[Ne].forEach(e=>this[jt](e.key,e.value)),this[Ct]=new Map,this[Ne]=new Bh,this[At]=0}dump(){return this[Ne].map(e=>Ur(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ne]}set(e,n,r){if(r=r||this[vn],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,a=this[xn](n,e);if(this[Ct].has(e)){if(a>this[mn])return Fn(this,this[Ct].get(e)),!1;let d=this[Ct].get(e).value;return this[jt]&&(this[ga]||this[jt](e,d.value)),d.now=i,d.maxAge=r,d.value=n,this[At]+=a-d.length,d.length=a,this.get(e),ir(this),!0}let c=new ya(e,n,a,i,r);return c.length>this[mn]?(this[jt]&&this[jt](e,n),!1):(this[At]+=c.length,this[Ne].unshift(c),this[Ct].set(e,this[Ne].head),ir(this),!0)}has(e){if(!this[Ct].has(e))return!1;let n=this[Ct].get(e).value;return!Ur(this,n)}get(e){return Mi(this,e,!0)}peek(e){return Mi(this,e,!1)}pop(){let e=this[Ne].tail;return e?(Fn(this,e),e.value):null}del(e){Fn(this,this[Ct].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let i=e[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let c=a-n;c>0&&this.set(i.k,i.v,c)}}}prune(){this[Ct].forEach((e,n)=>Mi(this,n,!1))}},Mi=(t,e,n)=>{let r=t[Ct].get(e);if(r){let i=r.value;if(Ur(t,i)){if(Fn(t,r),!t[rr])return}else n&&(t[ma]&&(r.value.now=Date.now()),t[Ne].unshiftNode(r));return i.value}},Ur=(t,e)=>{if(!e||!e.maxAge&&!t[vn])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[vn]&&n>t[vn]},ir=t=>{if(t[At]>t[mn])for(let e=t[Ne].tail;t[At]>t[mn]&&e!==null;){let n=e.prev;Fn(t,e),e=n}},Fn=(t,e)=>{if(e){let n=e.value;t[jt]&&t[jt](n.key,n.value),t[At]-=n.length,t[Ct].delete(n.key),t[Ne].removeNode(e)}},ya=class{constructor(e,n,r,i,a){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}},Ra=(t,e,n,r)=>{let i=n.value;Ur(t,i)&&(Fn(t,n),t[rr]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};Ca.exports=va});var pt=D((EC,Sa)=>{var Nn=class{constructor(e,n){if(n=Xh(n),e instanceof Nn)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new Nn(e.raw,n);if(e instanceof Ai)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!wa(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Zh(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let r=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=_a.get(r);if(i)return i;let a=this.options.loose,c=a?We[je.HYPHENRANGELOOSE]:We[je.HYPHENRANGE];e=e.replace(c,up(this.options.includePrerelease)),_e("hyphen replace",e),e=e.replace(We[je.COMPARATORTRIM],Jh),_e("comparator trim",e,We[je.COMPARATORTRIM]),e=e.replace(We[je.TILDETRIM],Yh),e=e.replace(We[je.CARETTRIM],Qh),e=e.split(/\s+/).join(" ");let f=a?We[je.COMPARATORLOOSE]:We[je.COMPARATOR],d=e.split(" ").map(w=>ep(w,this.options)).join(" ").split(/\s+/).map(w=>cp(w,this.options)).filter(this.options.loose?w=>!!w.match(f):()=>!0).map(w=>new Ai(w,this.options)),y=d.length,R=new Map;for(let w of d){if(wa(w))return[w];R.set(w.value,w)}R.size>1&&R.has("")&&R.delete("");let b=[...R.values()];return _a.set(r,b),b}intersects(e,n){if(!(e instanceof Nn))throw new TypeError("a Range is required");return this.set.some(r=>Ta(r,n)&&e.set.some(i=>Ta(i,n)&&r.every(a=>i.every(c=>a.intersects(c,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Vh(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(lp(this.set[n],e,this.options))return!0;return!1}};Sa.exports=Nn;var Gh=ba(),_a=new Gh({max:1e3}),Xh=er(),Ai=sr(),_e=Zn(),Vh=He(),{re:We,t:je,comparatorTrimReplace:Jh,tildeTrimReplace:Yh,caretTrimReplace:Qh}=hn(),wa=t=>t.value==="<0.0.0-0",Zh=t=>t.value==="",Ta=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(a=>i.intersects(a,e)),i=r.pop();return n},ep=(t,e)=>(_e("comp",t,e),t=rp(t,e),_e("caret",t),t=tp(t,e),_e("tildes",t),t=sp(t,e),_e("xrange",t),t=ap(t,e),_e("stars",t),t),Xe=t=>!t||t.toLowerCase()==="x"||t==="*",tp=(t,e)=>t.trim().split(/\s+/).map(n=>np(n,e)).join(" "),np=(t,e)=>{let n=e.loose?We[je.TILDELOOSE]:We[je.TILDE];return t.replace(n,(r,i,a,c,f)=>{_e("tilde",t,r,i,a,c,f);let d;return Xe(i)?d="":Xe(a)?d=`>=${i}.0.0 <${+i+1}.0.0-0`:Xe(c)?d=`>=${i}.${a}.0 <${i}.${+a+1}.0-0`:f?(_e("replaceTilde pr",f),d=`>=${i}.${a}.${c}-${f} <${i}.${+a+1}.0-0`):d=`>=${i}.${a}.${c} <${i}.${+a+1}.0-0`,_e("tilde return",d),d})},rp=(t,e)=>t.trim().split(/\s+/).map(n=>ip(n,e)).join(" "),ip=(t,e)=>{_e("caret",t,e);let n=e.loose?We[je.CARETLOOSE]:We[je.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,a,c,f,d)=>{_e("caret",t,i,a,c,f,d);let y;return Xe(a)?y="":Xe(c)?y=`>=${a}.0.0${r} <${+a+1}.0.0-0`:Xe(f)?a==="0"?y=`>=${a}.${c}.0${r} <${a}.${+c+1}.0-0`:y=`>=${a}.${c}.0${r} <${+a+1}.0.0-0`:d?(_e("replaceCaret pr",d),a==="0"?c==="0"?y=`>=${a}.${c}.${f}-${d} <${a}.${c}.${+f+1}-0`:y=`>=${a}.${c}.${f}-${d} <${a}.${+c+1}.0-0`:y=`>=${a}.${c}.${f}-${d} <${+a+1}.0.0-0`):(_e("no pr"),a==="0"?c==="0"?y=`>=${a}.${c}.${f}${r} <${a}.${c}.${+f+1}-0`:y=`>=${a}.${c}.${f}${r} <${a}.${+c+1}.0-0`:y=`>=${a}.${c}.${f} <${+a+1}.0.0-0`),_e("caret return",y),y})},sp=(t,e)=>(_e("replaceXRanges",t,e),t.split(/\s+/).map(n=>op(n,e)).join(" ")),op=(t,e)=>{t=t.trim();let n=e.loose?We[je.XRANGELOOSE]:We[je.XRANGE];return t.replace(n,(r,i,a,c,f,d)=>{_e("xRange",t,r,i,a,c,f,d);let y=Xe(a),R=y||Xe(c),b=R||Xe(f),w=b;return i==="="&&w&&(i=""),d=e.includePrerelease?"-0":"",y?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&w?(R&&(c=0),f=0,i===">"?(i=">=",R?(a=+a+1,c=0,f=0):(c=+c+1,f=0)):i==="<="&&(i="<",R?a=+a+1:c=+c+1),i==="<"&&(d="-0"),r=`${i+a}.${c}.${f}${d}`):R?r=`>=${a}.0.0${d} <${+a+1}.0.0-0`:b&&(r=`>=${a}.${c}.0${d} <${a}.${+c+1}.0-0`),_e("xRange return",r),r})},ap=(t,e)=>(_e("replaceStars",t,e),t.trim().replace(We[je.STAR],"")),cp=(t,e)=>(_e("replaceGTE0",t,e),t.trim().replace(We[e.includePrerelease?je.GTE0PRE:je.GTE0],"")),up=t=>(e,n,r,i,a,c,f,d,y,R,b,w,S)=>(Xe(r)?n="":Xe(i)?n=`>=${r}.0.0${t?"-0":""}`:Xe(a)?n=`>=${r}.${i}.0${t?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Xe(y)?d="":Xe(R)?d=`<${+y+1}.0.0-0`:Xe(b)?d=`<${y}.${+R+1}.0-0`:w?d=`<=${y}.${R}.${b}-${w}`:t?d=`<${y}.${R}.${+b+1}-0`:d=`<=${d}`,`${n} ${d}`.trim()),lp=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(_e(t[r].semver),t[r].semver!==Ai.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var sr=D((qC,Oa)=>{var or=Symbol("SemVer ANY"),ar=class{static get ANY(){return or}constructor(e,n){if(n=dp(n),e instanceof ar){if(e.loose===!!n.loose)return e;e=e.value}$i("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===or?this.value="":this.value=this.operator+this.semver.version,$i("comp",this)}parse(e){let n=this.options.loose?Pa[Da.COMPARATORLOOSE]:Pa[Da.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Ea(r[2],this.options.loose):this.semver=or}toString(){return this.value}test(e){if($i("Comparator.test",e,this.options.loose),this.semver===or||e===or)return!0;if(typeof e=="string")try{e=new Ea(e,this.options)}catch{return!1}return ji(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof ar))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new qa(e.value,n).test(this.value);if(e.operator==="")return e.value===""?!0:new qa(this.value,n).test(e.semver);let r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,c=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),f=ji(this.semver,"<",e.semver,n)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),d=ji(this.semver,">",e.semver,n)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||a&&c||f||d}};Oa.exports=ar;var dp=er(),{re:Pa,t:Da}=hn(),ji=Ii(),$i=Zn(),Ea=He(),qa=pt()});var cr=D((OC,ka)=>{var fp=pt(),hp=(t,e,n)=>{try{e=new fp(e,n)}catch{return!1}return e.test(t)};ka.exports=hp});var Fa=D((kC,xa)=>{var pp=pt(),gp=(t,e)=>new pp(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));xa.exports=gp});var Ia=D((xC,Na)=>{var mp=He(),vp=pt(),yp=(t,e,n)=>{let r=null,i=null,a=null;try{a=new vp(e,n)}catch{return null}return t.forEach(c=>{a.test(c)&&(!r||i.compare(c)===-1)&&(r=c,i=new mp(r,n))}),r};Na.exports=yp});var Ma=D((FC,La)=>{var Rp=He(),Cp=pt(),bp=(t,e,n)=>{let r=null,i=null,a=null;try{a=new Cp(e,n)}catch{return null}return t.forEach(c=>{a.test(c)&&(!r||i.compare(c)===1)&&(r=c,i=new Rp(r,n))}),r};La.exports=bp});var $a=D((NC,ja)=>{var Ki=He(),_p=pt(),Aa=nr(),wp=(t,e)=>{t=new _p(t,e);let n=new Ki("0.0.0");if(t.test(n)||(n=new Ki("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],a=null;i.forEach(c=>{let f=new Ki(c.semver.version);switch(c.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!a||Aa(f,a))&&(a=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),a&&(!n||Aa(n,a))&&(n=a)}return n&&t.test(n)?n:null};ja.exports=wp});var Ha=D((IC,Ka)=>{var Tp=pt(),Sp=(t,e)=>{try{return new Tp(t,e).range||"*"}catch{return null}};Ka.exports=Sp});var Br=D((LC,Ba)=>{var Pp=He(),Wa=sr(),{ANY:Dp}=Wa,Ep=pt(),qp=cr(),za=nr(),Ua=$r(),Op=Hr(),kp=Kr(),xp=(t,e,n,r)=>{t=new Pp(t,r),e=new Ep(e,r);let i,a,c,f,d;switch(n){case">":i=za,a=Op,c=Ua,f=">",d=">=";break;case"<":i=Ua,a=kp,c=za,f="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(qp(t,e,r))return!1;for(let y=0;y<e.set.length;++y){let R=e.set[y],b=null,w=null;if(R.forEach(S=>{S.semver===Dp&&(S=new Wa(">=0.0.0")),b=b||S,w=w||S,i(S.semver,b.semver,r)?b=S:c(S.semver,w.semver,r)&&(w=S)}),b.operator===f||b.operator===d||(!w.operator||w.operator===f)&&a(t,w.semver))return!1;if(w.operator===d&&c(t,w.semver))return!1}return!0};Ba.exports=xp});var Xa=D((MC,Ga)=>{var Fp=Br(),Np=(t,e,n)=>Fp(t,e,">",n);Ga.exports=Np});var Ja=D((AC,Va)=>{var Ip=Br(),Lp=(t,e,n)=>Ip(t,e,"<",n);Va.exports=Lp});var Za=D((jC,Qa)=>{var Ya=pt(),Mp=(t,e,n)=>(t=new Ya(t,n),e=new Ya(e,n),t.intersects(e));Qa.exports=Mp});var tc=D(($C,ec)=>{var Ap=cr(),jp=ht();ec.exports=(t,e,n)=>{let r=[],i=null,a=null,c=t.sort((R,b)=>jp(R,b,n));for(let R of c)Ap(R,e,n)?(a=R,i||(i=R)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);let f=[];for(let[R,b]of r)R===b?f.push(R):!b&&R===c[0]?f.push("*"):b?R===c[0]?f.push(`<=${b}`):f.push(`${R} - ${b}`):f.push(`>=${R}`);let d=f.join(" || "),y=typeof e.raw=="string"?e.raw:String(e);return d.length<y.length?d:e}});var ac=D((KC,oc)=>{var nc=pt(),{ANY:rc}=sr(),ur=cr(),Hi=ht(),$p=(t,e,n)=>{if(t===e)return!0;t=new nc(t,n),e=new nc(e,n);let r=!1;e:for(let i of t.set){for(let a of e.set){let c=Kp(i,a,n);if(r=r||c!==null,c)continue e}if(r)return!1}return!0},Kp=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===rc)return e.length===1&&e[0].semver===rc;let r=new Set,i,a;for(let b of t)b.operator===">"||b.operator===">="?i=ic(i,b,n):b.operator==="<"||b.operator==="<="?a=sc(a,b,n):r.add(b.semver);if(r.size>1)return null;let c;if(i&&a){if(c=Hi(i.semver,a.semver,n),c>0)return null;if(c===0&&(i.operator!==">="||a.operator!=="<="))return null}for(let b of r){if(i&&!ur(b,String(i),n)||a&&!ur(b,String(a),n))return null;for(let w of e)if(!ur(b,String(w),n))return!1;return!0}let f,d,y,R;for(let b of e){if(R=R||b.operator===">"||b.operator===">=",y=y||b.operator==="<"||b.operator==="<=",i){if(b.operator===">"||b.operator===">="){if(f=ic(i,b,n),f===b&&f!==i)return!1}else if(i.operator===">="&&!ur(i.semver,String(b),n))return!1}if(a){if(b.operator==="<"||b.operator==="<="){if(d=sc(a,b,n),d===b&&d!==a)return!1}else if(a.operator==="<="&&!ur(a.semver,String(b),n))return!1}if(!b.operator&&(a||i)&&c!==0)return!1}return!(i&&y&&!a&&c!==0||a&&R&&!i&&c!==0)},ic=(t,e,n)=>{if(!t)return e;let r=Hi(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},sc=(t,e,n)=>{if(!t)return e;let r=Hi(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};oc.exports=$p});var uc=D((HC,cc)=>{var Wi=hn();cc.exports={re:Wi.re,src:Wi.src,tokens:Wi.t,SEMVER_SPEC_VERSION:Qn().SEMVER_SPEC_VERSION,SemVer:He(),compareIdentifiers:Ir().compareIdentifiers,rcompareIdentifiers:Ir().rcompareIdentifiers,parse:pn(),valid:Eo(),clean:Oo(),inc:xo(),diff:Ao(),major:$o(),minor:Ho(),patch:zo(),prerelease:Bo(),compare:ht(),rcompare:Xo(),compareLoose:Jo(),compareBuild:jr(),sort:ea(),rsort:na(),gt:nr(),lt:$r(),eq:Ar(),neq:Ni(),gte:Kr(),lte:Hr(),cmp:Ii(),coerce:la(),Comparator:sr(),Range:pt(),satisfies:cr(),toComparators:Fa(),maxSatisfying:Ia(),minSatisfying:Ma(),minVersion:$a(),validRange:Ha(),outside:Br(),gtr:Xa(),ltr:Ja(),intersects:Za(),simplifyRange:tc(),subset:ac()}});var tn=D(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.asPromise=ye.thenable=ye.typedArray=ye.stringArray=ye.array=ye.func=ye.error=ye.number=ye.string=ye.boolean=void 0;function Hp(t){return t===!0||t===!1}ye.boolean=Hp;function lc(t){return typeof t=="string"||t instanceof String}ye.string=lc;function Wp(t){return typeof t=="number"||t instanceof Number}ye.number=Wp;function zp(t){return t instanceof Error}ye.error=zp;function dc(t){return typeof t=="function"}ye.func=dc;function fc(t){return Array.isArray(t)}ye.array=fc;function Up(t){return fc(t)&&t.every(e=>lc(e))}ye.stringArray=Up;function Bp(t,e){return Array.isArray(t)&&t.every(e)}ye.typedArray=Bp;function hc(t){return t&&dc(t.then)}ye.thenable=hc;function Gp(t){return t instanceof Promise?t:hc(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}ye.asPromise=Gp});var $t=D(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var zi;function Ui(){if(zi===void 0)throw new Error("No runtime abstraction layer installed");return zi}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");zi=n}t.install=e})(Ui||(Ui={}));Bi.default=Ui});var Gi=D(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.Disposable=void 0;var Xp;(function(t){function e(n){return{dispose:n}}t.create=e})(Xp=lr.Disposable||(lr.Disposable={}))});var gc=D(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.AbstractMessageBuffer=void 0;var Vp=13,Jp=10,Yp=`\r
`,pc=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let d=this._chunks[n];r=0;t:for(;r<d.length;){switch(d[r]){case Vp:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case Jp:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=d.byteLength,n++}if(e!==4)return;let a=this._read(i+r),c=new Map,f=this.toString(a,"ascii").split(Yp);if(f.length<2)return c;for(let d=0;d<f.length-2;d++){let y=f[d],R=y.indexOf(":");if(R===-1)throw new Error("Message header must separate key and value using :");let b=y.substr(0,R),w=y.substr(R+1).trim();c.set(b,w)}return c}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(a)}if(this._chunks[0].byteLength>e){let a=this._chunks[0],c=this.asNative(a,e);return this._chunks[0]=a.slice(e),this._totalLength-=e,c}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let a=this._chunks[i];if(a.byteLength>e){let c=a.slice(0,e);n.set(c,r),r+=e,this._chunks[i]=a.slice(e),this._totalLength-=e,e-=e}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return n}};Gr.AbstractMessageBuffer=pc});var Cc=D(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var Qp=$t(),mc=require("util"),yn=Gi(),Zp=gc(),dr=class extends Zp.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return dr.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new mc.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};dr.emptyBuffer=Buffer.allocUnsafe(0);var vc=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),yn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),yn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),yn.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),yn.Disposable.create(()=>this.stream.off("data",e))}},yc=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),yn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),yn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),yn.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let a=c=>{c==null?r():i(c)};typeof e=="string"?this.stream.write(e,n,a):this.stream.write(e,a)})}end(){this.stream.end()}},Rc=Object.freeze({messageBuffer:Object.freeze({create:t=>new dr(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new mc.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new vc(t),asWritableStream:t=>new yc(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Xi(){return Rc}(function(t){function e(){Qp.default.install(Rc)}t.install=e})(Xi||(Xi={}));Vi.default=Xi});var In=D(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.stringArray=ze.array=ze.func=ze.error=ze.number=ze.string=ze.boolean=void 0;function eg(t){return t===!0||t===!1}ze.boolean=eg;function bc(t){return typeof t=="string"||t instanceof String}ze.string=bc;function tg(t){return typeof t=="number"||t instanceof Number}ze.number=tg;function ng(t){return t instanceof Error}ze.error=ng;function rg(t){return typeof t=="function"}ze.func=rg;function _c(t){return Array.isArray(t)}ze.array=_c;function ig(t){return _c(t)&&t.every(e=>bc(e))}ze.stringArray=ig});var Ji=D(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.isResponseMessage=j.isNotificationMessage=j.isRequestMessage=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType=j.RequestType0=j.AbstractMessageSignature=j.ParameterStructures=j.ResponseError=j.ErrorCodes=void 0;var Rn=In(),wc;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(wc=j.ErrorCodes||(j.ErrorCodes={}));var Xr=class extends Error{constructor(e,n,r){super(n);this.code=Rn.number(e)?e:wc.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Xr.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};j.ResponseError=Xr;var $e=class{constructor(e){this.kind=e}static is(e){return e===$e.auto||e===$e.byName||e===$e.byPosition}toString(){return this.kind}};j.ParameterStructures=$e;$e.auto=new $e("auto");$e.byPosition=new $e("byPosition");$e.byName=new $e("byName");var he=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return $e.auto}};j.AbstractMessageSignature=he;var Tc=class extends he{constructor(e){super(e,0)}};j.RequestType0=Tc;var Sc=class extends he{constructor(e,n=$e.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.RequestType=Sc;var Pc=class extends he{constructor(e,n=$e.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.RequestType1=Pc;var Dc=class extends he{constructor(e){super(e,2)}};j.RequestType2=Dc;var Ec=class extends he{constructor(e){super(e,3)}};j.RequestType3=Ec;var qc=class extends he{constructor(e){super(e,4)}};j.RequestType4=qc;var Oc=class extends he{constructor(e){super(e,5)}};j.RequestType5=Oc;var kc=class extends he{constructor(e){super(e,6)}};j.RequestType6=kc;var xc=class extends he{constructor(e){super(e,7)}};j.RequestType7=xc;var Fc=class extends he{constructor(e){super(e,8)}};j.RequestType8=Fc;var Nc=class extends he{constructor(e){super(e,9)}};j.RequestType9=Nc;var Ic=class extends he{constructor(e,n=$e.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.NotificationType=Ic;var Lc=class extends he{constructor(e){super(e,0)}};j.NotificationType0=Lc;var Mc=class extends he{constructor(e,n=$e.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.NotificationType1=Mc;var Ac=class extends he{constructor(e){super(e,2)}};j.NotificationType2=Ac;var jc=class extends he{constructor(e){super(e,3)}};j.NotificationType3=jc;var $c=class extends he{constructor(e){super(e,4)}};j.NotificationType4=$c;var Kc=class extends he{constructor(e){super(e,5)}};j.NotificationType5=Kc;var Hc=class extends he{constructor(e){super(e,6)}};j.NotificationType6=Hc;var Wc=class extends he{constructor(e){super(e,7)}};j.NotificationType7=Wc;var zc=class extends he{constructor(e){super(e,8)}};j.NotificationType8=zc;var Uc=class extends he{constructor(e){super(e,9)}};j.NotificationType9=Uc;function sg(t){let e=t;return e&&Rn.string(e.method)&&(Rn.string(e.id)||Rn.number(e.id))}j.isRequestMessage=sg;function og(t){let e=t;return e&&Rn.string(e.method)&&t.id===void 0}j.isNotificationMessage=og;function ag(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Rn.string(e.id)||Rn.number(e.id)||e.id===null)}j.isResponseMessage=ag});var Ln=D(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.Emitter=Cn.Event=void 0;var cg=$t(),ug;(function(t){let e={dispose(){}};t.None=function(){return e}})(ug=Cn.Event||(Cn.Event={}));var Bc=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,c=r.length;a<c;a++)try{n.push(r[a].apply(i[a],e))}catch(f){cg.default().console.error(f)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},fr=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Bc),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=fr._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Cn.Emitter=fr;fr._noop=function(){}});var es=D(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.CancellationTokenSource=bn.CancellationToken=void 0;var Gc=$t(),lg=In(),Yi=Ln(),Qi;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Yi.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Yi.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||lg.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Qi=bn.CancellationToken||(bn.CancellationToken={}));var dg=Object.freeze(function(t,e){let n=Gc.default().timer.setTimeout(t.bind(e),0);return{dispose(){Gc.default().timer.clearTimeout(n)}}}),Zi=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?dg:(this._emitter||(this._emitter=new Yi.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Xc=class{get token(){return this._token||(this._token=new Zi),this._token}cancel(){this._token?this._token.cancel():this._token=Qi.Cancelled}dispose(){this._token?this._token instanceof Zi&&this._token.dispose():this._token=Qi.None}};bn.CancellationTokenSource=Xc});var Jc=D(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.ReadableStreamMessageReader=Kt.AbstractMessageReader=Kt.MessageReader=void 0;var Vr=$t(),Mn=In(),ts=Ln(),fg;(function(t){function e(n){let r=n;return r&&Mn.func(r.listen)&&Mn.func(r.dispose)&&Mn.func(r.onError)&&Mn.func(r.onClose)&&Mn.func(r.onPartialMessage)}t.is=e})(fg=Kt.MessageReader||(Kt.MessageReader={}));var ns=class{constructor(){this.errorEmitter=new ts.Emitter,this.closeEmitter=new ts.Emitter,this.partialMessageEmitter=new ts.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Mn.string(e.message)?e.message:"unknown"}`)}};Kt.AbstractMessageReader=ns;var rs;(function(t){function e(n){var r;let i,a,c,f=new Map,d,y=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(c=n.contentDecoder,f.set(c.name,c)),n.contentDecoders!==void 0)for(let R of n.contentDecoders)f.set(R.name,R);if(n.contentTypeDecoder!==void 0&&(d=n.contentTypeDecoder,y.set(d.name,d)),n.contentTypeDecoders!==void 0)for(let R of n.contentTypeDecoders)y.set(R.name,R)}return d===void 0&&(d=Vr.default().applicationJson.decoder,y.set(d.name,d)),{charset:i,contentDecoder:c,contentDecoders:f,contentTypeDecoder:d,contentTypeDecoders:y}}t.fromOptions=e})(rs||(rs={}));var Vc=class extends ns{constructor(e,n){super();this.readable=e,this.options=rs.fromOptions(n),this.buffer=Vr.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let a=i.get("Content-Length");if(!a)throw new Error("Header must provide a Content-Length property.");let c=parseInt(a);if(isNaN(c))throw new Error("Content-Length value must be a number.");this.nextMessageLength=c}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(a=>{this.callback(a)},a=>{this.fireError(a)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Vr.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Vr.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Kt.ReadableStreamMessageReader=Vc});var Qc=D(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Semaphore=void 0;var hg=$t(),Yc=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||hg.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Jr.Semaphore=Yc});var ru=D(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.WriteableStreamMessageWriter=Ht.AbstractMessageWriter=Ht.MessageWriter=void 0;var Zc=$t(),hr=In(),pg=Qc(),eu=Ln(),gg="Content-Length: ",tu=`\r
`,mg;(function(t){function e(n){let r=n;return r&&hr.func(r.dispose)&&hr.func(r.onClose)&&hr.func(r.onError)&&hr.func(r.write)}t.is=e})(mg=Ht.MessageWriter||(Ht.MessageWriter={}));var is=class{constructor(){this.errorEmitter=new eu.Emitter,this.closeEmitter=new eu.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${hr.string(e.message)?e.message:"unknown"}`)}};Ht.AbstractMessageWriter=is;var ss;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:Zc.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:Zc.default().applicationJson.encoder}}t.fromOptions=e})(ss||(ss={}));var nu=class extends is{constructor(e,n){super();this.writable=e,this.options=ss.fromOptions(n),this.errorCount=0,this.writeSemaphore=new pg.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(gg,r.byteLength.toString(),tu),i.push(tu),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Ht.WriteableStreamMessageWriter=nu});var su=D(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.LRUCache=Wt.LinkedMap=Wt.Touch=void 0;var Ve;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ve=Wt.Touch||(Wt.Touch={}));var os=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Ve.None){let r=this._map.get(e);if(!!r)return n!==Ve.None&&this.touch(r,n),r.value}set(e,n,r=Ve.None){let i=this._map.get(e);if(i)i.value=n,r!==Ve.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Ve.None:this.addItemLast(i);break;case Ve.First:this.addItemFirst(i);break;case Ve.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.key,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.value,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:[r.key,r.value],done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Ve.First&&n!==Ve.Last)){if(n===Ve.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Ve.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Wt.LinkedMap=os;var iu=class extends os{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Ve.AsNew){return super.get(e,n)}peek(e){return super.get(e,Ve.None)}set(e,n){return super.set(e,n,Ve.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Wt.LRUCache=iu});var du=D(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.createMessageConnection=G.ConnectionOptions=G.CancellationStrategy=G.CancellationSenderStrategy=G.CancellationReceiverStrategy=G.ConnectionStrategy=G.ConnectionError=G.ConnectionErrors=G.LogTraceNotification=G.SetTraceNotification=G.TraceFormat=G.Trace=G.NullLogger=G.ProgressType=void 0;var ou=$t(),Ie=In(),B=Ji(),au=su(),pr=Ln(),as=es(),gr;(function(t){t.type=new B.NotificationType("$/cancelRequest")})(gr||(gr={}));var Yr;(function(t){t.type=new B.NotificationType("$/progress")})(Yr||(Yr={}));var cu=class{constructor(){}};G.ProgressType=cu;var cs;(function(t){function e(n){return Ie.func(n)}t.is=e})(cs||(cs={}));G.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Se;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Se=G.Trace||(G.Trace={}));(function(t){function e(r){if(!Ie.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Se=G.Trace||(G.Trace={}));var bt;(function(t){t.Text="text",t.JSON="json"})(bt=G.TraceFormat||(G.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(bt=G.TraceFormat||(G.TraceFormat={}));var uu;(function(t){t.type=new B.NotificationType("$/setTrace")})(uu=G.SetTraceNotification||(G.SetTraceNotification={}));var us;(function(t){t.type=new B.NotificationType("$/logTrace")})(us=G.LogTraceNotification||(G.LogTraceNotification={}));var Qr;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Qr=G.ConnectionErrors||(G.ConnectionErrors={}));var _n=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,_n.prototype)}};G.ConnectionError=_n;var lu;(function(t){function e(n){let r=n;return r&&Ie.func(r.cancelUndispatched)}t.is=e})(lu=G.ConnectionStrategy||(G.ConnectionStrategy={}));var ls;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new as.CancellationTokenSource}});function e(n){let r=n;return r&&Ie.func(r.createCancellationTokenSource)}t.is=e})(ls=G.CancellationReceiverStrategy||(G.CancellationReceiverStrategy={}));var ds;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(gr.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Ie.func(r.sendCancellation)&&Ie.func(r.cleanup)}t.is=e})(ds=G.CancellationSenderStrategy||(G.CancellationSenderStrategy={}));var fs;(function(t){t.Message=Object.freeze({receiver:ls.Message,sender:ds.Message});function e(n){let r=n;return r&&ls.is(r.receiver)&&ds.is(r.sender)}t.is=e})(fs=G.CancellationStrategy||(G.CancellationStrategy={}));var vg;(function(t){function e(n){let r=n;return r&&(fs.is(r.cancellationStrategy)||lu.is(r.connectionStrategy))}t.is=e})(vg=G.ConnectionOptions||(G.ConnectionOptions={}));var _t;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(_t||(_t={}));function yg(t,e,n,r){let i=n!==void 0?n:G.NullLogger,a=0,c=0,f=0,d="2.0",y,R=Object.create(null),b,w=Object.create(null),S=new Map,O,N=new au.LinkedMap,H=Object.create(null),I=Object.create(null),k=Se.Off,F=bt.Text,q,U=_t.New,Te=new pr.Emitter,qe=new pr.Emitter,Oe=new pr.Emitter,ve=new pr.Emitter,xe=new pr.Emitter,Fe=r&&r.cancellationStrategy?r.cancellationStrategy:fs.Message;function Qe(C){if(C===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+C.toString()}function Be(C){return C===null?"res-unknown-"+(++f).toString():"res-"+C.toString()}function Ze(){return"not-"+(++c).toString()}function Ge(C,p){B.isRequestMessage(p)?C.set(Qe(p.id),p):B.isResponseMessage(p)?C.set(Be(p.id),p):C.set(Ze(),p)}function st(C){}function de(){return U===_t.Listening}function yt(){return U===_t.Closed}function ke(){return U===_t.Disposed}function rt(){(U===_t.New||U===_t.Listening)&&(U=_t.Closed,qe.fire(void 0))}function ot(C){Te.fire([C,void 0,void 0])}function Rt(C){Te.fire(C)}t.onClose(rt),t.onError(ot),e.onClose(rt),e.onError(Rt);function Gt(){O||N.size===0||(O=ou.default().timer.setImmediate(()=>{O=void 0,Xt()}))}function Xt(){if(N.size===0)return;let C=N.shift();try{B.isRequestMessage(C)?Nt(C):B.isNotificationMessage(C)?Et(C):B.isResponseMessage(C)?Dt(C):It(C)}finally{Gt()}}let Ft=C=>{try{if(B.isNotificationMessage(C)&&C.method===gr.type.method){let p=Qe(C.params.id),l=N.get(p);if(B.isRequestMessage(l)){let g=r==null?void 0:r.connectionStrategy,_=g&&g.cancelUndispatched?g.cancelUndispatched(l,st):st(l);if(_&&(_.error!==void 0||_.result!==void 0)){N.delete(p),_.id=l.id,at(_,C.method,Date.now()),e.write(_);return}}}Ge(N,C)}finally{Gt()}};function Nt(C){if(ke())return;function p(T,x,K){let X={jsonrpc:d,id:C.id};T instanceof B.ResponseError?X.error=T.toJson():X.result=T===void 0?null:T,at(X,x,K),e.write(X)}function l(T,x,K){let X={jsonrpc:d,id:C.id,error:T.toJson()};at(X,x,K),e.write(X)}function g(T,x,K){T===void 0&&(T=null);let X={jsonrpc:d,id:C.id,result:T};at(X,x,K),e.write(X)}Jt(C);let _=R[C.method],s,o;_&&(s=_.type,o=_.handler);let v=Date.now();if(o||y){let T=String(C.id),x=Fe.receiver.createCancellationTokenSource(T);I[T]=x;try{let K;if(o)if(C.params===void 0){if(s!==void 0&&s.numberOfParams!==0){l(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${C.method} defines ${s.numberOfParams} params but recevied none.`),C.method,v);return}K=o(x.token)}else if(Array.isArray(C.params)){if(s!==void 0&&s.parameterStructures===B.ParameterStructures.byName){l(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${C.method} defines parameters by name but received parameters by position`),C.method,v);return}K=o(...C.params,x.token)}else{if(s!==void 0&&s.parameterStructures===B.ParameterStructures.byPosition){l(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${C.method} defines parameters by position but received parameters by name`),C.method,v);return}K=o(C.params,x.token)}else y&&(K=y(C.method,C.params,x.token));let X=K;K?X.then?X.then(se=>{delete I[T],p(se,C.method,v)},se=>{delete I[T],se instanceof B.ResponseError?l(se,C.method,v):se&&Ie.string(se.message)?l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed with message: ${se.message}`),C.method,v):l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed unexpectedly without providing any details.`),C.method,v)}):(delete I[T],p(K,C.method,v)):(delete I[T],g(K,C.method,v))}catch(K){delete I[T],K instanceof B.ResponseError?p(K,C.method,v):K&&Ie.string(K.message)?l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed with message: ${K.message}`),C.method,v):l(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${C.method} failed unexpectedly without providing any details.`),C.method,v)}}else l(new B.ResponseError(B.ErrorCodes.MethodNotFound,`Unhandled method ${C.method}`),C.method,v)}function Dt(C){if(!ke())if(C.id===null)C.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(C.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let p=String(C.id),l=H[p];if(un(C,l),l){delete H[p];try{if(C.error){let g=C.error;l.reject(new B.ResponseError(g.code,g.message,g.data))}else if(C.result!==void 0)l.resolve(C.result);else throw new Error("Should never happen.")}catch(g){g.message?i.error(`Response handler '${l.method}' failed with message: ${g.message}`):i.error(`Response handler '${l.method}' failed unexpectedly.`)}}}}function Et(C){if(ke())return;let p,l;if(C.method===gr.type.method)l=g=>{let _=g.id,s=I[String(_)];s&&s.cancel()};else{let g=w[C.method];g&&(l=g.handler,p=g.type)}if(l||b)try{ct(C),l?C.params===void 0?(p!==void 0&&p.numberOfParams!==0&&p.parameterStructures!==B.ParameterStructures.byName&&i.error(`Notification ${C.method} defines ${p.numberOfParams} params but recevied none.`),l()):Array.isArray(C.params)?(p!==void 0&&(p.parameterStructures===B.ParameterStructures.byName&&i.error(`Notification ${C.method} defines parameters by name but received parameters by position`),p.numberOfParams!==C.params.length&&i.error(`Notification ${C.method} defines ${p.numberOfParams} params but received ${C.params.length} argumennts`)),l(...C.params)):(p!==void 0&&p.parameterStructures===B.ParameterStructures.byPosition&&i.error(`Notification ${C.method} defines parameters by position but received parameters by name`),l(C.params)):b&&b(C.method,C.params)}catch(g){g.message?i.error(`Notification handler '${C.method}' failed with message: ${g.message}`):i.error(`Notification handler '${C.method}' failed unexpectedly.`)}else Oe.fire(C)}function It(C){if(!C){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(C,null,4)}`);let p=C;if(Ie.string(p.id)||Ie.number(p.id)){let l=String(p.id),g=H[l];g&&g.reject(new Error("The received response has neither a result nor an error property."))}}function Vt(C){if(!(k===Se.Off||!q))if(F===bt.Text){let p;k===Se.Verbose&&C.params&&(p=`Params: ${JSON.stringify(C.params,null,4)}

`),q.log(`Sending request '${C.method} - (${C.id})'.`,p)}else Re("send-request",C)}function cn(C){if(!(k===Se.Off||!q))if(F===bt.Text){let p;k===Se.Verbose&&(C.params?p=`Params: ${JSON.stringify(C.params,null,4)}

`:p=`No parameters provided.

`),q.log(`Sending notification '${C.method}'.`,p)}else Re("send-notification",C)}function at(C,p,l){if(!(k===Se.Off||!q))if(F===bt.Text){let g;k===Se.Verbose&&(C.error&&C.error.data?g=`Error data: ${JSON.stringify(C.error.data,null,4)}

`:C.result?g=`Result: ${JSON.stringify(C.result,null,4)}

`:C.error===void 0&&(g=`No result returned.

`)),q.log(`Sending response '${p} - (${C.id})'. Processing request took ${Date.now()-l}ms`,g)}else Re("send-response",C)}function Jt(C){if(!(k===Se.Off||!q))if(F===bt.Text){let p;k===Se.Verbose&&C.params&&(p=`Params: ${JSON.stringify(C.params,null,4)}

`),q.log(`Received request '${C.method} - (${C.id})'.`,p)}else Re("receive-request",C)}function ct(C){if(!(k===Se.Off||!q||C.method===us.type.method))if(F===bt.Text){let p;k===Se.Verbose&&(C.params?p=`Params: ${JSON.stringify(C.params,null,4)}

`:p=`No parameters provided.

`),q.log(`Received notification '${C.method}'.`,p)}else Re("receive-notification",C)}function un(C,p){if(!(k===Se.Off||!q))if(F===bt.Text){let l;if(k===Se.Verbose&&(C.error&&C.error.data?l=`Error data: ${JSON.stringify(C.error.data,null,4)}

`:C.result?l=`Result: ${JSON.stringify(C.result,null,4)}

`:C.error===void 0&&(l=`No result returned.

`)),p){let g=C.error?` Request failed: ${C.error.message} (${C.error.code}).`:"";q.log(`Received response '${p.method} - (${C.id})' in ${Date.now()-p.timerStart}ms.${g}`,l)}else q.log(`Received response ${C.id} without active response promise.`,l)}else Re("receive-response",C)}function Re(C,p){if(!q||k===Se.Off)return;let l={isLSPMessage:!0,type:C,message:p,timestamp:Date.now()};q.log(l)}function et(){if(yt())throw new _n(Qr.Closed,"Connection is closed.");if(ke())throw new _n(Qr.Disposed,"Connection is disposed.")}function Yt(){if(de())throw new _n(Qr.AlreadyListening,"Connection is already listening")}function ln(){if(!de())throw new Error("Call listen() first.")}function ut(C){return C===void 0?null:C}function Qt(C){if(C!==null)return C}function Lt(C){return C!=null&&!Array.isArray(C)&&typeof C=="object"}function lt(C,p){switch(C){case B.ParameterStructures.auto:return Lt(p)?Qt(p):[ut(p)];case B.ParameterStructures.byName:if(!Lt(p))throw new Error("Recevied parameters by name but param is not an object literal.");return Qt(p);case B.ParameterStructures.byPosition:return[ut(p)];default:throw new Error(`Unknown parameter structure ${C.toString()}`)}}function Mt(C,p){let l,g=C.numberOfParams;switch(g){case 0:l=void 0;break;case 1:l=lt(C.parameterStructures,p[0]);break;default:l=[];for(let _=0;_<p.length&&_<g;_++)l.push(ut(p[_]));if(p.length<g)for(let _=p.length;_<g;_++)l.push(null);break}return l}let dt={sendNotification:(C,...p)=>{et();let l,g;if(Ie.string(C)){l=C;let s=p[0],o=0,v=B.ParameterStructures.auto;B.ParameterStructures.is(s)&&(o=1,v=s);let T=p.length,x=T-o;switch(x){case 0:g=void 0;break;case 1:g=lt(v,p[o]);break;default:if(v===B.ParameterStructures.byName)throw new Error(`Recevied ${x} parameters for 'by Name' notification parameter structure.`);g=p.slice(o,T).map(K=>ut(K));break}}else{let s=p;l=C.method,g=Mt(C,s)}let _={jsonrpc:d,method:l,params:g};cn(_),e.write(_)},onNotification:(C,p)=>{et();let l;return Ie.func(C)?b=C:p&&(Ie.string(C)?(l=C,w[C]={type:void 0,handler:p}):(l=C.method,w[C.method]={type:C,handler:p})),{dispose:()=>{l!==void 0?delete w[l]:b=void 0}}},onProgress:(C,p,l)=>{if(S.has(p))throw new Error(`Progress handler for token ${p} already registered`);return S.set(p,l),{dispose:()=>{S.delete(p)}}},sendProgress:(C,p,l)=>{dt.sendNotification(Yr.type,{token:p,value:l})},onUnhandledProgress:ve.event,sendRequest:(C,...p)=>{et(),ln();let l,g,_;if(Ie.string(C)){l=C;let T=p[0],x=p[p.length-1],K=0,X=B.ParameterStructures.auto;B.ParameterStructures.is(T)&&(K=1,X=T);let se=p.length;as.CancellationToken.is(x)&&(se=se-1,_=x);let Ce=se-K;switch(Ce){case 0:g=void 0;break;case 1:g=lt(X,p[K]);break;default:if(X===B.ParameterStructures.byName)throw new Error(`Recevied ${Ce} parameters for 'by Name' request parameter structure.`);g=p.slice(K,se).map(be=>ut(be));break}}else{let T=p;l=C.method,g=Mt(C,T);let x=C.numberOfParams;_=as.CancellationToken.is(T[x])?T[x]:void 0}let s=a++,o;return _&&(o=_.onCancellationRequested(()=>{Fe.sender.sendCancellation(dt,s)})),new Promise((T,x)=>{let K={jsonrpc:d,id:s,method:l,params:g},X=be=>{T(be),Fe.sender.cleanup(s),o==null||o.dispose()},se=be=>{x(be),Fe.sender.cleanup(s),o==null||o.dispose()},Ce={method:l,timerStart:Date.now(),resolve:X,reject:se};Vt(K);try{e.write(K)}catch(be){Ce.reject(new B.ResponseError(B.ErrorCodes.MessageWriteError,be.message?be.message:"Unknown reason")),Ce=null}Ce&&(H[String(s)]=Ce)})},onRequest:(C,p)=>{et();let l=null;return cs.is(C)?(l=void 0,y=C):Ie.string(C)?(l=null,p!==void 0&&(l=C,R[C]={handler:p,type:void 0})):p!==void 0&&(l=C.method,R[C.method]={type:C,handler:p}),{dispose:()=>{l!==null&&(l!==void 0?delete R[l]:y=void 0)}}},trace:(C,p,l)=>{let g=!1,_=bt.Text;l!==void 0&&(Ie.boolean(l)?g=l:(g=l.sendNotification||!1,_=l.traceFormat||bt.Text)),k=C,F=_,k===Se.Off?q=void 0:q=p,g&&!yt()&&!ke()&&dt.sendNotification(uu.type,{value:Se.toString(C)})},onError:Te.event,onClose:qe.event,onUnhandledNotification:Oe.event,onDispose:xe.event,end:()=>{e.end()},dispose:()=>{if(ke())return;U=_t.Disposed,xe.fire(void 0);let C=new Error("Connection got disposed.");Object.keys(H).forEach(p=>{H[p].reject(C)}),H=Object.create(null),I=Object.create(null),N=new au.LinkedMap,Ie.func(e.dispose)&&e.dispose(),Ie.func(t.dispose)&&t.dispose()},listen:()=>{et(),Yt(),U=_t.Listening,t.listen(Ft)},inspect:()=>{ou.default().console.log("inspect")}};return dt.onNotification(us.type,C=>{k===Se.Off||!q||q.log(C.message,k===Se.Verbose?C.verbose:void 0)}),dt.onNotification(Yr.type,C=>{let p=S.get(C.token);p?p(C.value):ve.fire(C)}),dt}G.createMessageConnection=yg});var gs=D(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.CancellationSenderStrategy=E.CancellationReceiverStrategy=E.ConnectionError=E.ConnectionErrors=E.LogTraceNotification=E.SetTraceNotification=E.TraceFormat=E.Trace=E.ProgressType=E.createMessageConnection=E.NullLogger=E.ConnectionOptions=E.ConnectionStrategy=E.WriteableStreamMessageWriter=E.AbstractMessageWriter=E.MessageWriter=E.ReadableStreamMessageReader=E.AbstractMessageReader=E.MessageReader=E.CancellationToken=E.CancellationTokenSource=E.Emitter=E.Event=E.Disposable=E.ParameterStructures=E.NotificationType9=E.NotificationType8=E.NotificationType7=E.NotificationType6=E.NotificationType5=E.NotificationType4=E.NotificationType3=E.NotificationType2=E.NotificationType1=E.NotificationType0=E.NotificationType=E.ErrorCodes=E.ResponseError=E.RequestType9=E.RequestType8=E.RequestType7=E.RequestType6=E.RequestType5=E.RequestType4=E.RequestType3=E.RequestType2=E.RequestType1=E.RequestType0=E.RequestType=E.RAL=void 0;E.CancellationStrategy=void 0;var fe=Ji();Object.defineProperty(E,"RequestType",{enumerable:!0,get:function(){return fe.RequestType}});Object.defineProperty(E,"RequestType0",{enumerable:!0,get:function(){return fe.RequestType0}});Object.defineProperty(E,"RequestType1",{enumerable:!0,get:function(){return fe.RequestType1}});Object.defineProperty(E,"RequestType2",{enumerable:!0,get:function(){return fe.RequestType2}});Object.defineProperty(E,"RequestType3",{enumerable:!0,get:function(){return fe.RequestType3}});Object.defineProperty(E,"RequestType4",{enumerable:!0,get:function(){return fe.RequestType4}});Object.defineProperty(E,"RequestType5",{enumerable:!0,get:function(){return fe.RequestType5}});Object.defineProperty(E,"RequestType6",{enumerable:!0,get:function(){return fe.RequestType6}});Object.defineProperty(E,"RequestType7",{enumerable:!0,get:function(){return fe.RequestType7}});Object.defineProperty(E,"RequestType8",{enumerable:!0,get:function(){return fe.RequestType8}});Object.defineProperty(E,"RequestType9",{enumerable:!0,get:function(){return fe.RequestType9}});Object.defineProperty(E,"ResponseError",{enumerable:!0,get:function(){return fe.ResponseError}});Object.defineProperty(E,"ErrorCodes",{enumerable:!0,get:function(){return fe.ErrorCodes}});Object.defineProperty(E,"NotificationType",{enumerable:!0,get:function(){return fe.NotificationType}});Object.defineProperty(E,"NotificationType0",{enumerable:!0,get:function(){return fe.NotificationType0}});Object.defineProperty(E,"NotificationType1",{enumerable:!0,get:function(){return fe.NotificationType1}});Object.defineProperty(E,"NotificationType2",{enumerable:!0,get:function(){return fe.NotificationType2}});Object.defineProperty(E,"NotificationType3",{enumerable:!0,get:function(){return fe.NotificationType3}});Object.defineProperty(E,"NotificationType4",{enumerable:!0,get:function(){return fe.NotificationType4}});Object.defineProperty(E,"NotificationType5",{enumerable:!0,get:function(){return fe.NotificationType5}});Object.defineProperty(E,"NotificationType6",{enumerable:!0,get:function(){return fe.NotificationType6}});Object.defineProperty(E,"NotificationType7",{enumerable:!0,get:function(){return fe.NotificationType7}});Object.defineProperty(E,"NotificationType8",{enumerable:!0,get:function(){return fe.NotificationType8}});Object.defineProperty(E,"NotificationType9",{enumerable:!0,get:function(){return fe.NotificationType9}});Object.defineProperty(E,"ParameterStructures",{enumerable:!0,get:function(){return fe.ParameterStructures}});var Rg=Gi();Object.defineProperty(E,"Disposable",{enumerable:!0,get:function(){return Rg.Disposable}});var fu=Ln();Object.defineProperty(E,"Event",{enumerable:!0,get:function(){return fu.Event}});Object.defineProperty(E,"Emitter",{enumerable:!0,get:function(){return fu.Emitter}});var hu=es();Object.defineProperty(E,"CancellationTokenSource",{enumerable:!0,get:function(){return hu.CancellationTokenSource}});Object.defineProperty(E,"CancellationToken",{enumerable:!0,get:function(){return hu.CancellationToken}});var hs=Jc();Object.defineProperty(E,"MessageReader",{enumerable:!0,get:function(){return hs.MessageReader}});Object.defineProperty(E,"AbstractMessageReader",{enumerable:!0,get:function(){return hs.AbstractMessageReader}});Object.defineProperty(E,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return hs.ReadableStreamMessageReader}});var ps=ru();Object.defineProperty(E,"MessageWriter",{enumerable:!0,get:function(){return ps.MessageWriter}});Object.defineProperty(E,"AbstractMessageWriter",{enumerable:!0,get:function(){return ps.AbstractMessageWriter}});Object.defineProperty(E,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return ps.WriteableStreamMessageWriter}});var tt=du();Object.defineProperty(E,"ConnectionStrategy",{enumerable:!0,get:function(){return tt.ConnectionStrategy}});Object.defineProperty(E,"ConnectionOptions",{enumerable:!0,get:function(){return tt.ConnectionOptions}});Object.defineProperty(E,"NullLogger",{enumerable:!0,get:function(){return tt.NullLogger}});Object.defineProperty(E,"createMessageConnection",{enumerable:!0,get:function(){return tt.createMessageConnection}});Object.defineProperty(E,"ProgressType",{enumerable:!0,get:function(){return tt.ProgressType}});Object.defineProperty(E,"Trace",{enumerable:!0,get:function(){return tt.Trace}});Object.defineProperty(E,"TraceFormat",{enumerable:!0,get:function(){return tt.TraceFormat}});Object.defineProperty(E,"SetTraceNotification",{enumerable:!0,get:function(){return tt.SetTraceNotification}});Object.defineProperty(E,"LogTraceNotification",{enumerable:!0,get:function(){return tt.LogTraceNotification}});Object.defineProperty(E,"ConnectionErrors",{enumerable:!0,get:function(){return tt.ConnectionErrors}});Object.defineProperty(E,"ConnectionError",{enumerable:!0,get:function(){return tt.ConnectionError}});Object.defineProperty(E,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return tt.CancellationReceiverStrategy}});Object.defineProperty(E,"CancellationSenderStrategy",{enumerable:!0,get:function(){return tt.CancellationSenderStrategy}});Object.defineProperty(E,"CancellationStrategy",{enumerable:!0,get:function(){return tt.CancellationStrategy}});var Cg=$t();E.RAL=Cg.default});var Kn=D(re=>{"use strict";var bg=re&&re.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),_g=re&&re.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bg(e,t,n)};Object.defineProperty(re,"__esModule",{value:!0});re.createMessageConnection=re.createServerSocketTransport=re.createClientSocketTransport=re.createServerPipeTransport=re.createClientPipeTransport=re.generateRandomPipeName=re.StreamMessageWriter=re.StreamMessageReader=re.SocketMessageWriter=re.SocketMessageReader=re.IPCMessageWriter=re.IPCMessageReader=void 0;var An=Cc();An.default.install();var qt=gs(),pu=require("path"),wg=require("os"),Tg=require("crypto"),Zr=require("net");_g(gs(),re);var gu=class extends qt.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),qt.Disposable.create(()=>this.process.off("message",e))}};re.IPCMessageReader=gu;var mu=class extends qt.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};re.IPCMessageWriter=mu;var jn=class extends qt.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(An.default().stream.asReadableStream(e),n)}};re.SocketMessageReader=jn;var $n=class extends qt.WriteableStreamMessageWriter{constructor(e,n){super(An.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};re.SocketMessageWriter=$n;var ms=class extends qt.ReadableStreamMessageReader{constructor(e,n){super(An.default().stream.asReadableStream(e),n)}};re.StreamMessageReader=ms;var vs=class extends qt.WriteableStreamMessageWriter{constructor(e,n){super(An.default().stream.asWritableStream(e),n)}};re.StreamMessageWriter=vs;var vu=process.env.XDG_RUNTIME_DIR,Sg=new Map([["linux",107],["darwin",103]]);function Pg(){let t=Tg.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;vu?e=pu.join(vu,`vscode-ipc-${t}.sock`):e=pu.join(wg.tmpdir(),`vscode-${t}.sock`);let n=Sg.get(process.platform);return n!==void 0&&e.length>=n&&An.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}re.generateRandomPipeName=Pg;function Dg(t,e="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let c=Zr.createServer(f=>{c.close(),n([new jn(f,e),new $n(f,e)])});c.on("error",a),c.listen(t,()=>{c.removeListener("error",a),i({onConnected:()=>r})})})}re.createClientPipeTransport=Dg;function Eg(t,e="utf-8"){let n=Zr.createConnection(t);return[new jn(n,e),new $n(n,e)]}re.createServerPipeTransport=Eg;function qg(t,e="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let c=Zr.createServer(f=>{c.close(),n([new jn(f,e),new $n(f,e)])});c.on("error",a),c.listen(t,"127.0.0.1",()=>{c.removeListener("error",a),i({onConnected:()=>r})})})}re.createClientSocketTransport=qg;function Og(t,e="utf-8"){let n=Zr.createConnection(t,"127.0.0.1");return[new jn(n,e),new $n(n,e)]}re.createServerSocketTransport=Og;function kg(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function xg(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Fg(t,e,n,r){n||(n=qt.NullLogger);let i=kg(t)?new ms(t):t,a=xg(e)?new vs(e):e;return qt.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),qt.createMessageConnection(i,a,n,r)}re.createMessageConnection=Fg});var ys=D((sb,yu)=>{"use strict";yu.exports=Kn()});var Cu=D((Ru,ei)=>{(function(t){if(typeof ei=="object"&&typeof ei.exports=="object"){var e=t(require,Ru);e!==void 0&&(ei.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(l){l.MIN_VALUE=-2147483648,l.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(l){l.MIN_VALUE=0,l.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(l){function g(s,o){return s===Number.MAX_VALUE&&(s=r.MAX_VALUE),o===Number.MAX_VALUE&&(o=r.MAX_VALUE),{line:s,character:o}}l.create=g;function _(s){var o=s;return p.objectLiteral(o)&&p.uinteger(o.line)&&p.uinteger(o.character)}l.is=_})(i=e.Position||(e.Position={}));var a;(function(l){function g(s,o,v,T){if(p.uinteger(s)&&p.uinteger(o)&&p.uinteger(v)&&p.uinteger(T))return{start:i.create(s,o),end:i.create(v,T)};if(i.is(s)&&i.is(o))return{start:s,end:o};throw new Error("Range#create called with invalid arguments["+s+", "+o+", "+v+", "+T+"]")}l.create=g;function _(s){var o=s;return p.objectLiteral(o)&&i.is(o.start)&&i.is(o.end)}l.is=_})(a=e.Range||(e.Range={}));var c;(function(l){function g(s,o){return{uri:s,range:o}}l.create=g;function _(s){var o=s;return p.defined(o)&&a.is(o.range)&&(p.string(o.uri)||p.undefined(o.uri))}l.is=_})(c=e.Location||(e.Location={}));var f;(function(l){function g(s,o,v,T){return{targetUri:s,targetRange:o,targetSelectionRange:v,originSelectionRange:T}}l.create=g;function _(s){var o=s;return p.defined(o)&&a.is(o.targetRange)&&p.string(o.targetUri)&&(a.is(o.targetSelectionRange)||p.undefined(o.targetSelectionRange))&&(a.is(o.originSelectionRange)||p.undefined(o.originSelectionRange))}l.is=_})(f=e.LocationLink||(e.LocationLink={}));var d;(function(l){function g(s,o,v,T){return{red:s,green:o,blue:v,alpha:T}}l.create=g;function _(s){var o=s;return p.numberRange(o.red,0,1)&&p.numberRange(o.green,0,1)&&p.numberRange(o.blue,0,1)&&p.numberRange(o.alpha,0,1)}l.is=_})(d=e.Color||(e.Color={}));var y;(function(l){function g(s,o){return{range:s,color:o}}l.create=g;function _(s){var o=s;return a.is(o.range)&&d.is(o.color)}l.is=_})(y=e.ColorInformation||(e.ColorInformation={}));var R;(function(l){function g(s,o,v){return{label:s,textEdit:o,additionalTextEdits:v}}l.create=g;function _(s){var o=s;return p.string(o.label)&&(p.undefined(o.textEdit)||F.is(o))&&(p.undefined(o.additionalTextEdits)||p.typedArray(o.additionalTextEdits,F.is))}l.is=_})(R=e.ColorPresentation||(e.ColorPresentation={}));var b;(function(l){l.Comment="comment",l.Imports="imports",l.Region="region"})(b=e.FoldingRangeKind||(e.FoldingRangeKind={}));var w;(function(l){function g(s,o,v,T,x){var K={startLine:s,endLine:o};return p.defined(v)&&(K.startCharacter=v),p.defined(T)&&(K.endCharacter=T),p.defined(x)&&(K.kind=x),K}l.create=g;function _(s){var o=s;return p.uinteger(o.startLine)&&p.uinteger(o.startLine)&&(p.undefined(o.startCharacter)||p.uinteger(o.startCharacter))&&(p.undefined(o.endCharacter)||p.uinteger(o.endCharacter))&&(p.undefined(o.kind)||p.string(o.kind))}l.is=_})(w=e.FoldingRange||(e.FoldingRange={}));var S;(function(l){function g(s,o){return{location:s,message:o}}l.create=g;function _(s){var o=s;return p.defined(o)&&c.is(o.location)&&p.string(o.message)}l.is=_})(S=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var O;(function(l){l.Error=1,l.Warning=2,l.Information=3,l.Hint=4})(O=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var N;(function(l){l.Unnecessary=1,l.Deprecated=2})(N=e.DiagnosticTag||(e.DiagnosticTag={}));var H;(function(l){function g(_){var s=_;return s!=null&&p.string(s.href)}l.is=g})(H=e.CodeDescription||(e.CodeDescription={}));var I;(function(l){function g(s,o,v,T,x,K){var X={range:s,message:o};return p.defined(v)&&(X.severity=v),p.defined(T)&&(X.code=T),p.defined(x)&&(X.source=x),p.defined(K)&&(X.relatedInformation=K),X}l.create=g;function _(s){var o,v=s;return p.defined(v)&&a.is(v.range)&&p.string(v.message)&&(p.number(v.severity)||p.undefined(v.severity))&&(p.integer(v.code)||p.string(v.code)||p.undefined(v.code))&&(p.undefined(v.codeDescription)||p.string((o=v.codeDescription)===null||o===void 0?void 0:o.href))&&(p.string(v.source)||p.undefined(v.source))&&(p.undefined(v.relatedInformation)||p.typedArray(v.relatedInformation,S.is))}l.is=_})(I=e.Diagnostic||(e.Diagnostic={}));var k;(function(l){function g(s,o){for(var v=[],T=2;T<arguments.length;T++)v[T-2]=arguments[T];var x={title:s,command:o};return p.defined(v)&&v.length>0&&(x.arguments=v),x}l.create=g;function _(s){var o=s;return p.defined(o)&&p.string(o.title)&&p.string(o.command)}l.is=_})(k=e.Command||(e.Command={}));var F;(function(l){function g(v,T){return{range:v,newText:T}}l.replace=g;function _(v,T){return{range:{start:v,end:v},newText:T}}l.insert=_;function s(v){return{range:v,newText:""}}l.del=s;function o(v){var T=v;return p.objectLiteral(T)&&p.string(T.newText)&&a.is(T.range)}l.is=o})(F=e.TextEdit||(e.TextEdit={}));var q;(function(l){function g(s,o,v){var T={label:s};return o!==void 0&&(T.needsConfirmation=o),v!==void 0&&(T.description=v),T}l.create=g;function _(s){var o=s;return o!==void 0&&p.objectLiteral(o)&&p.string(o.label)&&(p.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(p.string(o.description)||o.description===void 0)}l.is=_})(q=e.ChangeAnnotation||(e.ChangeAnnotation={}));var U;(function(l){function g(_){var s=_;return typeof s=="string"}l.is=g})(U=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var Te;(function(l){function g(v,T,x){return{range:v,newText:T,annotationId:x}}l.replace=g;function _(v,T,x){return{range:{start:v,end:v},newText:T,annotationId:x}}l.insert=_;function s(v,T){return{range:v,newText:"",annotationId:T}}l.del=s;function o(v){var T=v;return F.is(T)&&(q.is(T.annotationId)||U.is(T.annotationId))}l.is=o})(Te=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var qe;(function(l){function g(s,o){return{textDocument:s,edits:o}}l.create=g;function _(s){var o=s;return p.defined(o)&&de.is(o.textDocument)&&Array.isArray(o.edits)}l.is=_})(qe=e.TextDocumentEdit||(e.TextDocumentEdit={}));var Oe;(function(l){function g(s,o,v){var T={kind:"create",uri:s};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(T.options=o),v!==void 0&&(T.annotationId=v),T}l.create=g;function _(s){var o=s;return o&&o.kind==="create"&&p.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||p.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||p.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||U.is(o.annotationId))}l.is=_})(Oe=e.CreateFile||(e.CreateFile={}));var ve;(function(l){function g(s,o,v,T){var x={kind:"rename",oldUri:s,newUri:o};return v!==void 0&&(v.overwrite!==void 0||v.ignoreIfExists!==void 0)&&(x.options=v),T!==void 0&&(x.annotationId=T),x}l.create=g;function _(s){var o=s;return o&&o.kind==="rename"&&p.string(o.oldUri)&&p.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||p.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||p.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||U.is(o.annotationId))}l.is=_})(ve=e.RenameFile||(e.RenameFile={}));var xe;(function(l){function g(s,o,v){var T={kind:"delete",uri:s};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(T.options=o),v!==void 0&&(T.annotationId=v),T}l.create=g;function _(s){var o=s;return o&&o.kind==="delete"&&p.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||p.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||p.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||U.is(o.annotationId))}l.is=_})(xe=e.DeleteFile||(e.DeleteFile={}));var Fe;(function(l){function g(_){var s=_;return s&&(s.changes!==void 0||s.documentChanges!==void 0)&&(s.documentChanges===void 0||s.documentChanges.every(function(o){return p.string(o.kind)?Oe.is(o)||ve.is(o)||xe.is(o):qe.is(o)}))}l.is=g})(Fe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Qe=function(){function l(g,_){this.edits=g,this.changeAnnotations=_}return l.prototype.insert=function(g,_,s){var o,v;if(s===void 0?o=F.insert(g,_):U.is(s)?(v=s,o=Te.insert(g,_,s)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(s),o=Te.insert(g,_,v)),this.edits.push(o),v!==void 0)return v},l.prototype.replace=function(g,_,s){var o,v;if(s===void 0?o=F.replace(g,_):U.is(s)?(v=s,o=Te.replace(g,_,s)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(s),o=Te.replace(g,_,v)),this.edits.push(o),v!==void 0)return v},l.prototype.delete=function(g,_){var s,o;if(_===void 0?s=F.del(g):U.is(_)?(o=_,s=Te.del(g,_)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(_),s=Te.del(g,o)),this.edits.push(s),o!==void 0)return o},l.prototype.add=function(g){this.edits.push(g)},l.prototype.all=function(){return this.edits},l.prototype.clear=function(){this.edits.splice(0,this.edits.length)},l.prototype.assertChangeAnnotations=function(g){if(g===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},l}(),Be=function(){function l(g){this._annotations=g===void 0?Object.create(null):g,this._counter=0,this._size=0}return l.prototype.all=function(){return this._annotations},Object.defineProperty(l.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),l.prototype.manage=function(g,_){var s;if(U.is(g)?s=g:(s=this.nextId(),_=g),this._annotations[s]!==void 0)throw new Error("Id "+s+" is already in use.");if(_===void 0)throw new Error("No annotation provided for id "+s);return this._annotations[s]=_,this._size++,s},l.prototype.nextId=function(){return this._counter++,this._counter.toString()},l}(),Ze=function(){function l(g){var _=this;this._textEditChanges=Object.create(null),g!==void 0?(this._workspaceEdit=g,g.documentChanges?(this._changeAnnotations=new Be(g.changeAnnotations),g.changeAnnotations=this._changeAnnotations.all(),g.documentChanges.forEach(function(s){if(qe.is(s)){var o=new Qe(s.edits,_._changeAnnotations);_._textEditChanges[s.textDocument.uri]=o}})):g.changes&&Object.keys(g.changes).forEach(function(s){var o=new Qe(g.changes[s]);_._textEditChanges[s]=o})):this._workspaceEdit={}}return Object.defineProperty(l.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),l.prototype.getTextEditChange=function(g){if(de.is(g)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var _={uri:g.uri,version:g.version},s=this._textEditChanges[_.uri];if(!s){var o=[],v={textDocument:_,edits:o};this._workspaceEdit.documentChanges.push(v),s=new Qe(o,this._changeAnnotations),this._textEditChanges[_.uri]=s}return s}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var s=this._textEditChanges[g];if(!s){var o=[];this._workspaceEdit.changes[g]=o,s=new Qe(o),this._textEditChanges[g]=s}return s}},l.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Be,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},l.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},l.prototype.createFile=function(g,_,s){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;q.is(_)||U.is(_)?o=_:s=_;var v,T;if(o===void 0?v=Oe.create(g,s):(T=U.is(o)?o:this._changeAnnotations.manage(o),v=Oe.create(g,s,T)),this._workspaceEdit.documentChanges.push(v),T!==void 0)return T},l.prototype.renameFile=function(g,_,s,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;q.is(s)||U.is(s)?v=s:o=s;var T,x;if(v===void 0?T=ve.create(g,_,o):(x=U.is(v)?v:this._changeAnnotations.manage(v),T=ve.create(g,_,o,x)),this._workspaceEdit.documentChanges.push(T),x!==void 0)return x},l.prototype.deleteFile=function(g,_,s){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;q.is(_)||U.is(_)?o=_:s=_;var v,T;if(o===void 0?v=xe.create(g,s):(T=U.is(o)?o:this._changeAnnotations.manage(o),v=xe.create(g,s,T)),this._workspaceEdit.documentChanges.push(v),T!==void 0)return T},l}();e.WorkspaceChange=Ze;var Ge;(function(l){function g(s){return{uri:s}}l.create=g;function _(s){var o=s;return p.defined(o)&&p.string(o.uri)}l.is=_})(Ge=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var st;(function(l){function g(s,o){return{uri:s,version:o}}l.create=g;function _(s){var o=s;return p.defined(o)&&p.string(o.uri)&&p.integer(o.version)}l.is=_})(st=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var de;(function(l){function g(s,o){return{uri:s,version:o}}l.create=g;function _(s){var o=s;return p.defined(o)&&p.string(o.uri)&&(o.version===null||p.integer(o.version))}l.is=_})(de=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var yt;(function(l){function g(s,o,v,T){return{uri:s,languageId:o,version:v,text:T}}l.create=g;function _(s){var o=s;return p.defined(o)&&p.string(o.uri)&&p.string(o.languageId)&&p.integer(o.version)&&p.string(o.text)}l.is=_})(yt=e.TextDocumentItem||(e.TextDocumentItem={}));var ke;(function(l){l.PlainText="plaintext",l.Markdown="markdown"})(ke=e.MarkupKind||(e.MarkupKind={})),function(l){function g(_){var s=_;return s===l.PlainText||s===l.Markdown}l.is=g}(ke=e.MarkupKind||(e.MarkupKind={}));var rt;(function(l){function g(_){var s=_;return p.objectLiteral(_)&&ke.is(s.kind)&&p.string(s.value)}l.is=g})(rt=e.MarkupContent||(e.MarkupContent={}));var ot;(function(l){l.Text=1,l.Method=2,l.Function=3,l.Constructor=4,l.Field=5,l.Variable=6,l.Class=7,l.Interface=8,l.Module=9,l.Property=10,l.Unit=11,l.Value=12,l.Enum=13,l.Keyword=14,l.Snippet=15,l.Color=16,l.File=17,l.Reference=18,l.Folder=19,l.EnumMember=20,l.Constant=21,l.Struct=22,l.Event=23,l.Operator=24,l.TypeParameter=25})(ot=e.CompletionItemKind||(e.CompletionItemKind={}));var Rt;(function(l){l.PlainText=1,l.Snippet=2})(Rt=e.InsertTextFormat||(e.InsertTextFormat={}));var Gt;(function(l){l.Deprecated=1})(Gt=e.CompletionItemTag||(e.CompletionItemTag={}));var Xt;(function(l){function g(s,o,v){return{newText:s,insert:o,replace:v}}l.create=g;function _(s){var o=s;return o&&p.string(o.newText)&&a.is(o.insert)&&a.is(o.replace)}l.is=_})(Xt=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Ft;(function(l){l.asIs=1,l.adjustIndentation=2})(Ft=e.InsertTextMode||(e.InsertTextMode={}));var Nt;(function(l){function g(_){return{label:_}}l.create=g})(Nt=e.CompletionItem||(e.CompletionItem={}));var Dt;(function(l){function g(_,s){return{items:_||[],isIncomplete:!!s}}l.create=g})(Dt=e.CompletionList||(e.CompletionList={}));var Et;(function(l){function g(s){return s.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}l.fromPlainText=g;function _(s){var o=s;return p.string(o)||p.objectLiteral(o)&&p.string(o.language)&&p.string(o.value)}l.is=_})(Et=e.MarkedString||(e.MarkedString={}));var It;(function(l){function g(_){var s=_;return!!s&&p.objectLiteral(s)&&(rt.is(s.contents)||Et.is(s.contents)||p.typedArray(s.contents,Et.is))&&(_.range===void 0||a.is(_.range))}l.is=g})(It=e.Hover||(e.Hover={}));var Vt;(function(l){function g(_,s){return s?{label:_,documentation:s}:{label:_}}l.create=g})(Vt=e.ParameterInformation||(e.ParameterInformation={}));var cn;(function(l){function g(_,s){for(var o=[],v=2;v<arguments.length;v++)o[v-2]=arguments[v];var T={label:_};return p.defined(s)&&(T.documentation=s),p.defined(o)?T.parameters=o:T.parameters=[],T}l.create=g})(cn=e.SignatureInformation||(e.SignatureInformation={}));var at;(function(l){l.Text=1,l.Read=2,l.Write=3})(at=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Jt;(function(l){function g(_,s){var o={range:_};return p.number(s)&&(o.kind=s),o}l.create=g})(Jt=e.DocumentHighlight||(e.DocumentHighlight={}));var ct;(function(l){l.File=1,l.Module=2,l.Namespace=3,l.Package=4,l.Class=5,l.Method=6,l.Property=7,l.Field=8,l.Constructor=9,l.Enum=10,l.Interface=11,l.Function=12,l.Variable=13,l.Constant=14,l.String=15,l.Number=16,l.Boolean=17,l.Array=18,l.Object=19,l.Key=20,l.Null=21,l.EnumMember=22,l.Struct=23,l.Event=24,l.Operator=25,l.TypeParameter=26})(ct=e.SymbolKind||(e.SymbolKind={}));var un;(function(l){l.Deprecated=1})(un=e.SymbolTag||(e.SymbolTag={}));var Re;(function(l){function g(_,s,o,v,T){var x={name:_,kind:s,location:{uri:v,range:o}};return T&&(x.containerName=T),x}l.create=g})(Re=e.SymbolInformation||(e.SymbolInformation={}));var et;(function(l){function g(s,o,v,T,x,K){var X={name:s,detail:o,kind:v,range:T,selectionRange:x};return K!==void 0&&(X.children=K),X}l.create=g;function _(s){var o=s;return o&&p.string(o.name)&&p.number(o.kind)&&a.is(o.range)&&a.is(o.selectionRange)&&(o.detail===void 0||p.string(o.detail))&&(o.deprecated===void 0||p.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}l.is=_})(et=e.DocumentSymbol||(e.DocumentSymbol={}));var Yt;(function(l){l.Empty="",l.QuickFix="quickfix",l.Refactor="refactor",l.RefactorExtract="refactor.extract",l.RefactorInline="refactor.inline",l.RefactorRewrite="refactor.rewrite",l.Source="source",l.SourceOrganizeImports="source.organizeImports",l.SourceFixAll="source.fixAll"})(Yt=e.CodeActionKind||(e.CodeActionKind={}));var ln;(function(l){function g(s,o){var v={diagnostics:s};return o!=null&&(v.only=o),v}l.create=g;function _(s){var o=s;return p.defined(o)&&p.typedArray(o.diagnostics,I.is)&&(o.only===void 0||p.typedArray(o.only,p.string))}l.is=_})(ln=e.CodeActionContext||(e.CodeActionContext={}));var ut;(function(l){function g(s,o,v){var T={title:s},x=!0;return typeof o=="string"?(x=!1,T.kind=o):k.is(o)?T.command=o:T.edit=o,x&&v!==void 0&&(T.kind=v),T}l.create=g;function _(s){var o=s;return o&&p.string(o.title)&&(o.diagnostics===void 0||p.typedArray(o.diagnostics,I.is))&&(o.kind===void 0||p.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||k.is(o.command))&&(o.isPreferred===void 0||p.boolean(o.isPreferred))&&(o.edit===void 0||Fe.is(o.edit))}l.is=_})(ut=e.CodeAction||(e.CodeAction={}));var Qt;(function(l){function g(s,o){var v={range:s};return p.defined(o)&&(v.data=o),v}l.create=g;function _(s){var o=s;return p.defined(o)&&a.is(o.range)&&(p.undefined(o.command)||k.is(o.command))}l.is=_})(Qt=e.CodeLens||(e.CodeLens={}));var Lt;(function(l){function g(s,o){return{tabSize:s,insertSpaces:o}}l.create=g;function _(s){var o=s;return p.defined(o)&&p.uinteger(o.tabSize)&&p.boolean(o.insertSpaces)}l.is=_})(Lt=e.FormattingOptions||(e.FormattingOptions={}));var lt;(function(l){function g(s,o,v){return{range:s,target:o,data:v}}l.create=g;function _(s){var o=s;return p.defined(o)&&a.is(o.range)&&(p.undefined(o.target)||p.string(o.target))}l.is=_})(lt=e.DocumentLink||(e.DocumentLink={}));var Mt;(function(l){function g(s,o){return{range:s,parent:o}}l.create=g;function _(s){var o=s;return o!==void 0&&a.is(o.range)&&(o.parent===void 0||l.is(o.parent))}l.is=_})(Mt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var dt;(function(l){function g(v,T,x,K){return new C(v,T,x,K)}l.create=g;function _(v){var T=v;return!!(p.defined(T)&&p.string(T.uri)&&(p.undefined(T.languageId)||p.string(T.languageId))&&p.uinteger(T.lineCount)&&p.func(T.getText)&&p.func(T.positionAt)&&p.func(T.offsetAt))}l.is=_;function s(v,T){for(var x=v.getText(),K=o(T,function(Zt,dn){var xr=Zt.range.start.line-dn.range.start.line;return xr===0?Zt.range.start.character-dn.range.start.character:xr}),X=x.length,se=K.length-1;se>=0;se--){var Ce=K[se],be=v.offsetAt(Ce.range.start),ee=v.offsetAt(Ce.range.end);if(ee<=X)x=x.substring(0,be)+Ce.newText+x.substring(ee,x.length);else throw new Error("Overlapping edit");X=be}return x}l.applyEdits=s;function o(v,T){if(v.length<=1)return v;var x=v.length/2|0,K=v.slice(0,x),X=v.slice(x);o(K,T),o(X,T);for(var se=0,Ce=0,be=0;se<K.length&&Ce<X.length;){var ee=T(K[se],X[Ce]);ee<=0?v[be++]=K[se++]:v[be++]=X[Ce++]}for(;se<K.length;)v[be++]=K[se++];for(;Ce<X.length;)v[be++]=X[Ce++];return v}})(dt=e.TextDocument||(e.TextDocument={}));var C=function(){function l(g,_,s,o){this._uri=g,this._languageId=_,this._version=s,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),l.prototype.getText=function(g){if(g){var _=this.offsetAt(g.start),s=this.offsetAt(g.end);return this._content.substring(_,s)}return this._content},l.prototype.update=function(g,_){this._content=g.text,this._version=_,this._lineOffsets=void 0},l.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var g=[],_=this._content,s=!0,o=0;o<_.length;o++){s&&(g.push(o),s=!1);var v=_.charAt(o);s=v==="\r"||v===`
`,v==="\r"&&o+1<_.length&&_.charAt(o+1)===`
`&&o++}s&&_.length>0&&g.push(_.length),this._lineOffsets=g}return this._lineOffsets},l.prototype.positionAt=function(g){g=Math.max(Math.min(g,this._content.length),0);var _=this.getLineOffsets(),s=0,o=_.length;if(o===0)return i.create(0,g);for(;s<o;){var v=Math.floor((s+o)/2);_[v]>g?o=v:s=v+1}var T=s-1;return i.create(T,g-_[T])},l.prototype.offsetAt=function(g){var _=this.getLineOffsets();if(g.line>=_.length)return this._content.length;if(g.line<0)return 0;var s=_[g.line],o=g.line+1<_.length?_[g.line+1]:this._content.length;return Math.max(Math.min(s+g.character,o),s)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),l}(),p;(function(l){var g=Object.prototype.toString;function _(ee){return typeof ee!="undefined"}l.defined=_;function s(ee){return typeof ee=="undefined"}l.undefined=s;function o(ee){return ee===!0||ee===!1}l.boolean=o;function v(ee){return g.call(ee)==="[object String]"}l.string=v;function T(ee){return g.call(ee)==="[object Number]"}l.number=T;function x(ee,Zt,dn){return g.call(ee)==="[object Number]"&&Zt<=ee&&ee<=dn}l.numberRange=x;function K(ee){return g.call(ee)==="[object Number]"&&-2147483648<=ee&&ee<=2147483647}l.integer=K;function X(ee){return g.call(ee)==="[object Number]"&&0<=ee&&ee<=2147483647}l.uinteger=X;function se(ee){return g.call(ee)==="[object Function]"}l.func=se;function Ce(ee){return ee!==null&&typeof ee=="object"}l.objectLiteral=Ce;function be(ee,Zt){return Array.isArray(ee)&&ee.every(Zt)}l.typedArray=be})(p||(p={}))})});var Le=D(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.ProtocolNotificationType=gt.ProtocolNotificationType0=gt.ProtocolRequestType=gt.ProtocolRequestType0=gt.RegistrationType=void 0;var Hn=Kn(),bu=class{constructor(e){this.method=e}};gt.RegistrationType=bu;var _u=class extends Hn.RequestType0{constructor(e){super(e)}};gt.ProtocolRequestType0=_u;var wu=class extends Hn.RequestType{constructor(e){super(e,Hn.ParameterStructures.byName)}};gt.ProtocolRequestType=wu;var Tu=class extends Hn.NotificationType0{constructor(e){super(e)}};gt.ProtocolNotificationType0=Tu;var Su=class extends Hn.NotificationType{constructor(e){super(e,Hn.ParameterStructures.byName)}};gt.ProtocolNotificationType=Su});var Eu=D(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.objectLiteral=Pe.typedArray=Pe.stringArray=Pe.array=Pe.func=Pe.error=Pe.number=Pe.string=Pe.boolean=void 0;function Ng(t){return t===!0||t===!1}Pe.boolean=Ng;function Pu(t){return typeof t=="string"||t instanceof String}Pe.string=Pu;function Ig(t){return typeof t=="number"||t instanceof Number}Pe.number=Ig;function Lg(t){return t instanceof Error}Pe.error=Lg;function Mg(t){return typeof t=="function"}Pe.func=Mg;function Du(t){return Array.isArray(t)}Pe.array=Du;function Ag(t){return Du(t)&&t.every(e=>Pu(e))}Pe.stringArray=Ag;function jg(t,e){return Array.isArray(t)&&t.every(e)}Pe.typedArray=jg;function $g(t){return t!==null&&typeof t=="object"}Pe.objectLiteral=$g});var qu=D(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.ImplementationRequest=void 0;var Kg=Le(),Hg;(function(t){t.method="textDocument/implementation",t.type=new Kg.ProtocolRequestType(t.method)})(Hg=mr.ImplementationRequest||(mr.ImplementationRequest={}))});var Ou=D(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.TypeDefinitionRequest=void 0;var Wg=Le(),zg;(function(t){t.method="textDocument/typeDefinition",t.type=new Wg.ProtocolRequestType(t.method)})(zg=vr.TypeDefinitionRequest||(vr.TypeDefinitionRequest={}))});var xu=D(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.DidChangeWorkspaceFoldersNotification=nn.WorkspaceFoldersRequest=void 0;var ku=Le(),Ug;(function(t){t.type=new ku.ProtocolRequestType0("workspace/workspaceFolders")})(Ug=nn.WorkspaceFoldersRequest||(nn.WorkspaceFoldersRequest={}));var Bg;(function(t){t.type=new ku.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(Bg=nn.DidChangeWorkspaceFoldersNotification||(nn.DidChangeWorkspaceFoldersNotification={}))});var Fu=D(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ConfigurationRequest=void 0;var Gg=Le(),Xg;(function(t){t.type=new Gg.ProtocolRequestType("workspace/configuration")})(Xg=yr.ConfigurationRequest||(yr.ConfigurationRequest={}))});var Iu=D(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.ColorPresentationRequest=rn.DocumentColorRequest=void 0;var Nu=Le(),Vg;(function(t){t.method="textDocument/documentColor",t.type=new Nu.ProtocolRequestType(t.method)})(Vg=rn.DocumentColorRequest||(rn.DocumentColorRequest={}));var Jg;(function(t){t.type=new Nu.ProtocolRequestType("textDocument/colorPresentation")})(Jg=rn.ColorPresentationRequest||(rn.ColorPresentationRequest={}))});var Lu=D(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.FoldingRangeRequest=sn.FoldingRangeKind=void 0;var Yg=Le(),Qg;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Qg=sn.FoldingRangeKind||(sn.FoldingRangeKind={}));var Zg;(function(t){t.method="textDocument/foldingRange",t.type=new Yg.ProtocolRequestType(t.method)})(Zg=sn.FoldingRangeRequest||(sn.FoldingRangeRequest={}))});var Mu=D(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.DeclarationRequest=void 0;var em=Le(),tm;(function(t){t.method="textDocument/declaration",t.type=new em.ProtocolRequestType(t.method)})(tm=Rr.DeclarationRequest||(Rr.DeclarationRequest={}))});var Au=D(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.SelectionRangeRequest=void 0;var nm=Le(),rm;(function(t){t.method="textDocument/selectionRange",t.type=new nm.ProtocolRequestType(t.method)})(rm=Cr.SelectionRangeRequest||(Cr.SelectionRangeRequest={}))});var $u=D(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.WorkDoneProgressCancelNotification=wt.WorkDoneProgressCreateRequest=wt.WorkDoneProgress=void 0;var im=Kn(),ju=Le(),sm;(function(t){t.type=new im.ProgressType;function e(n){return n===t.type}t.is=e})(sm=wt.WorkDoneProgress||(wt.WorkDoneProgress={}));var om;(function(t){t.type=new ju.ProtocolRequestType("window/workDoneProgress/create")})(om=wt.WorkDoneProgressCreateRequest||(wt.WorkDoneProgressCreateRequest={}));var am;(function(t){t.type=new ju.ProtocolNotificationType("window/workDoneProgress/cancel")})(am=wt.WorkDoneProgressCancelNotification||(wt.WorkDoneProgressCancelNotification={}))});var Ku=D(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.CallHierarchyOutgoingCallsRequest=Tt.CallHierarchyIncomingCallsRequest=Tt.CallHierarchyPrepareRequest=void 0;var Rs=Le(),cm;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Rs.ProtocolRequestType(t.method)})(cm=Tt.CallHierarchyPrepareRequest||(Tt.CallHierarchyPrepareRequest={}));var um;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Rs.ProtocolRequestType(t.method)})(um=Tt.CallHierarchyIncomingCallsRequest||(Tt.CallHierarchyIncomingCallsRequest={}));var lm;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Rs.ProtocolRequestType(t.method)})(lm=Tt.CallHierarchyOutgoingCallsRequest||(Tt.CallHierarchyOutgoingCallsRequest={}))});var Hu=D(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.SemanticTokensRefreshRequest=oe.SemanticTokensRangeRequest=oe.SemanticTokensDeltaRequest=oe.SemanticTokensRequest=oe.SemanticTokensRegistrationType=oe.TokenFormat=oe.SemanticTokens=oe.SemanticTokenModifiers=oe.SemanticTokenTypes=void 0;var br=Le(),dm;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(dm=oe.SemanticTokenTypes||(oe.SemanticTokenTypes={}));var fm;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(fm=oe.SemanticTokenModifiers||(oe.SemanticTokenModifiers={}));var hm;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(hm=oe.SemanticTokens||(oe.SemanticTokens={}));var pm;(function(t){t.Relative="relative"})(pm=oe.TokenFormat||(oe.TokenFormat={}));var gm;(function(t){t.method="textDocument/semanticTokens",t.type=new br.RegistrationType(t.method)})(gm=oe.SemanticTokensRegistrationType||(oe.SemanticTokensRegistrationType={}));var mm;(function(t){t.method="textDocument/semanticTokens/full",t.type=new br.ProtocolRequestType(t.method)})(mm=oe.SemanticTokensRequest||(oe.SemanticTokensRequest={}));var vm;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new br.ProtocolRequestType(t.method)})(vm=oe.SemanticTokensDeltaRequest||(oe.SemanticTokensDeltaRequest={}));var ym;(function(t){t.method="textDocument/semanticTokens/range",t.type=new br.ProtocolRequestType(t.method)})(ym=oe.SemanticTokensRangeRequest||(oe.SemanticTokensRangeRequest={}));var Rm;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new br.ProtocolRequestType0(t.method)})(Rm=oe.SemanticTokensRefreshRequest||(oe.SemanticTokensRefreshRequest={}))});var Wu=D(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.ShowDocumentRequest=void 0;var Cm=Le(),bm;(function(t){t.method="window/showDocument",t.type=new Cm.ProtocolRequestType(t.method)})(bm=_r.ShowDocumentRequest||(_r.ShowDocumentRequest={}))});var zu=D(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.LinkedEditingRangeRequest=void 0;var _m=Le(),wm;(function(t){t.method="textDocument/linkedEditingRange",t.type=new _m.ProtocolRequestType(t.method)})(wm=wr.LinkedEditingRangeRequest||(wr.LinkedEditingRangeRequest={}))});var Uu=D(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.WillDeleteFilesRequest=ge.DidDeleteFilesNotification=ge.DidRenameFilesNotification=ge.WillRenameFilesRequest=ge.DidCreateFilesNotification=ge.WillCreateFilesRequest=ge.FileOperationPatternKind=void 0;var Wn=Le(),Tm;(function(t){t.file="file",t.folder="folder"})(Tm=ge.FileOperationPatternKind||(ge.FileOperationPatternKind={}));var Sm;(function(t){t.method="workspace/willCreateFiles",t.type=new Wn.ProtocolRequestType(t.method)})(Sm=ge.WillCreateFilesRequest||(ge.WillCreateFilesRequest={}));var Pm;(function(t){t.method="workspace/didCreateFiles",t.type=new Wn.ProtocolNotificationType(t.method)})(Pm=ge.DidCreateFilesNotification||(ge.DidCreateFilesNotification={}));var Dm;(function(t){t.method="workspace/willRenameFiles",t.type=new Wn.ProtocolRequestType(t.method)})(Dm=ge.WillRenameFilesRequest||(ge.WillRenameFilesRequest={}));var Em;(function(t){t.method="workspace/didRenameFiles",t.type=new Wn.ProtocolNotificationType(t.method)})(Em=ge.DidRenameFilesNotification||(ge.DidRenameFilesNotification={}));var qm;(function(t){t.method="workspace/didDeleteFiles",t.type=new Wn.ProtocolNotificationType(t.method)})(qm=ge.DidDeleteFilesNotification||(ge.DidDeleteFilesNotification={}));var Om;(function(t){t.method="workspace/willDeleteFiles",t.type=new Wn.ProtocolRequestType(t.method)})(Om=ge.WillDeleteFilesRequest||(ge.WillDeleteFilesRequest={}))});var Bu=D(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.MonikerRequest=St.MonikerKind=St.UniquenessLevel=void 0;var km=Le(),xm;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(xm=St.UniquenessLevel||(St.UniquenessLevel={}));var Fm;(function(t){t.import="import",t.export="export",t.local="local"})(Fm=St.MonikerKind||(St.MonikerKind={}));var Nm;(function(t){t.method="textDocument/moniker",t.type=new km.ProtocolRequestType(t.method)})(Nm=St.MonikerRequest||(St.MonikerRequest={}))});var Yu=D(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeError=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.DocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.SemanticTokens=h.SemanticTokenModifiers=h.SemanticTokenTypes=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=void 0;var on=Eu(),V=Le(),Im=qu();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:function(){return Im.ImplementationRequest}});var Lm=Ou();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Lm.TypeDefinitionRequest}});var Gu=xu();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Gu.WorkspaceFoldersRequest}});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Gu.DidChangeWorkspaceFoldersNotification}});var Mm=Fu();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:function(){return Mm.ConfigurationRequest}});var Xu=Iu();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:function(){return Xu.DocumentColorRequest}});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:function(){return Xu.ColorPresentationRequest}});var Am=Lu();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:function(){return Am.FoldingRangeRequest}});var jm=Mu();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:function(){return jm.DeclarationRequest}});var $m=Au();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:function(){return $m.SelectionRangeRequest}});var Cs=$u();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:function(){return Cs.WorkDoneProgress}});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Cs.WorkDoneProgressCreateRequest}});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Cs.WorkDoneProgressCancelNotification}});var bs=Ku();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return bs.CallHierarchyIncomingCallsRequest}});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return bs.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return bs.CallHierarchyPrepareRequest}});var zt=Hu();Object.defineProperty(h,"SemanticTokenTypes",{enumerable:!0,get:function(){return zt.SemanticTokenTypes}});Object.defineProperty(h,"SemanticTokenModifiers",{enumerable:!0,get:function(){return zt.SemanticTokenModifiers}});Object.defineProperty(h,"SemanticTokens",{enumerable:!0,get:function(){return zt.SemanticTokens}});Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:function(){return zt.TokenFormat}});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:function(){return zt.SemanticTokensRequest}});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return zt.SemanticTokensDeltaRequest}});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return zt.SemanticTokensRangeRequest}});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return zt.SemanticTokensRefreshRequest}});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return zt.SemanticTokensRegistrationType}});var Km=Wu();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:function(){return Km.ShowDocumentRequest}});var Hm=zu();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Hm.LinkedEditingRangeRequest}});var wn=Uu();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:function(){return wn.FileOperationPatternKind}});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:function(){return wn.DidCreateFilesNotification}});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:function(){return wn.WillCreateFilesRequest}});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:function(){return wn.DidRenameFilesNotification}});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:function(){return wn.WillRenameFilesRequest}});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return wn.DidDeleteFilesNotification}});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return wn.WillDeleteFilesRequest}});var _s=Bu();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:function(){return _s.UniquenessLevel}});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:function(){return _s.MonikerKind}});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:function(){return _s.MonikerRequest}});var Vu;(function(t){function e(n){let r=n;return on.string(r.language)||on.string(r.scheme)||on.string(r.pattern)}t.is=e})(Vu=h.DocumentFilter||(h.DocumentFilter={}));var Ju;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!on.string(r)&&!Vu.is(r))return!1;return!0}t.is=e})(Ju=h.DocumentSelector||(h.DocumentSelector={}));var Wm;(function(t){t.type=new V.ProtocolRequestType("client/registerCapability")})(Wm=h.RegistrationRequest||(h.RegistrationRequest={}));var zm;(function(t){t.type=new V.ProtocolRequestType("client/unregisterCapability")})(zm=h.UnregistrationRequest||(h.UnregistrationRequest={}));var Um;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Um=h.ResourceOperationKind||(h.ResourceOperationKind={}));var Bm;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Bm=h.FailureHandlingKind||(h.FailureHandlingKind={}));var Gm;(function(t){function e(n){let r=n;return r&&on.string(r.id)&&r.id.length>0}t.hasId=e})(Gm=h.StaticRegistrationOptions||(h.StaticRegistrationOptions={}));var Xm;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Ju.is(r.documentSelector))}t.is=e})(Xm=h.TextDocumentRegistrationOptions||(h.TextDocumentRegistrationOptions={}));var Vm;(function(t){function e(r){let i=r;return on.objectLiteral(i)&&(i.workDoneProgress===void 0||on.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&on.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(Vm=h.WorkDoneProgressOptions||(h.WorkDoneProgressOptions={}));var Jm;(function(t){t.type=new V.ProtocolRequestType("initialize")})(Jm=h.InitializeRequest||(h.InitializeRequest={}));var Ym;(function(t){t.unknownProtocolVersion=1})(Ym=h.InitializeError||(h.InitializeError={}));var Qm;(function(t){t.type=new V.ProtocolNotificationType("initialized")})(Qm=h.InitializedNotification||(h.InitializedNotification={}));var Zm;(function(t){t.type=new V.ProtocolRequestType0("shutdown")})(Zm=h.ShutdownRequest||(h.ShutdownRequest={}));var ev;(function(t){t.type=new V.ProtocolNotificationType0("exit")})(ev=h.ExitNotification||(h.ExitNotification={}));var tv;(function(t){t.type=new V.ProtocolNotificationType("workspace/didChangeConfiguration")})(tv=h.DidChangeConfigurationNotification||(h.DidChangeConfigurationNotification={}));var nv;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(nv=h.MessageType||(h.MessageType={}));var rv;(function(t){t.type=new V.ProtocolNotificationType("window/showMessage")})(rv=h.ShowMessageNotification||(h.ShowMessageNotification={}));var iv;(function(t){t.type=new V.ProtocolRequestType("window/showMessageRequest")})(iv=h.ShowMessageRequest||(h.ShowMessageRequest={}));var sv;(function(t){t.type=new V.ProtocolNotificationType("window/logMessage")})(sv=h.LogMessageNotification||(h.LogMessageNotification={}));var ov;(function(t){t.type=new V.ProtocolNotificationType("telemetry/event")})(ov=h.TelemetryEventNotification||(h.TelemetryEventNotification={}));var av;(function(t){t.None=0,t.Full=1,t.Incremental=2})(av=h.TextDocumentSyncKind||(h.TextDocumentSyncKind={}));var cv;(function(t){t.method="textDocument/didOpen",t.type=new V.ProtocolNotificationType(t.method)})(cv=h.DidOpenTextDocumentNotification||(h.DidOpenTextDocumentNotification={}));var uv;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(uv=h.TextDocumentContentChangeEvent||(h.TextDocumentContentChangeEvent={}));var lv;(function(t){t.method="textDocument/didChange",t.type=new V.ProtocolNotificationType(t.method)})(lv=h.DidChangeTextDocumentNotification||(h.DidChangeTextDocumentNotification={}));var dv;(function(t){t.method="textDocument/didClose",t.type=new V.ProtocolNotificationType(t.method)})(dv=h.DidCloseTextDocumentNotification||(h.DidCloseTextDocumentNotification={}));var fv;(function(t){t.method="textDocument/didSave",t.type=new V.ProtocolNotificationType(t.method)})(fv=h.DidSaveTextDocumentNotification||(h.DidSaveTextDocumentNotification={}));var hv;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(hv=h.TextDocumentSaveReason||(h.TextDocumentSaveReason={}));var pv;(function(t){t.method="textDocument/willSave",t.type=new V.ProtocolNotificationType(t.method)})(pv=h.WillSaveTextDocumentNotification||(h.WillSaveTextDocumentNotification={}));var gv;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new V.ProtocolRequestType(t.method)})(gv=h.WillSaveTextDocumentWaitUntilRequest||(h.WillSaveTextDocumentWaitUntilRequest={}));var mv;(function(t){t.type=new V.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(mv=h.DidChangeWatchedFilesNotification||(h.DidChangeWatchedFilesNotification={}));var vv;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(vv=h.FileChangeType||(h.FileChangeType={}));var yv;(function(t){t.Create=1,t.Change=2,t.Delete=4})(yv=h.WatchKind||(h.WatchKind={}));var Rv;(function(t){t.type=new V.ProtocolNotificationType("textDocument/publishDiagnostics")})(Rv=h.PublishDiagnosticsNotification||(h.PublishDiagnosticsNotification={}));var Cv;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Cv=h.CompletionTriggerKind||(h.CompletionTriggerKind={}));var bv;(function(t){t.method="textDocument/completion",t.type=new V.ProtocolRequestType(t.method)})(bv=h.CompletionRequest||(h.CompletionRequest={}));var _v;(function(t){t.method="completionItem/resolve",t.type=new V.ProtocolRequestType(t.method)})(_v=h.CompletionResolveRequest||(h.CompletionResolveRequest={}));var wv;(function(t){t.method="textDocument/hover",t.type=new V.ProtocolRequestType(t.method)})(wv=h.HoverRequest||(h.HoverRequest={}));var Tv;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Tv=h.SignatureHelpTriggerKind||(h.SignatureHelpTriggerKind={}));var Sv;(function(t){t.method="textDocument/signatureHelp",t.type=new V.ProtocolRequestType(t.method)})(Sv=h.SignatureHelpRequest||(h.SignatureHelpRequest={}));var Pv;(function(t){t.method="textDocument/definition",t.type=new V.ProtocolRequestType(t.method)})(Pv=h.DefinitionRequest||(h.DefinitionRequest={}));var Dv;(function(t){t.method="textDocument/references",t.type=new V.ProtocolRequestType(t.method)})(Dv=h.ReferencesRequest||(h.ReferencesRequest={}));var Ev;(function(t){t.method="textDocument/documentHighlight",t.type=new V.ProtocolRequestType(t.method)})(Ev=h.DocumentHighlightRequest||(h.DocumentHighlightRequest={}));var qv;(function(t){t.method="textDocument/documentSymbol",t.type=new V.ProtocolRequestType(t.method)})(qv=h.DocumentSymbolRequest||(h.DocumentSymbolRequest={}));var Ov;(function(t){t.method="textDocument/codeAction",t.type=new V.ProtocolRequestType(t.method)})(Ov=h.CodeActionRequest||(h.CodeActionRequest={}));var kv;(function(t){t.method="codeAction/resolve",t.type=new V.ProtocolRequestType(t.method)})(kv=h.CodeActionResolveRequest||(h.CodeActionResolveRequest={}));var xv;(function(t){t.method="workspace/symbol",t.type=new V.ProtocolRequestType(t.method)})(xv=h.WorkspaceSymbolRequest||(h.WorkspaceSymbolRequest={}));var Fv;(function(t){t.method="textDocument/codeLens",t.type=new V.ProtocolRequestType(t.method)})(Fv=h.CodeLensRequest||(h.CodeLensRequest={}));var Nv;(function(t){t.method="codeLens/resolve",t.type=new V.ProtocolRequestType(t.method)})(Nv=h.CodeLensResolveRequest||(h.CodeLensResolveRequest={}));var Iv;(function(t){t.method="workspace/codeLens/refresh",t.type=new V.ProtocolRequestType0(t.method)})(Iv=h.CodeLensRefreshRequest||(h.CodeLensRefreshRequest={}));var Lv;(function(t){t.method="textDocument/documentLink",t.type=new V.ProtocolRequestType(t.method)})(Lv=h.DocumentLinkRequest||(h.DocumentLinkRequest={}));var Mv;(function(t){t.method="documentLink/resolve",t.type=new V.ProtocolRequestType(t.method)})(Mv=h.DocumentLinkResolveRequest||(h.DocumentLinkResolveRequest={}));var Av;(function(t){t.method="textDocument/formatting",t.type=new V.ProtocolRequestType(t.method)})(Av=h.DocumentFormattingRequest||(h.DocumentFormattingRequest={}));var jv;(function(t){t.method="textDocument/rangeFormatting",t.type=new V.ProtocolRequestType(t.method)})(jv=h.DocumentRangeFormattingRequest||(h.DocumentRangeFormattingRequest={}));var $v;(function(t){t.method="textDocument/onTypeFormatting",t.type=new V.ProtocolRequestType(t.method)})($v=h.DocumentOnTypeFormattingRequest||(h.DocumentOnTypeFormattingRequest={}));var Kv;(function(t){t.Identifier=1})(Kv=h.PrepareSupportDefaultBehavior||(h.PrepareSupportDefaultBehavior={}));var Hv;(function(t){t.method="textDocument/rename",t.type=new V.ProtocolRequestType(t.method)})(Hv=h.RenameRequest||(h.RenameRequest={}));var Wv;(function(t){t.method="textDocument/prepareRename",t.type=new V.ProtocolRequestType(t.method)})(Wv=h.PrepareRenameRequest||(h.PrepareRenameRequest={}));var zv;(function(t){t.type=new V.ProtocolRequestType("workspace/executeCommand")})(zv=h.ExecuteCommandRequest||(h.ExecuteCommandRequest={}));var Uv;(function(t){t.type=new V.ProtocolRequestType("workspace/applyEdit")})(Uv=h.ApplyWorkspaceEditRequest||(h.ApplyWorkspaceEditRequest={}))});var Zu=D(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.createProtocolConnection=void 0;var Qu=Kn();function Bv(t,e,n,r){return Qu.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Qu.createMessageConnection(t,e,n,r)}ti.createProtocolConnection=Bv});var el=D(Je=>{"use strict";var Gv=Je&&Je.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ni=Je&&Je.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Gv(e,t,n)};Object.defineProperty(Je,"__esModule",{value:!0});Je.LSPErrorCodes=Je.createProtocolConnection=void 0;ni(Kn(),Je);ni(Cu(),Je);ni(Le(),Je);ni(Yu(),Je);var Xv=Zu();Object.defineProperty(Je,"createProtocolConnection",{enumerable:!0,get:function(){return Xv.createProtocolConnection}});var Vv;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Vv=Je.LSPErrorCodes||(Je.LSPErrorCodes={}))});var me=D(Ot=>{"use strict";var Jv=Ot&&Ot.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),tl=Ot&&Ot.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Jv(e,t,n)};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.createProtocolConnection=void 0;var Yv=ys();tl(ys(),Ot);tl(el(),Ot);function Qv(t,e,n,r){return Yv.createMessageConnection(t,e,n,r)}Ot.createProtocolConnection=Qv});var Ts=D(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.toJSONObject=Un.ConfigurationFeature=void 0;var ws=require("vscode"),Zv=me(),nl=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Zv.ConfigurationRequest.type,(n,r)=>{let i=c=>{let f=[];for(let d of c.items){let y=d.scopeUri!==void 0&&d.scopeUri!==null?this._client.protocol2CodeConverter.asUri(d.scopeUri):void 0;f.push(this.getConfiguration(y,d.section!==null?d.section:void 0))}return f},a=e.clientOptions.middleware.workspace;return a&&a.configuration?a.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=zn(ws.workspace.getConfiguration(void 0,e).get(n));else{let a=ws.workspace.getConfiguration(n.substr(0,i),e);a&&(r=zn(a.get(n.substr(i+1))))}}else{let i=ws.workspace.getConfiguration(void 0,e);r={};for(let a of Object.keys(i))i.has(a)&&(r[a]=zn(i.get(a)))}return r===void 0&&(r=null),r}dispose(){}};Un.ConfigurationFeature=nl;function zn(t){if(t){if(Array.isArray(t))return t.map(zn);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=zn(t[n]));return e}}return t}Un.toJSONObject=zn});var Ps=D(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var ey=require("vscode"),rl=class extends ey.CompletionItem{constructor(e){super(e)}};Ss.default=rl});var Es=D(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var ty=require("vscode"),il=class extends ty.CodeLens{constructor(e){super(e)}};Ds.default=il});var Os=D(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var ny=require("vscode"),sl=class extends ny.DocumentLink{constructor(e,n){super(e,n)}};qs.default=sl});var xs=D(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var ry=require("vscode"),ol=class extends ry.CodeAction{constructor(e,n){super(e);this.data=n}};ks.default=ol});var Ns=D(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ProtocolDiagnostic=Tn.DiagnosticCode=void 0;var iy=require("vscode"),Fs=tn(),sy;(function(t){function e(n){let r=n;return r!=null&&(Fs.number(r.value)||Fs.string(r.value))&&Fs.string(r.target)}t.is=e})(sy=Tn.DiagnosticCode||(Tn.DiagnosticCode={}));var al=class extends iy.Diagnostic{constructor(e,n,r,i){super(e,n,r);this.data=i,this.hasDiagnosticCode=!1}};Tn.ProtocolDiagnostic=al});var Ls=D(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var oy=require("vscode"),cl=class extends oy.CallHierarchyItem{constructor(e,n,r,i,a,c,f){super(e,n,r,i,a,c);f!==void 0&&(this.data=f)}};Is.default=cl});var ll=D(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.createConverter=void 0;var Me=require("vscode"),ie=me(),Tr=tn(),ay=Ps(),cy=Es(),uy=Os(),ly=xs(),ul=Ns(),dy=Ls(),fy=me(),Ms;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(Ms||(Ms={}));function hy(t){let n=t||(s=>s.toString());function r(s){return n(s)}function i(s){return{uri:n(s.uri)}}function a(s){return{uri:n(s.uri),version:s.version}}function c(s){return{textDocument:{uri:n(s.uri),languageId:s.languageId,version:s.version,text:s.getText()}}}function f(s){let o=s;return!!o.document&&!!o.contentChanges}function d(s){let o=s;return!!o.uri&&!!o.version}function y(s){if(d(s))return{textDocument:{uri:n(s.uri),version:s.version},contentChanges:[{text:s.getText()}]};if(f(s)){let o=s.document;return{textDocument:{uri:n(o.uri),version:o.version},contentChanges:s.contentChanges.map(T=>{let x=T.range;return{range:{start:{line:x.start.line,character:x.start.character},end:{line:x.end.line,character:x.end.character}},rangeLength:T.rangeLength,text:T.text}})}}else throw Error("Unsupported text document change parameter")}function R(s){return{textDocument:i(s)}}function b(s,o=!1){let v={textDocument:i(s)};return o&&(v.text=s.getText()),v}function w(s){switch(s){case Me.TextDocumentSaveReason.Manual:return ie.TextDocumentSaveReason.Manual;case Me.TextDocumentSaveReason.AfterDelay:return ie.TextDocumentSaveReason.AfterDelay;case Me.TextDocumentSaveReason.FocusOut:return ie.TextDocumentSaveReason.FocusOut}return ie.TextDocumentSaveReason.Manual}function S(s){return{textDocument:i(s.document),reason:w(s.reason)}}function O(s){return{files:s.files.map(o=>({uri:n(o)}))}}function N(s){return{files:s.files.map(o=>({oldUri:n(o.oldUri),newUri:n(o.newUri)}))}}function H(s){return{files:s.files.map(o=>({uri:n(o)}))}}function I(s){return{files:s.files.map(o=>({uri:n(o)}))}}function k(s){return{files:s.files.map(o=>({oldUri:n(o.oldUri),newUri:n(o.newUri)}))}}function F(s){return{files:s.files.map(o=>({uri:n(o)}))}}function q(s,o){return{textDocument:i(s),position:Ze(o)}}function U(s){switch(s){case Me.CompletionTriggerKind.TriggerCharacter:return ie.CompletionTriggerKind.TriggerCharacter;case Me.CompletionTriggerKind.TriggerForIncompleteCompletions:return ie.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return ie.CompletionTriggerKind.Invoked}}function Te(s,o,v){return{textDocument:i(s),position:Ze(o),context:{triggerKind:U(v.triggerKind),triggerCharacter:v.triggerCharacter}}}function qe(s){switch(s){case Me.SignatureHelpTriggerKind.Invoke:return ie.SignatureHelpTriggerKind.Invoked;case Me.SignatureHelpTriggerKind.TriggerCharacter:return ie.SignatureHelpTriggerKind.TriggerCharacter;case Me.SignatureHelpTriggerKind.ContentChange:return ie.SignatureHelpTriggerKind.ContentChange}}function Oe(s){return{label:s.label}}function ve(s){return s.map(Oe)}function xe(s){return{label:s.label,parameters:ve(s.parameters)}}function Fe(s){return s.map(xe)}function Qe(s){return s===void 0?s:{signatures:Fe(s.signatures),activeSignature:s.activeSignature,activeParameter:s.activeParameter}}function Be(s,o,v){return{textDocument:i(s),position:Ze(o),context:{isRetrigger:v.isRetrigger,triggerCharacter:v.triggerCharacter,triggerKind:qe(v.triggerKind),activeSignatureHelp:Qe(v.activeSignatureHelp)}}}function Ze(s){return{line:s.line,character:s.character}}function Ge(s){return s==null?s:{line:s.line,character:s.character}}function st(s){let o=[];for(let v of s)o.push(Ge(v));return o}function de(s){return s==null?s:{start:Ge(s.start),end:Ge(s.end)}}function yt(s){return s==null?s:ie.Location.create(r(s.uri),de(s.range))}function ke(s){switch(s){case Me.DiagnosticSeverity.Error:return ie.DiagnosticSeverity.Error;case Me.DiagnosticSeverity.Warning:return ie.DiagnosticSeverity.Warning;case Me.DiagnosticSeverity.Information:return ie.DiagnosticSeverity.Information;case Me.DiagnosticSeverity.Hint:return ie.DiagnosticSeverity.Hint}}function rt(s){if(!s)return;let o=[];for(let v of s){let T=ot(v);T!==void 0&&o.push(T)}return o.length>0?o:void 0}function ot(s){switch(s){case Me.DiagnosticTag.Unnecessary:return ie.DiagnosticTag.Unnecessary;case Me.DiagnosticTag.Deprecated:return ie.DiagnosticTag.Deprecated;default:return}}function Rt(s){return{message:s.message,location:yt(s.location)}}function Gt(s){return s.map(Rt)}function Xt(s){if(s!=null)return Tr.number(s)||Tr.string(s)?s:{value:s.value,target:r(s.target)}}function Ft(s){let o=ie.Diagnostic.create(de(s.range),s.message),v=s instanceof ul.ProtocolDiagnostic?s:void 0;v!==void 0&&v.data!==void 0&&(o.data=v.data);let T=Xt(s.code);return ul.DiagnosticCode.is(T)?v!==void 0&&v.hasDiagnosticCode?o.code=T:(o.code=T.value,o.codeDescription={href:T.target}):o.code=T,Tr.number(s.severity)&&(o.severity=ke(s.severity)),Array.isArray(s.tags)&&(o.tags=rt(s.tags)),s.relatedInformation&&(o.relatedInformation=Gt(s.relatedInformation)),s.source&&(o.source=s.source),o}function Nt(s){return s==null?s:s.map(Ft)}function Dt(s,o){switch(s){case"$string":return o;case ie.MarkupKind.PlainText:return{kind:s,value:o};case ie.MarkupKind.Markdown:return{kind:s,value:o.value};default:return`Unsupported Markup content received. Kind is: ${s}`}}function Et(s){switch(s){case Me.CompletionItemTag.Deprecated:return ie.CompletionItemTag.Deprecated}}function It(s){if(s===void 0)return s;let o=[];for(let v of s){let T=Et(v);T!==void 0&&o.push(T)}return o}function Vt(s,o){return o!==void 0?o:s+1}function cn(s){let o={label:s.label},v=s instanceof ay.default?s:void 0;s.detail&&(o.detail=s.detail),s.documentation&&(!v||v.documentationFormat==="$string"?o.documentation=s.documentation:o.documentation=Dt(v.documentationFormat,s.documentation)),s.filterText&&(o.filterText=s.filterText),at(o,s),Tr.number(s.kind)&&(o.kind=Vt(s.kind,v&&v.originalItemKind)),s.sortText&&(o.sortText=s.sortText),s.additionalTextEdits&&(o.additionalTextEdits=un(s.additionalTextEdits)),s.commitCharacters&&(o.commitCharacters=s.commitCharacters.slice()),s.command&&(o.command=lt(s.command)),(s.preselect===!0||s.preselect===!1)&&(o.preselect=s.preselect);let T=It(s.tags);if(v){if(v.data!==void 0&&(o.data=v.data),v.deprecated===!0||v.deprecated===!1){if(v.deprecated===!0&&T!==void 0&&T.length>0){let x=T.indexOf(Me.CompletionItemTag.Deprecated);x!==-1&&T.splice(x,1)}o.deprecated=v.deprecated}v.insertTextMode!==void 0&&(o.insertTextMode=v.insertTextMode)}return T!==void 0&&T.length>0&&(o.tags=T),o.insertTextMode===void 0&&s.keepWhitespace===!0&&(o.insertTextMode=fy.InsertTextMode.adjustIndentation),o}function at(s,o){let v=ie.InsertTextFormat.PlainText,T,x;o.textEdit?(T=o.textEdit.newText,x=o.textEdit.range):o.insertText instanceof Me.SnippetString?(v=ie.InsertTextFormat.Snippet,T=o.insertText.value):T=o.insertText,o.range&&(x=o.range),s.insertTextFormat=v,o.fromEdit&&T!==void 0&&x!==void 0?s.textEdit=Jt(T,x):s.insertText=T}function Jt(s,o){return Ms.is(o)?ie.InsertReplaceEdit.create(s,de(o.inserting),de(o.replacing)):{newText:s,range:de(o)}}function ct(s){return{range:de(s.range),newText:s.newText}}function un(s){return s==null?s:s.map(ct)}function Re(s){return s<=Me.SymbolKind.TypeParameter?s+1:ie.SymbolKind.Property}function et(s){return s}function Yt(s){return s.map(et)}function ln(s,o,v){return{textDocument:i(s),position:Ze(o),context:{includeDeclaration:v.includeDeclaration}}}function ut(s){let o=ie.CodeAction.create(s.title);if(s instanceof ly.default&&s.data!==void 0&&(o.data=s.data),s.kind!==void 0&&(o.kind=Lt(s.kind)),s.diagnostics!==void 0&&(o.diagnostics=Nt(s.diagnostics)),s.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return s.command!==void 0&&(o.command=lt(s.command)),s.isPreferred!==void 0&&(o.isPreferred=s.isPreferred),s.disabled!==void 0&&(o.disabled={reason:s.disabled.reason}),o}function Qt(s){if(s==null)return s;let o;return s.only&&Tr.string(s.only.value)&&(o=[s.only.value]),ie.CodeActionContext.create(Nt(s.diagnostics),o)}function Lt(s){if(s!=null)return s.value}function lt(s){let o=ie.Command.create(s.title,s.command);return s.arguments&&(o.arguments=s.arguments),o}function Mt(s){let o=ie.CodeLens.create(de(s.range));return s.command&&(o.command=lt(s.command)),s instanceof cy.default&&s.data&&(o.data=s.data),o}function dt(s,o){let v={tabSize:s.tabSize,insertSpaces:s.insertSpaces};return o.trimTrailingWhitespace&&(v.trimTrailingWhitespace=!0),o.trimFinalNewlines&&(v.trimFinalNewlines=!0),o.insertFinalNewline&&(v.insertFinalNewline=!0),v}function C(s){return{textDocument:i(s)}}function p(s){return{textDocument:i(s)}}function l(s){let o=ie.DocumentLink.create(de(s.range));s.target&&(o.target=r(s.target)),s.tooltip!==void 0&&(o.tooltip=s.tooltip);let v=s instanceof uy.default?s:void 0;return v&&v.data&&(o.data=v.data),o}function g(s){return{textDocument:i(s)}}function _(s){let o={name:s.name,kind:Re(s.kind),uri:r(s.uri),range:de(s.range),selectionRange:de(s.selectionRange)};return s.detail!==void 0&&s.detail.length>0&&(o.detail=s.detail),s.tags!==void 0&&(o.tags=Yt(s.tags)),s instanceof dy.default&&s.data!==void 0&&(o.data=s.data),o}return{asUri:r,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:a,asOpenTextDocumentParams:c,asChangeTextDocumentParams:y,asCloseTextDocumentParams:R,asSaveTextDocumentParams:b,asWillSaveTextDocumentParams:S,asDidCreateFilesParams:O,asDidRenameFilesParams:N,asDidDeleteFilesParams:H,asWillCreateFilesParams:I,asWillRenameFilesParams:k,asWillDeleteFilesParams:F,asTextDocumentPositionParams:q,asCompletionParams:Te,asSignatureHelpParams:Be,asWorkerPosition:Ze,asRange:de,asPosition:Ge,asPositions:st,asLocation:yt,asDiagnosticSeverity:ke,asDiagnosticTag:ot,asDiagnostic:Ft,asDiagnostics:Nt,asCompletionItem:cn,asTextEdit:ct,asSymbolKind:Re,asSymbolTag:et,asSymbolTags:Yt,asReferenceParams:ln,asCodeAction:ut,asCodeActionContext:Qt,asCommand:lt,asCodeLens:Mt,asFormattingOptions:dt,asDocumentSymbolParams:C,asCodeLensParams:p,asDocumentLink:l,asDocumentLinkParams:g,asCallHierarchyItem:_}}ri.createConverter=hy});var hl=D(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.createConverter=void 0;var $=require("vscode"),Q=me(),Pt=tn(),py=Ps(),gy=Es(),my=Os(),vy=xs(),dl=Ns(),yy=Ls(),fl=me(),ii;(function(t){function e(n){let r=n;return r&&Pt.string(r.language)&&Pt.string(r.value)}t.is=e})(ii||(ii={}));function Ry(t,e){let r=t||(u=>$.Uri.parse(u));function i(u){return r(u)}function a(u){return u.map(c)}function c(u){let P=new dl.ProtocolDiagnostic(w(u.range),u.message,O(u.severity),u.data);return u.code!==void 0&&(Q.CodeDescription.is(u.codeDescription)?P.code={value:u.code,target:i(u.codeDescription.href)}:dl.DiagnosticCode.is(u.code)?(P.hasDiagnosticCode=!0,P.code={value:u.code.value,target:i(u.code.target)}):P.code=u.code),u.source&&(P.source=u.source),u.relatedInformation&&(P.relatedInformation=f(u.relatedInformation)),Array.isArray(u.tags)&&(P.tags=y(u.tags)),P}function f(u){return u.map(d)}function d(u){return new $.DiagnosticRelatedInformation(de(u.location),u.message)}function y(u){if(!u)return;let P=[];for(let z of u){let te=R(z);te!==void 0&&P.push(te)}return P.length>0?P:void 0}function R(u){switch(u){case Q.DiagnosticTag.Unnecessary:return $.DiagnosticTag.Unnecessary;case Q.DiagnosticTag.Deprecated:return $.DiagnosticTag.Deprecated;default:return}}function b(u){if(!!u)return new $.Position(u.line,u.character)}function w(u){if(!!u)return new $.Range(b(u.start),b(u.end))}function S(u){return u.map(P=>w(P))}function O(u){if(u==null)return $.DiagnosticSeverity.Error;switch(u){case Q.DiagnosticSeverity.Error:return $.DiagnosticSeverity.Error;case Q.DiagnosticSeverity.Warning:return $.DiagnosticSeverity.Warning;case Q.DiagnosticSeverity.Information:return $.DiagnosticSeverity.Information;case Q.DiagnosticSeverity.Hint:return $.DiagnosticSeverity.Hint}return $.DiagnosticSeverity.Error}function N(u){if(Pt.string(u))return I(u);if(ii.is(u))return I().appendCodeblock(u.value,u.language);if(Array.isArray(u)){let P=[];for(let z of u){let te=I();ii.is(z)?te.appendCodeblock(z.value,z.language):te.appendMarkdown(z),P.push(te)}return P}else{let P;switch(u.kind){case Q.MarkupKind.Markdown:return I(u.value);case Q.MarkupKind.PlainText:return P=I(),P.appendText(u.value),P;default:return P=I(),P.appendText(`Unsupported Markup content received. Kind is: ${u.kind}`),P}}}function H(u){if(Pt.string(u))return u;switch(u.kind){case Q.MarkupKind.Markdown:return I(u.value);case Q.MarkupKind.PlainText:return u.value;default:return`Unsupported Markup content received. Kind is: ${u.kind}`}}function I(u){let P=new $.MarkdownString(u);return e===!0&&(P.isTrusted=e),P}function k(u){if(!!u)return new $.Hover(N(u.contents),w(u.range))}function F(u){if(!u)return;if(Array.isArray(u))return u.map(qe);let P=u;return new $.CompletionList(P.items.map(qe),P.isIncomplete)}function q(u){return Q.CompletionItemKind.Text<=u&&u<=Q.CompletionItemKind.TypeParameter?[u-1,void 0]:[$.CompletionItemKind.Text,u]}function U(u){switch(u){case Q.CompletionItemTag.Deprecated:return $.CompletionItemTag.Deprecated}}function Te(u){if(u==null)return[];let P=[];for(let z of u){let te=U(z);te!==void 0&&P.push(te)}return P}function qe(u){let P=Te(u.tags),z=new py.default(u.label);u.detail&&(z.detail=u.detail),u.documentation&&(z.documentation=H(u.documentation),z.documentationFormat=Pt.string(u.documentation)?"$string":u.documentation.kind),u.filterText&&(z.filterText=u.filterText);let te=Oe(u);if(te&&(z.insertText=te.text,z.range=te.range,z.fromEdit=te.fromEdit),Pt.number(u.kind)){let[ce,fn]=q(u.kind);z.kind=ce,fn&&(z.originalItemKind=fn)}return u.sortText&&(z.sortText=u.sortText),u.additionalTextEdits&&(z.additionalTextEdits=Fe(u.additionalTextEdits)),Pt.stringArray(u.commitCharacters)&&(z.commitCharacters=u.commitCharacters.slice()),u.command&&(z.command=ct(u.command)),(u.deprecated===!0||u.deprecated===!1)&&(z.deprecated=u.deprecated,u.deprecated===!0&&P.push($.CompletionItemTag.Deprecated)),(u.preselect===!0||u.preselect===!1)&&(z.preselect=u.preselect),u.data!==void 0&&(z.data=u.data),P.length>0&&(z.tags=P),u.insertTextMode!==void 0&&(z.insertTextMode=u.insertTextMode,u.insertTextMode===fl.InsertTextMode.asIs&&(z.keepWhitespace=!0)),z}function Oe(u){return u.textEdit?u.insertTextFormat===Q.InsertTextFormat.Snippet?{text:new $.SnippetString(u.textEdit.newText),range:ve(u.textEdit),fromEdit:!0}:{text:u.textEdit.newText,range:ve(u.textEdit),fromEdit:!0}:u.insertText?u.insertTextFormat===Q.InsertTextFormat.Snippet?{text:new $.SnippetString(u.insertText),fromEdit:!1}:{text:u.insertText,fromEdit:!1}:void 0}function ve(u){return Q.InsertReplaceEdit.is(u)?{inserting:w(u.insert),replacing:w(u.replace)}:w(u.range)}function xe(u){if(!!u)return new $.TextEdit(w(u.range),u.newText)}function Fe(u){if(!!u)return u.map(xe)}function Qe(u){if(!u)return;let P=new $.SignatureHelp;return Pt.number(u.activeSignature)?P.activeSignature=u.activeSignature:P.activeSignature=0,Pt.number(u.activeParameter)?P.activeParameter=u.activeParameter:P.activeParameter=0,u.signatures&&(P.signatures=Be(u.signatures)),P}function Be(u){return u.map(Ze)}function Ze(u){let P=new $.SignatureInformation(u.label);return u.documentation!==void 0&&(P.documentation=H(u.documentation)),u.parameters!==void 0&&(P.parameters=Ge(u.parameters)),u.activeParameter!==void 0&&(P.activeParameter=u.activeParameter),P}function Ge(u){return u.map(st)}function st(u){let P=new $.ParameterInformation(u.label);return u.documentation&&(P.documentation=H(u.documentation)),P}function de(u){if(!!u)return new $.Location(r(u.uri),w(u.range))}function yt(u){if(!!u)return ot(u)}function ke(u){if(!!u)return ot(u)}function rt(u){if(!u)return;let P={targetUri:r(u.targetUri),targetRange:w(u.targetRange),originSelectionRange:w(u.originSelectionRange),targetSelectionRange:w(u.targetSelectionRange)};if(!P.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return P}function ot(u){if(!!u)return Pt.array(u)?u.length===0?[]:Q.LocationLink.is(u[0])?u.map(z=>rt(z)):u.map(z=>de(z)):Q.LocationLink.is(u)?[rt(u)]:de(u)}function Rt(u){if(!!u)return u.map(P=>de(P))}function Gt(u){if(!!u)return u.map(Xt)}function Xt(u){let P=new $.DocumentHighlight(w(u.range));return Pt.number(u.kind)&&(P.kind=Ft(u.kind)),P}function Ft(u){switch(u){case Q.DocumentHighlightKind.Text:return $.DocumentHighlightKind.Text;case Q.DocumentHighlightKind.Read:return $.DocumentHighlightKind.Read;case Q.DocumentHighlightKind.Write:return $.DocumentHighlightKind.Write}return $.DocumentHighlightKind.Text}function Nt(u,P){if(!!u)return u.map(z=>Vt(z,P))}function Dt(u){return u<=Q.SymbolKind.TypeParameter?u-1:$.SymbolKind.Property}function Et(u){switch(u){case Q.SymbolTag.Deprecated:return $.SymbolTag.Deprecated;default:return}}function It(u){if(u==null)return;let P=[];for(let z of u){let te=Et(z);te!==void 0&&P.push(te)}return P.length===0?void 0:P}function Vt(u,P){let z=new $.SymbolInformation(u.name,Dt(u.kind),w(u.location.range),u.location.uri?r(u.location.uri):P);return Jt(z,u),u.containerName&&(z.containerName=u.containerName),z}function cn(u){if(u!=null)return u.map(at)}function at(u){let P=new $.DocumentSymbol(u.name,u.detail||"",Dt(u.kind),w(u.range),w(u.selectionRange));if(Jt(P,u),u.children!==void 0&&u.children.length>0){let z=[];for(let te of u.children)z.push(at(te));P.children=z}return P}function Jt(u,P){u.tags=It(P.tags),P.deprecated&&(u.tags?u.tags.includes($.SymbolTag.Deprecated)||(u.tags=u.tags.concat($.SymbolTag.Deprecated)):u.tags=[$.SymbolTag.Deprecated])}function ct(u){let P={title:u.title,command:u.command};return u.arguments&&(P.arguments=u.arguments),P}function un(u){if(!!u)return u.map(ct)}let Re=new Map;Re.set(Q.CodeActionKind.Empty,$.CodeActionKind.Empty),Re.set(Q.CodeActionKind.QuickFix,$.CodeActionKind.QuickFix),Re.set(Q.CodeActionKind.Refactor,$.CodeActionKind.Refactor),Re.set(Q.CodeActionKind.RefactorExtract,$.CodeActionKind.RefactorExtract),Re.set(Q.CodeActionKind.RefactorInline,$.CodeActionKind.RefactorInline),Re.set(Q.CodeActionKind.RefactorRewrite,$.CodeActionKind.RefactorRewrite),Re.set(Q.CodeActionKind.Source,$.CodeActionKind.Source),Re.set(Q.CodeActionKind.SourceOrganizeImports,$.CodeActionKind.SourceOrganizeImports);function et(u){if(u==null)return;let P=Re.get(u);if(P)return P;let z=u.split(".");P=$.CodeActionKind.Empty;for(let te of z)P=P.append(te);return P}function Yt(u){if(u!=null)return u.map(P=>et(P))}function ln(u){if(u==null)return;let P=new vy.default(u.title,u.data);return u.kind!==void 0&&(P.kind=et(u.kind)),u.diagnostics!==void 0&&(P.diagnostics=a(u.diagnostics)),u.edit!==void 0&&(P.edit=Lt(u.edit)),u.command!==void 0&&(P.command=ct(u.command)),u.isPreferred!==void 0&&(P.isPreferred=u.isPreferred),u.disabled!==void 0&&(P.disabled={reason:u.disabled.reason}),P}function ut(u){if(!u)return;let P=new gy.default(w(u.range));return u.command&&(P.command=ct(u.command)),u.data!==void 0&&u.data!==null&&(P.data=u.data),P}function Qt(u){if(!!u)return u.map(P=>ut(P))}function Lt(u){if(!u)return;let P=new Map;if(u.changeAnnotations!==void 0)for(let ce of Object.keys(u.changeAnnotations)){let fn=lt(u.changeAnnotations[ce]);P.set(ce,fn)}let z=ce=>{if(ce!==void 0)return P.get(ce)},te=new $.WorkspaceEdit;if(u.documentChanges)for(let ce of u.documentChanges)if(Q.CreateFile.is(ce))te.createFile(r(ce.uri),ce.options,z(ce.annotationId));else if(Q.RenameFile.is(ce))te.renameFile(r(ce.oldUri),r(ce.newUri),ce.options,z(ce.annotationId));else if(Q.DeleteFile.is(ce))te.deleteFile(r(ce.uri),ce.options,z(ce.annotationId));else if(Q.TextDocumentEdit.is(ce)){let fn=r(ce.textDocument.uri);for(let kn of ce.edits)fl.AnnotatedTextEdit.is(kn)?te.replace(fn,w(kn.range),kn.newText,z(kn.annotationId)):te.replace(fn,w(kn.range),kn.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(ce,void 0,4)}`);else u.changes&&Object.keys(u.changes).forEach(ce=>{te.set(r(ce),Fe(u.changes[ce]))});return te}function lt(u){if(u!==void 0)return{label:u.label,needsConfirmation:!!u.needsConfirmation,description:u.description}}function Mt(u){let P=w(u.range),z=u.target?i(u.target):void 0,te=new my.default(P,z);return u.tooltip!==void 0&&(te.tooltip=u.tooltip),u.data!==void 0&&u.data!==null&&(te.data=u.data),te}function dt(u){if(!!u)return u.map(Mt)}function C(u){return new $.Color(u.red,u.green,u.blue,u.alpha)}function p(u){return new $.ColorInformation(w(u.range),C(u.color))}function l(u){if(Array.isArray(u))return u.map(p)}function g(u){let P=new $.ColorPresentation(u.label);return P.additionalTextEdits=Fe(u.additionalTextEdits),u.textEdit&&(P.textEdit=xe(u.textEdit)),P}function _(u){if(Array.isArray(u))return u.map(g)}function s(u){if(u)switch(u){case Q.FoldingRangeKind.Comment:return $.FoldingRangeKind.Comment;case Q.FoldingRangeKind.Imports:return $.FoldingRangeKind.Imports;case Q.FoldingRangeKind.Region:return $.FoldingRangeKind.Region}}function o(u){return new $.FoldingRange(u.startLine,u.endLine,s(u.kind))}function v(u){if(Array.isArray(u))return u.map(o)}function T(u){return new $.SelectionRange(w(u.range),u.parent?T(u.parent):void 0)}function x(u){if(!Array.isArray(u))return[];let P=[];for(let z of u)P.push(T(z));return P}function K(u){if(u===null)return;let P=new yy.default(Dt(u.kind),u.name,u.detail||"",i(u.uri),w(u.range),w(u.selectionRange),u.data);return u.tags!==void 0&&(P.tags=It(u.tags)),P}function X(u){if(u!==null)return u.map(P=>K(P))}function se(u){return new $.CallHierarchyIncomingCall(K(u.from),S(u.fromRanges))}function Ce(u){if(u!==null)return u.map(P=>se(P))}function be(u){return new $.CallHierarchyOutgoingCall(K(u.to),S(u.fromRanges))}function ee(u){if(u!==null)return u.map(P=>be(P))}function Zt(u){if(u!=null)return new $.SemanticTokens(new Uint32Array(u.data),u.resultId)}function dn(u){return new $.SemanticTokensEdit(u.start,u.deleteCount,u.data!==void 0?new Uint32Array(u.data):void 0)}function xr(u){if(u!=null)return new $.SemanticTokensEdits(u.edits.map(dn),u.resultId)}function Tf(u){return u}function Sf(u){if(u!=null)return new $.LinkedEditingRanges(S(u.ranges),Pf(u.wordPattern))}function Pf(u){if(u!=null)return new RegExp(u)}return{asUri:i,asDiagnostics:a,asDiagnostic:c,asRange:w,asRanges:S,asPosition:b,asDiagnosticSeverity:O,asDiagnosticTag:R,asHover:k,asCompletionResult:F,asCompletionItem:qe,asTextEdit:xe,asTextEdits:Fe,asSignatureHelp:Qe,asSignatureInformations:Be,asSignatureInformation:Ze,asParameterInformations:Ge,asParameterInformation:st,asDeclarationResult:yt,asDefinitionResult:ke,asLocation:de,asReferences:Rt,asDocumentHighlights:Gt,asDocumentHighlight:Xt,asDocumentHighlightKind:Ft,asSymbolKind:Dt,asSymbolTag:Et,asSymbolTags:It,asSymbolInformations:Nt,asSymbolInformation:Vt,asDocumentSymbols:cn,asDocumentSymbol:at,asCommand:ct,asCommands:un,asCodeAction:ln,asCodeActionKind:et,asCodeActionKinds:Yt,asCodeLens:ut,asCodeLenses:Qt,asWorkspaceEdit:Lt,asDocumentLink:Mt,asDocumentLinks:dt,asFoldingRangeKind:s,asFoldingRange:o,asFoldingRanges:v,asColor:C,asColorInformation:p,asColorInformations:l,asColorPresentation:g,asColorPresentations:_,asSelectionRange:T,asSelectionRanges:x,asSemanticTokensLegend:Tf,asSemanticTokens:Zt,asSemanticTokensEdit:dn,asSemanticTokensEdits:xr,asCallHierarchyItem:K,asCallHierarchyItems:X,asCallHierarchyIncomingCall:se,asCallHierarchyIncomingCalls:Ce,asCallHierarchyOutgoingCall:be,asCallHierarchyOutgoingCalls:ee,asLinkedEditingRanges:Sf}}si.createConverter=Ry});var ml=D(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.Delayer=void 0;var pl=me(),gl=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=pl.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(pl.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};oi.Delayer=gl});var ci=D(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.generateUuid=mt.parse=mt.isUUID=mt.v4=mt.empty=void 0;var ai=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Z=class extends ai{constructor(){super([Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),"-",Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),"-","4",Z._randomHex(),Z._randomHex(),Z._randomHex(),"-",Z._oneOf(Z._timeHighBits),Z._randomHex(),Z._randomHex(),Z._randomHex(),"-",Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Z._oneOf(Z._chars)}};Z._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Z._timeHighBits=["8","9","a","b"];mt.empty=new ai("00000000-0000-0000-0000-000000000000");function vl(){return new Z}mt.v4=vl;var Cy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function yl(t){return Cy.test(t)}mt.isUUID=yl;function by(t){if(!yl(t))throw new Error("invalid uuid");return new ai(t)}mt.parse=by;function _y(){return vl().asHex()}mt.generateUuid=_y});var As=D(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.ProgressPart=void 0;var Rl=require("vscode"),Cl=me(),bl=tn(),_l=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._disposable=this._client.onProgress(Cl.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){Rl.window.withProgress({location:Rl.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>(this._progress=n,this._infinite=e.percentage===void 0,this._cancellationToken=r,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Cl.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,a)=>{this._resolve=i,this._reject=a})))}report(e){if(this._infinite&&bl.string(e.message))this._progress.report({message:e.message});else if(bl.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._progress.report({message:e.message,increment:r}),this._reported+=r}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};ui.ProgressPart=_l});var it=D(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.BaseLanguageClient=we.MessageTransports=we.TextDocumentFeature=we.State=we.RevealOutputChannelOn=we.CloseAction=we.ErrorAction=void 0;var L=require("vscode"),m=me(),wy=Ts(),Ty=ll(),Sy=hl(),ue=tn(),wl=ml(),le=ci(),Py=As(),Tl=class{error(e){m.RAL().console.error(e)}warn(e){m.RAL().console.warn(e)}info(e){m.RAL().console.info(e)}log(e){m.RAL().console.log(e)}};function Dy(t,e,n,r,i){let a=new Tl,c=m.createProtocolConnection(t,e,a,i);return c.onError(d=>{n(d[0],d[1],d[2])}),c.onClose(r),{listen:()=>c.listen(),sendRequest:(d,...y)=>c.sendRequest(ue.string(d)?d:d.method,...y),onRequest:(d,y)=>c.onRequest(ue.string(d)?d:d.method,y),sendNotification:(d,y)=>c.sendNotification(ue.string(d)?d:d.method,y),onNotification:(d,y)=>c.onNotification(ue.string(d)?d:d.method,y),onProgress:c.onProgress,sendProgress:c.sendProgress,trace:(d,y,R)=>{let b={sendNotification:!1,traceFormat:m.TraceFormat.Text};R===void 0?c.trace(d,y,b):(ue.boolean(R),c.trace(d,y,R))},initialize:d=>c.sendRequest(m.InitializeRequest.type,d),shutdown:()=>c.sendRequest(m.ShutdownRequest.type,void 0),exit:()=>c.sendNotification(m.ExitNotification.type),onLogMessage:d=>c.onNotification(m.LogMessageNotification.type,d),onShowMessage:d=>c.onNotification(m.ShowMessageNotification.type,d),onTelemetry:d=>c.onNotification(m.TelemetryEventNotification.type,d),didChangeConfiguration:d=>c.sendNotification(m.DidChangeConfigurationNotification.type,d),didChangeWatchedFiles:d=>c.sendNotification(m.DidChangeWatchedFilesNotification.type,d),didOpenTextDocument:d=>c.sendNotification(m.DidOpenTextDocumentNotification.type,d),didChangeTextDocument:d=>c.sendNotification(m.DidChangeTextDocumentNotification.type,d),didCloseTextDocument:d=>c.sendNotification(m.DidCloseTextDocumentNotification.type,d),didSaveTextDocument:d=>c.sendNotification(m.DidSaveTextDocumentNotification.type,d),onDiagnostics:d=>c.onNotification(m.PublishDiagnosticsNotification.type,d),end:()=>c.end(),dispose:()=>c.dispose()}}var li;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(li=we.ErrorAction||(we.ErrorAction={}));var Sn;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Sn=we.CloseAction||(we.CloseAction={}));var Sl=class{constructor(e,n){this.name=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?li.Continue:li.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?Sn.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(L.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),Sn.DoNotRestart):(this.restarts.shift(),Sn.Restart)}},Sr;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Sr=we.RevealOutputChannelOn||(we.RevealOutputChannelOn={}));var di;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(di=we.State||(we.State={}));var pe;(function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.StartFailed=2]="StartFailed",t[t.Running=3]="Running",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped"})(pe||(pe={}));var Pl=[m.SymbolKind.File,m.SymbolKind.Module,m.SymbolKind.Namespace,m.SymbolKind.Package,m.SymbolKind.Class,m.SymbolKind.Method,m.SymbolKind.Property,m.SymbolKind.Field,m.SymbolKind.Constructor,m.SymbolKind.Enum,m.SymbolKind.Interface,m.SymbolKind.Function,m.SymbolKind.Variable,m.SymbolKind.Constant,m.SymbolKind.String,m.SymbolKind.Number,m.SymbolKind.Boolean,m.SymbolKind.Array,m.SymbolKind.Object,m.SymbolKind.Key,m.SymbolKind.Null,m.SymbolKind.EnumMember,m.SymbolKind.Struct,m.SymbolKind.Event,m.SymbolKind.Operator,m.SymbolKind.TypeParameter],Ey=[m.CompletionItemKind.Text,m.CompletionItemKind.Method,m.CompletionItemKind.Function,m.CompletionItemKind.Constructor,m.CompletionItemKind.Field,m.CompletionItemKind.Variable,m.CompletionItemKind.Class,m.CompletionItemKind.Interface,m.CompletionItemKind.Module,m.CompletionItemKind.Property,m.CompletionItemKind.Unit,m.CompletionItemKind.Value,m.CompletionItemKind.Enum,m.CompletionItemKind.Keyword,m.CompletionItemKind.Snippet,m.CompletionItemKind.Color,m.CompletionItemKind.File,m.CompletionItemKind.Reference,m.CompletionItemKind.Folder,m.CompletionItemKind.EnumMember,m.CompletionItemKind.Constant,m.CompletionItemKind.Struct,m.CompletionItemKind.Event,m.CompletionItemKind.Operator,m.CompletionItemKind.TypeParameter],Dl=[m.SymbolTag.Deprecated];function W(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Pr;(function(t){function e(n){let r=L.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(Pr||(Pr={}));var js;(function(t){function e(n){let r=n;return r&&ue.func(r.register)&&ue.func(r.unregister)&&ue.func(r.dispose)&&r.registrationType!==void 0}t.is=e})(js||(js={}));var kt=class{constructor(e,n,r,i,a,c){this._client=e,this._event=n,this._type=r,this._middleware=i,this._createParams=a,this._selectorFilter=c,this._selectors=new Map}static textDocumentFilter(e,n){for(let r of e)if(L.languages.match(r,n))return!0;return!1}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,n=>this._client.sendNotification(this._type,this._createParams(n))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(L.languages.match(n,e))return{send:r=>{this.callback(r)}}}},El=class extends kt{constructor(e,n){super(e,L.workspace.onDidOpenTextDocument,m.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),kt.textDocumentFilter);this._syncedDocuments=n}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:le.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return m.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=e.registerOptions.documentSelector;L.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&L.languages.match(n,r)){let a=this._client.clientOptions.middleware,c=f=>{this._client.sendNotification(this._type,this._createParams(f))};a.didOpen?a.didOpen(r,c):c(r),this._syncedDocuments.set(i,r)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},ql=class extends kt{constructor(e,n){super(e,L.workspace.onDidCloseTextDocument,m.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),kt.textDocumentFilter);this._syncedDocuments=n}get registrationType(){return m.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:le.generateUuid(),registerOptions:{documentSelector:n}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(L.languages.match(n,i)&&!this._selectorFilter(r,i)){let a=this._client.clientOptions.middleware,c=f=>{this._client.sendNotification(this._type,this._createParams(f))};this._syncedDocuments.delete(i.uri.toString()),a.didClose?a.didClose(i,c):c(i)}})}},Ol=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return m.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==m.TextDocumentSyncKind.None&&this.register({id:le.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=L.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let n of this._changeData.values())if(L.languages.match(n.documentSelector,e.document)){let r=this._client.clientOptions.middleware;if(n.syncKind===m.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);r.didChange?r.didChange(e,()=>this._client.sendNotification(m.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(m.DidChangeTextDocumentNotification.type,i)}else if(n.syncKind===m.TextDocumentSyncKind.Full){let i=a=>{this._changeDelayer?(this._changeDelayer.uri!==a.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=a.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(m.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(a.document))})):(this._changeDelayer={uri:a.document.uri.toString(),delayer:new wl.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(m.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(a.document))},-1))};r.didChange?r.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let n of this._changeData.values())if(L.languages.match(n.documentSelector,e))return{send:r=>{this.callback(r)}}}},kl=class extends kt{constructor(e){super(e,L.workspace.onWillSaveTextDocument,m.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),(n,r)=>kt.textDocumentFilter(n,r.document))}get registrationType(){return m.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:le.generateUuid(),registerOptions:{documentSelector:n}})}},xl=class{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return m.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:le.generateUuid(),registerOptions:{documentSelector:n}})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=L.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(kt.textDocumentFilter(this._selectors.values(),e.document)){let n=this._client.clientOptions.middleware,r=i=>this._client.sendRequest(m.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(a=>{let c=this._client.protocol2CodeConverter.asTextEdits(a);return c===void 0?[]:c});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},Fl=class extends kt{constructor(e){super(e,L.workspace.onDidSaveTextDocument,m.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),kt.textDocumentFilter);this._includeText=!1}get registrationType(){return m.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:le.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}},Nl=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}get registrationType(){return m.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){W(W(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){if(!ue.string(r.globPattern))continue;let i=!0,a=!0,c=!0;r.kind!==void 0&&r.kind!==null&&(i=(r.kind&m.WatchKind.Create)!=0,a=(r.kind&m.WatchKind.Change)!=0,c=(r.kind&m.WatchKind.Delete)!=0);let f=L.workspace.createFileSystemWatcher(r.globPattern,!i,!a,!c);this.hookListeners(f,i,a,c),n.push(f)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,a){n&&e.onDidCreate(c=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(c),type:m.FileChangeType.Created}),null,a),r&&e.onDidChange(c=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(c),type:m.FileChangeType.Changed}),null,a),i&&e.onDidDelete(c=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(c),type:m.FileChangeType.Deleted}),null,a)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}dispose(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}},Ue=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(m.TextDocumentRegistrationOptions.is(n)){let r=m.StaticRegistrationOptions.hasId(n)?n.id:le.generateUuid(),i=n.documentSelector||e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(ue.boolean(n)&&n===!0||m.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=ue.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[le.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return ue.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&L.languages.match(r,e))return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};we.TextDocumentFeature=Ue;var Il=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}},Ll=class extends Ue{constructor(e){super(e,m.CompletionRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[m.MarkupKind.Markdown,m.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[m.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[m.InsertTextMode.asIs,m.InsertTextMode.adjustIndentation]}},n.completionItemKind={valueSet:Ey}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.triggerCharacters||[],r={provideCompletionItems:(i,a,c,f)=>{let d=this._client,y=this._client.clientOptions.middleware,R=(b,w,S,O)=>d.sendRequest(m.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(b,w,S),O).then(d.protocol2CodeConverter.asCompletionResult,N=>d.handleFailedRequest(m.CompletionRequest.type,N,null));return y.provideCompletionItem?y.provideCompletionItem(i,a,f,c,R):R(i,a,f,c)},resolveCompletionItem:e.resolveProvider?(i,a)=>{let c=this._client,f=this._client.clientOptions.middleware,d=(y,R)=>c.sendRequest(m.CompletionResolveRequest.type,c.code2ProtocolConverter.asCompletionItem(y),R).then(c.protocol2CodeConverter.asCompletionItem,b=>c.handleFailedRequest(m.CompletionResolveRequest.type,b,y));return f.resolveCompletionItem?f.resolveCompletionItem(i,a,d):d(i,a)}:void 0};return[L.languages.registerCompletionItemProvider(e.documentSelector,r,...n),r]}},Ml=class extends Ue{constructor(e){super(e,m.HoverRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[m.MarkupKind.Markdown,m.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideHover:(r,i,a)=>{let c=this._client,f=(y,R,b)=>c.sendRequest(m.HoverRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(y,R),b).then(c.protocol2CodeConverter.asHover,w=>c.handleFailedRequest(m.HoverRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideHover?d.provideHover(r,i,a,f):f(r,i,a)}};return[L.languages.registerHoverProvider(e.documentSelector,n),n]}},Al=class extends Ue{constructor(e){super(e,m.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[m.MarkupKind.Markdown,m.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,a,c,f)=>{let d=this._client,y=(b,w,S,O)=>d.sendRequest(m.SignatureHelpRequest.type,d.code2ProtocolConverter.asSignatureHelpParams(b,w,S),O).then(d.protocol2CodeConverter.asSignatureHelp,N=>d.handleFailedRequest(m.SignatureHelpRequest.type,N,null)),R=d.clientOptions.middleware;return R.provideSignatureHelp?R.provideSignatureHelp(i,a,f,c,y):y(i,a,f,c)}},r;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];r=L.languages.registerSignatureHelpProvider(e.documentSelector,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};r=L.languages.registerSignatureHelpProvider(e.documentSelector,n,i)}return[r,n]}},jl=class extends Ue{constructor(e){super(e,m.DefinitionRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDefinition:(r,i,a)=>{let c=this._client,f=(y,R,b)=>c.sendRequest(m.DefinitionRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(y,R),b).then(c.protocol2CodeConverter.asDefinitionResult,w=>c.handleFailedRequest(m.DefinitionRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideDefinition?d.provideDefinition(r,i,a,f):f(r,i,a)}};return[L.languages.registerDefinitionProvider(e.documentSelector,n),n]}},$l=class extends Ue{constructor(e){super(e,m.ReferencesRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideReferences:(r,i,a,c)=>{let f=this._client,d=(R,b,w,S)=>f.sendRequest(m.ReferencesRequest.type,f.code2ProtocolConverter.asReferenceParams(R,b,w),S).then(f.protocol2CodeConverter.asReferences,O=>f.handleFailedRequest(m.ReferencesRequest.type,O,null)),y=f.clientOptions.middleware;return y.provideReferences?y.provideReferences(r,i,a,c,d):d(r,i,a,c)}};return[L.languages.registerReferenceProvider(e.documentSelector,n),n]}},Kl=class extends Ue{constructor(e){super(e,m.DocumentHighlightRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentHighlights:(r,i,a)=>{let c=this._client,f=(y,R,b)=>c.sendRequest(m.DocumentHighlightRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(y,R),b).then(c.protocol2CodeConverter.asDocumentHighlights,w=>c.handleFailedRequest(m.DocumentHighlightRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideDocumentHighlights?d.provideDocumentHighlights(r,i,a,f):f(r,i,a)}};return[L.languages.registerDocumentHighlightProvider(e.documentSelector,n),n]}},Hl=class extends Ue{constructor(e){super(e,m.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Pl},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:Dl},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentSymbols:(i,a)=>{let c=this._client,f=(y,R)=>c.sendRequest(m.DocumentSymbolRequest.type,c.code2ProtocolConverter.asDocumentSymbolParams(y),R).then(b=>{if(b!==null){if(b.length===0)return[];{let w=b[0];return m.DocumentSymbol.is(w)?c.protocol2CodeConverter.asDocumentSymbols(b):c.protocol2CodeConverter.asSymbolInformations(b)}}},b=>c.handleFailedRequest(m.DocumentSymbolRequest.type,b,null)),d=c.clientOptions.middleware;return d.provideDocumentSymbols?d.provideDocumentSymbols(i,a,f):f(i,a)}},r=e.label!==void 0?{label:e.label}:void 0;return[L.languages.registerDocumentSymbolProvider(e.documentSelector,n,r),n]}},Wl=class extends Il{constructor(e){super(e,m.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=W(W(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Pl},n.tagSupport={valueSet:Dl}}initialize(e){!e.workspaceSymbolProvider||this.register({id:le.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let a=this._client,c=(d,y)=>a.sendRequest(m.WorkspaceSymbolRequest.type,{query:d},y).then(a.protocol2CodeConverter.asSymbolInformations,R=>a.handleFailedRequest(m.WorkspaceSymbolRequest.type,R,null)),f=a.clientOptions.middleware;return f.provideWorkspaceSymbols?f.provideWorkspaceSymbols(r,i,c):c(r,i)}};return[L.languages.registerWorkspaceSymbolProvider(n),n]}},zl=class extends Ue{constructor(e){super(e,m.CodeActionRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[m.CodeActionKind.Empty,m.CodeActionKind.QuickFix,m.CodeActionKind.Refactor,m.CodeActionKind.RefactorExtract,m.CodeActionKind.RefactorInline,m.CodeActionKind.RefactorRewrite,m.CodeActionKind.Source,m.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!1}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideCodeActions:(r,i,a,c)=>{let f=this._client,d=(R,b,w,S)=>{let O={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(R),range:f.code2ProtocolConverter.asRange(b),context:f.code2ProtocolConverter.asCodeActionContext(w)};return f.sendRequest(m.CodeActionRequest.type,O,S).then(N=>{if(N===null)return;let H=[];for(let I of N)m.Command.is(I)?H.push(f.protocol2CodeConverter.asCommand(I)):H.push(f.protocol2CodeConverter.asCodeAction(I));return H},N=>f.handleFailedRequest(m.CodeActionRequest.type,N,null))},y=f.clientOptions.middleware;return y.provideCodeActions?y.provideCodeActions(r,i,a,c,d):d(r,i,a,c)},resolveCodeAction:e.resolveProvider?(r,i)=>{let a=this._client,c=this._client.clientOptions.middleware,f=(d,y)=>a.sendRequest(m.CodeActionResolveRequest.type,a.code2ProtocolConverter.asCodeAction(d),y).then(a.protocol2CodeConverter.asCodeAction,R=>a.handleFailedRequest(m.CodeActionResolveRequest.type,R,d));return c.resolveCodeAction?c.resolveCodeAction(r,i,f):f(r,i)}:void 0};return[L.languages.registerCodeActionsProvider(e.documentSelector,n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}},Ul=class extends Ue{constructor(e){super(e,m.CodeLensRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"codeLens").dynamicRegistration=!0,W(W(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(m.CodeLensRefreshRequest.type,async()=>{for(let a of this.getAllProviders())a.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(n,e.codeLensProvider);!i||this.register({id:le.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=new L.EventEmitter,r={onDidChangeCodeLenses:n.event,provideCodeLenses:(i,a)=>{let c=this._client,f=(y,R)=>c.sendRequest(m.CodeLensRequest.type,c.code2ProtocolConverter.asCodeLensParams(y),R).then(c.protocol2CodeConverter.asCodeLenses,b=>c.handleFailedRequest(m.CodeLensRequest.type,b,null)),d=c.clientOptions.middleware;return d.provideCodeLenses?d.provideCodeLenses(i,a,f):f(i,a)},resolveCodeLens:e.resolveProvider?(i,a)=>{let c=this._client,f=(y,R)=>c.sendRequest(m.CodeLensResolveRequest.type,c.code2ProtocolConverter.asCodeLens(y),R).then(c.protocol2CodeConverter.asCodeLens,b=>c.handleFailedRequest(m.CodeLensResolveRequest.type,b,y)),d=c.clientOptions.middleware;return d.resolveCodeLens?d.resolveCodeLens(i,a,f):f(i,a)}:void 0};return[L.languages.registerCodeLensProvider(e.documentSelector,r),{provider:r,onDidChangeCodeLensEmitter:n}]}},Bl=class extends Ue{constructor(e){super(e,m.DocumentFormattingRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentFormattingEdits:(r,i,a)=>{let c=this._client,f=(y,R,b)=>{let w={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(y),options:c.code2ProtocolConverter.asFormattingOptions(R,Pr.fromConfiguration(y))};return c.sendRequest(m.DocumentFormattingRequest.type,w,b).then(c.protocol2CodeConverter.asTextEdits,S=>c.handleFailedRequest(m.DocumentFormattingRequest.type,S,null))},d=c.clientOptions.middleware;return d.provideDocumentFormattingEdits?d.provideDocumentFormattingEdits(r,i,a,f):f(r,i,a)}};return[L.languages.registerDocumentFormattingEditProvider(e.documentSelector,n),n]}},Gl=class extends Ue{constructor(e){super(e,m.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentRangeFormattingEdits:(r,i,a,c)=>{let f=this._client,d=(R,b,w,S)=>{let O={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(R),range:f.code2ProtocolConverter.asRange(b),options:f.code2ProtocolConverter.asFormattingOptions(w,Pr.fromConfiguration(R))};return f.sendRequest(m.DocumentRangeFormattingRequest.type,O,S).then(f.protocol2CodeConverter.asTextEdits,N=>f.handleFailedRequest(m.DocumentRangeFormattingRequest.type,N,null))},y=f.clientOptions.middleware;return y.provideDocumentRangeFormattingEdits?y.provideDocumentRangeFormattingEdits(r,i,a,c,d):d(r,i,a,c)}};return[L.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,n),n]}},Xl=class extends Ue{constructor(e){super(e,m.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideOnTypeFormattingEdits:(i,a,c,f,d)=>{let y=this._client,R=(w,S,O,N,H)=>{let I={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(w),position:y.code2ProtocolConverter.asPosition(S),ch:O,options:y.code2ProtocolConverter.asFormattingOptions(N,Pr.fromConfiguration(w))};return y.sendRequest(m.DocumentOnTypeFormattingRequest.type,I,H).then(y.protocol2CodeConverter.asTextEdits,k=>y.handleFailedRequest(m.DocumentOnTypeFormattingRequest.type,k,null))},b=y.clientOptions.middleware;return b.provideOnTypeFormattingEdits?b.provideOnTypeFormattingEdits(i,a,c,f,d,R):R(i,a,c,f,d)}},r=e.moreTriggerCharacter||[];return[L.languages.registerOnTypeFormattingEditProvider(e.documentSelector,n,e.firstTriggerCharacter,...r),n]}},Vl=class extends Ue{constructor(e){super(e,m.RenameRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=m.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);!r||(ue.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:le.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n={provideRenameEdits:(r,i,a,c)=>{let f=this._client,d=(R,b,w,S)=>{let O={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(R),position:f.code2ProtocolConverter.asPosition(b),newName:w};return f.sendRequest(m.RenameRequest.type,O,S).then(f.protocol2CodeConverter.asWorkspaceEdit,N=>f.handleFailedRequest(m.RenameRequest.type,N,null))},y=f.clientOptions.middleware;return y.provideRenameEdits?y.provideRenameEdits(r,i,a,c,d):d(r,i,a,c)},prepareRename:e.prepareProvider?(r,i,a)=>{let c=this._client,f=(y,R,b)=>{let w={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(y),position:c.code2ProtocolConverter.asPosition(R)};return c.sendRequest(m.PrepareRenameRequest.type,w,b).then(S=>m.Range.is(S)?c.protocol2CodeConverter.asRange(S):this.isDefaultBehavior(S)?S.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):S&&m.Range.is(S.range)?{range:c.protocol2CodeConverter.asRange(S.range),placeholder:S.placeholder}:Promise.reject(new Error("The element can't be renamed.")),S=>c.handleFailedRequest(m.PrepareRenameRequest.type,S,void 0))},d=c.clientOptions.middleware;return d.prepareRename?d.prepareRename(r,i,a,f):f(r,i,a)}:void 0};return[L.languages.registerRenameProvider(e.documentSelector,n),n]}isDefaultBehavior(e){let n=e;return n&&ue.boolean(n.defaultBehavior)}},Jl=class extends Ue{constructor(e){super(e,m.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);!r||this.register({id:le.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentLinks:(r,i)=>{let a=this._client,c=(d,y)=>a.sendRequest(m.DocumentLinkRequest.type,a.code2ProtocolConverter.asDocumentLinkParams(d),y).then(a.protocol2CodeConverter.asDocumentLinks,R=>a.handleFailedRequest(m.DocumentLinkRequest.type,R,null)),f=a.clientOptions.middleware;return f.provideDocumentLinks?f.provideDocumentLinks(r,i,c):c(r,i)},resolveDocumentLink:e.resolveProvider?(r,i)=>{let a=this._client,c=(d,y)=>a.sendRequest(m.DocumentLinkResolveRequest.type,a.code2ProtocolConverter.asDocumentLink(d),y).then(a.protocol2CodeConverter.asDocumentLink,R=>a.handleFailedRequest(m.DocumentLinkResolveRequest.type,R,d)),f=a.clientOptions.middleware;return f.resolveDocumentLink?f.resolveDocumentLink(r,i,c):c(r,i)}:void 0};return[L.languages.registerDocumentLinkProvider(e.documentSelector,n),n]}},Yl=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return m.DidChangeConfigurationNotification.type}fillClientCapabilities(e){W(W(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register({id:le.generateUuid(),registerOptions:{section:e}})}register(e){let n=L.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,n){let r;if(ue.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(f=>n.affectsConfiguration(f)))return;let i=c=>{if(c===void 0){this._client.sendNotification(m.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(m.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(c)})},a=this.getMiddleware();a?a(r,i):i(r)}extractSettingsInformation(e){function n(a,c){let f=a;for(let d=0;d<c.length-1;d++){let y=f[c[d]];y||(y=Object.create(null),f[c[d]]=y),f=y}return f}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let a=0;a<e.length;a++){let c=e[a],f=c.indexOf("."),d=null;if(f>=0?d=L.workspace.getConfiguration(c.substr(0,f),r).get(c.substr(f+1)):d=L.workspace.getConfiguration(void 0,r).get(c),d){let y=e[a].split(".");n(i,y)[y[y.length-1]]=wy.toJSONObject(d)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},Ql=class{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return m.ExecuteCommandRequest.type}fillClientCapabilities(e){W(W(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){!e.executeCommandProvider||this.register({id:le.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.clientOptions.middleware,i=(a,c)=>{let f={command:a,arguments:c};return n.sendRequest(m.ExecuteCommandRequest.type,f).then(void 0,d=>n.handleFailedRequest(m.ExecuteCommandRequest.type,d,void 0))};if(e.registerOptions.commands){let a=[];for(let c of e.registerOptions.commands)a.push(L.commands.registerCommand(c,(...f)=>r.executeCommand?r.executeCommand(c,f,i):i(c,f)));this._commands.set(e.id,a)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}},qy;(function(t){function e(n){return n&&m.MessageReader.is(n.reader)&&m.MessageWriter.is(n.writer)}t.is=e})(qy=we.MessageTransports||(we.MessageTransports={}));var $s=class{constructor(e,n){this._resolve=e,this._reject=n,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},Bn=class{constructor(e,n,r){var i;this._traceFormat=m.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=n,r=r||{};let a={isTrusted:!1};r.markdown!==void 0&&r.markdown.isTrusted===!0&&(a.isTrusted=!0),this._clientOptions={documentSelector:r.documentSelector||[],synchronize:r.synchronize||{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName||this._name,revealOutputChannelOn:r.revealOutputChannelOn||Sr.Error,stdioEncoding:r.stdioEncoding||"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler||this.createDefaultErrorHandler((i=r.connectionOptions)===null||i===void 0?void 0:i.maxRestartCount),middleware:r.middleware||{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:a},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=pe.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new wl.Delayer(250),this._onReady=new Promise((c,f)=>{this._onReadyCallbacks=new $s(c,f)}),this._onStop=void 0,this._telemetryEmitter=new m.Emitter,this._stateChangeEmitter=new m.Emitter,this._trace=m.Trace.Off,this._tracer={log:(c,f)=>{ue.string(c)?this.logTrace(c,f):this.logObjectTrace(c)}},this._c2p=Ty.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=Sy.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){return this.state===pe.Running?di.Running:this.state===pe.Starting?di.Starting:di.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...n)}catch(r){throw this.error(`Sending request ${ue.string(e)?e:e.method} failed.`,r),r}}onRequest(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,n)}catch(r){throw this.error(`Registering request handler ${ue.string(e)?e:e.method} failed.`,r),r}}sendNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,n)}catch(r){throw this.error(`Sending notification ${ue.string(e)?e:e.method} failed.`,r),r}}onNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,n)}catch(r){throw this.error(`Registering notification handler ${ue.string(e)?e:e.method} failed.`,r),r}}onProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(m.WorkDoneProgress.is(e)){let i=this._clientOptions.middleware.handleWorkDoneProgress;if(i!==void 0)return this._resolvedConnection.onProgress(e,n,a=>{i(n,a,()=>r(a))})}return this._resolvedConnection.onProgress(e,n,r)}catch(i){throw this.error(`Registering progress handler for token ${n} failed.`,i),i}}sendProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=L.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Sl(this._name,e??4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(n=>{n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof m.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?ue.string(e.stack)?e.stack:e.message:ue.string(e)?e:e.toString()}info(e,n,r=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Sr.Info&&this.showNotificationMessage()}warn(e,n,r=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Sr.Warn&&this.showNotificationMessage()}error(e,n,r=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Sr.Error&&this.showNotificationMessage()}showNotificationMessage(){L.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===pe.Initial||this.state===pe.Stopping||this.state===pe.Stopped}needsStop(){return this.state===pe.Starting||this.state===pe.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===pe.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,n)=>{this._onReadyCallbacks=new $s(e,n)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?L.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):L.languages.createDiagnosticCollection()),this.state=pe.Starting,this.resolveConnection().then(e=>(e.onLogMessage(n=>{switch(n.type){case m.MessageType.Error:this.error(n.message,void 0,!1);break;case m.MessageType.Warning:this.warn(n.message,void 0,!1);break;case m.MessageType.Info:this.info(n.message,void 0,!1);break;default:this.outputChannel.appendLine(n.message)}}),e.onShowMessage(n=>{switch(n.type){case m.MessageType.Error:L.window.showErrorMessage(n.message);break;case m.MessageType.Warning:L.window.showWarningMessage(n.message);break;case m.MessageType.Info:L.window.showInformationMessage(n.message);break;default:L.window.showInformationMessage(n.message)}}),e.onRequest(m.ShowMessageRequest.type,n=>{let r;switch(n.type){case m.MessageType.Error:r=L.window.showErrorMessage;break;case m.MessageType.Warning:r=L.window.showWarningMessage;break;case m.MessageType.Info:r=L.window.showInformationMessage;break;default:r=L.window.showInformationMessage}let i=n.actions||[];return r(n.message,...i)}),e.onTelemetry(n=>{this._telemetryEmitter.fire(n)}),e.onRequest(m.ShowDocumentRequest.type,async n=>{var r;let i=async c=>{let f=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await L.env.openExternal(f)};{let d={};return c.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?d.preserveFocus=!0:c.takeFocus===!0&&(d.preserveFocus=!1),await L.window.showTextDocument(f,d),{success:!0}}}catch{return{success:!0}}},a=(r=this._clientOptions.middleware.window)===null||r===void 0?void 0:r.showDocument;return a!==void 0?a(n,i):i(n)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=pe.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),L.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new L.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,r=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:L.env.appName,version:L.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(L.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ue.func(n)?n():n,trace:m.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let a=le.generateUuid(),c=new Py.ProgressPart(e,a);return i.workDoneToken=a,this.doInitialize(e,i).then(f=>(c.done(),f),f=>{throw c.cancel(),f})}else return this.doInitialize(e,i)}doInitialize(e,n){return e.initialize(n).then(r=>{this._resolvedConnection=e,this._initializeResult=r,this.state=pe.Running;let i;return ue.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===m.TextDocumentSyncKind.None?i={openClose:!1,change:m.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(a=>this.handleDiagnostics(a)),e.onRequest(m.RegistrationRequest.type,a=>this.handleRegistrationRequest(a)),e.onRequest("client/registerFeature",a=>this.handleRegistrationRequest(a)),e.onRequest(m.UnregistrationRequest.type,a=>this.handleUnregistrationRequest(a)),e.onRequest("client/unregisterFeature",a=>this.handleUnregistrationRequest(a)),e.onRequest(m.ApplyWorkspaceEditRequest.type,a=>this.handleApplyWorkspaceEdit(a)),e.sendNotification(m.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),r}).then(void 0,r=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r)):r instanceof m.ResponseError&&r.data&&r.data.retry?L.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r))}):(r&&r.message&&L.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop(),this._onReadyCallbacks.reject(r)),r})}_clientGetRootPath(){let e=L.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===pe.Stopping&&this._onStop?this._onStop:(this.state=pe.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=pe.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=pe.Stopped,Promise.resolve())}cleanUp(e=!0,n=!0){this._listeners&&(this._listeners.forEach(r=>r.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(r=>r.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let r of this._features.values())r.dispose();e&&this.cleanUpChannel(),n&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var n;let r=this;function i(c){r._fileEvents.push(c),r._fileEventDelayer.trigger(()=>{r.onReady().then(()=>{r.resolveConnection().then(f=>{r.isConnectionActive()&&(r.forceDocumentSync(),f.didChangeWatchedFiles({changes:r._fileEvents})),r._fileEvents=[]})},f=>{r.error("Notify file events failed.",f)})})}let a=(n=this.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;(a==null?void 0:a.didChangeWatchedFile)?a.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(m.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let n=this._p2c.asUri(e.uri),r=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,r,(a,c)=>this.setDiagnostics(a,c)):this.setDiagnostics(n,r)}setDiagnostics(e,n){!this._diagnostics||this._diagnostics.set(e,n)}createConnection(){let e=(r,i,a)=>{this.handleConnectionError(r,i,a)},n=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(r=>Dy(r.reader,r.writer,e,n,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===pe.Stopping||this.state===pe.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=Sn.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===Sn.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===pe.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=pe.StartFailed):this.state=pe.Stopped,this.cleanUp(!1,!0)):e===Sn.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=pe.Initial,this.start())}handleConnectionError(e,n,r){this._clientOptions.errorHandler.error(e,n,r)===li.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){L.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,n=!1){let r=L.workspace.getConfiguration(this._id),i=m.Trace.Off,a=m.TraceFormat.Text;if(r){let c=r.get("trace.server","off");typeof c=="string"?i=m.Trace.fromString(c):(i=m.Trace.fromString(r.get("trace.server.verbosity","off")),a=m.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=a,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;ue.array(n)?r=n:r=[n],!!r&&this._dynamicFeatures.get(m.DidChangeWatchedFilesNotification.type.method).registerRaw(le.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),js.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new Yl(this)),this.registerFeature(new El(this,this._syncedDocuments)),this.registerFeature(new Ol(this)),this.registerFeature(new kl(this)),this.registerFeature(new xl(this)),this.registerFeature(new Fl(this)),this.registerFeature(new ql(this,this._syncedDocuments)),this.registerFeature(new Nl(this,e=>this.notifyFileEvent(e))),this.registerFeature(new Ll(this)),this.registerFeature(new Ml(this)),this.registerFeature(new Al(this)),this.registerFeature(new jl(this)),this.registerFeature(new $l(this)),this.registerFeature(new Kl(this)),this.registerFeature(new Hl(this)),this.registerFeature(new Wl(this)),this.registerFeature(new zl(this)),this.registerFeature(new Ul(this)),this.registerFeature(new Bl(this)),this.registerFeature(new Gl(this)),this.registerFeature(new Xl(this)),this.registerFeature(new Vl(this)),this.registerFeature(new Jl(this)),this.registerFeature(new Ql(this))}fillInitializeParams(e){for(let n of this._features)ue.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};W(e,"workspace").applyEdit=!0;let n=W(W(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[m.ResourceOperationKind.Create,m.ResourceOperationKind.Rename,m.ResourceOperationKind.Delete],n.failureHandling=m.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=W(W(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[m.DiagnosticTag.Unnecessary,m.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=W(e,"window"),a=W(i,"showMessage");a.messageActionItem={additionalPropertiesSupport:!0};let c=W(i,"showDocument");c.support=!0;let f=W(e,"general");f.regularExpressions={engine:"ECMAScript",version:"ES2020"},f.markdown={parser:"marked",version:"1.1.0"};for(let d of this._features)d.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)r.initialize(this._capabilities,n)}handleRegistrationRequest(e){return new Promise((n,r)=>{for(let i of e.registrations){let a=this._dynamicFeatures.get(i.method);if(a===void 0){r(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let c=i.registerOptions||{};c.documentSelector=c.documentSelector||this._clientOptions.documentSelector;let f={id:i.id,registerOptions:c};try{a.register(f)}catch(d){r(d);return}}n()})}handleUnregistrationRequest(e){return new Promise((n,r)=>{for(let i of e.unregisterations){let a=this._dynamicFeatures.get(i.method);if(!a){r(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}a.unregister(i.id)}n()})}handleApplyWorkspaceEdit(e){let n=e.edit,r=new Map;L.workspace.textDocuments.forEach(a=>r.set(a.uri.toString(),a));let i=!1;if(n.documentChanges){for(let a of n.documentChanges)if(m.TextDocumentEdit.is(a)&&a.textDocument.version&&a.textDocument.version>=0){let c=r.get(a.textDocument.uri);if(c&&c.version!==a.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):ue.asPromise(L.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(a=>({applied:a})))}handleFailedRequest(e,n,r){if(n instanceof m.ResponseError){if(n.code===m.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(n.code===m.LSPErrorCodes.ContentModified)return r}throw this.error(`Request ${e.method} failed.`,n),n}makeCancelError(){let e=new Error(Bn.Canceled);return e.name=Bn.Canceled,e}};we.BaseLanguageClient=Bn;Bn.Canceled="Canceled"});var td=D(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.ColorProviderFeature=void 0;var fi=require("vscode"),Dr=me(),Oy=it();function Zl(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var ed=class extends Oy.TextDocumentFeature{constructor(e){super(e,Dr.DocumentColorRequest.type)}fillClientCapabilities(e){Zl(Zl(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideColorPresentations:(r,i,a)=>{let c=this._client,f=(y,R,b)=>{let w={color:y,textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(R.document),range:c.code2ProtocolConverter.asRange(R.range)};return c.sendRequest(Dr.ColorPresentationRequest.type,w,b).then(this.asColorPresentations.bind(this),S=>c.handleFailedRequest(Dr.ColorPresentationRequest.type,S,null))},d=c.clientOptions.middleware;return d.provideColorPresentations?d.provideColorPresentations(r,i,a,f):f(r,i,a)},provideDocumentColors:(r,i)=>{let a=this._client,c=(d,y)=>{let R={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d)};return a.sendRequest(Dr.DocumentColorRequest.type,R,y).then(this.asColorInformations.bind(this),b=>a.handleFailedRequest(Dr.ColorPresentationRequest.type,b,null))},f=a.clientOptions.middleware;return f.provideDocumentColors?f.provideDocumentColors(r,i,c):c(r,i)}};return[fi.languages.registerColorProvider(e.documentSelector,n),n]}asColor(e){return new fi.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(n=>new fi.ColorInformation(this._client.protocol2CodeConverter.asRange(n.range),this.asColor(n.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(n=>{let r=new fi.ColorPresentation(n.label);return r.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(n.additionalTextEdits),r.textEdit=this._client.protocol2CodeConverter.asTextEdit(n.textEdit),r}):[]}};hi.ColorProviderFeature=ed});var id=D(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.ImplementationFeature=void 0;var ky=require("vscode"),Ks=me(),xy=it();function nd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var rd=class extends xy.TextDocumentFeature{constructor(e){super(e,Ks.ImplementationRequest.type)}fillClientCapabilities(e){let n=nd(nd(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideImplementation:(r,i,a)=>{let c=this._client,f=(y,R,b)=>c.sendRequest(Ks.ImplementationRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(y,R),b).then(c.protocol2CodeConverter.asDefinitionResult,w=>c.handleFailedRequest(Ks.ImplementationRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideImplementation?d.provideImplementation(r,i,a,f):f(r,i,a)}};return[ky.languages.registerImplementationProvider(e.documentSelector,n),n]}};pi.ImplementationFeature=rd});var od=D(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.TypeDefinitionFeature=void 0;var Fy=require("vscode"),Hs=me(),Ny=it();function gi(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var sd=class extends Ny.TextDocumentFeature{constructor(e){super(e,Hs.TypeDefinitionRequest.type)}fillClientCapabilities(e){gi(gi(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=gi(gi(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideTypeDefinition:(r,i,a)=>{let c=this._client,f=(y,R,b)=>c.sendRequest(Hs.TypeDefinitionRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(y,R),b).then(c.protocol2CodeConverter.asDefinitionResult,w=>c.handleFailedRequest(Hs.TypeDefinitionRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideTypeDefinition?d.provideTypeDefinition(r,i,a,f):f(r,i,a)}};return[Fy.languages.registerTypeDefinitionProvider(e.documentSelector,n),n]}};mi.TypeDefinitionFeature=sd});var cd=D(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.WorkspaceFoldersFeature=Gn.arrayDiff=void 0;var Iy=ci(),vi=require("vscode"),Ws=me();function zs(t,e){if(t!==void 0)return t[e]}function Us(t,e){return t.filter(n=>e.indexOf(n)<0)}Gn.arrayDiff=Us;var ad=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return Ws.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=vi.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(Ws.WorkspaceFoldersRequest.type,a=>{let c=()=>{let d=vi.workspace.workspaceFolders;return d===void 0?null:d.map(R=>this.asProtocol(R))},f=n.clientOptions.middleware.workspace;return f&&f.workspaceFolders?f.workspaceFolders(a,c):c(a)});let r=zs(zs(zs(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=Iy.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let n=Us(this._initialFolders,e),r=Us(e,this._initialFolders);(r.length>0||n.length>0)&&this.doSendEvent(r,n)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};this._client.sendNotification(Ws.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,i=vi.workspace.onDidChangeWorkspaceFolders(a=>{let c=d=>{this.doSendEvent(d.added,d.removed)},f=r.clientOptions.middleware.workspace;f&&f.didChangeWorkspaceFolders?f.didChangeWorkspaceFolders(a,c):c(a)});this._listeners.set(n,i),this.sendInitialEvent(vi.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Gn.WorkspaceFoldersFeature=ad});var ld=D(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.FoldingRangeFeature=void 0;var Er=require("vscode"),Xn=me(),Ly=it();function ud(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var qr=class extends Ly.TextDocumentFeature{constructor(e){super(e,Xn.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=ud(ud(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideFoldingRanges:(r,i,a)=>{let c=this._client,f=(y,R,b)=>{let w={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(y)};return c.sendRequest(Xn.FoldingRangeRequest.type,w,b).then(qr.asFoldingRanges,S=>c.handleFailedRequest(Xn.FoldingRangeRequest.type,S,null))},d=c.clientOptions.middleware;return d.provideFoldingRanges?d.provideFoldingRanges(r,i,a,f):f(r,i,a)}};return[Er.languages.registerFoldingRangeProvider(e.documentSelector,n),n]}static asFoldingRangeKind(e){if(e)switch(e){case Xn.FoldingRangeKind.Comment:return Er.FoldingRangeKind.Comment;case Xn.FoldingRangeKind.Imports:return Er.FoldingRangeKind.Imports;case Xn.FoldingRangeKind.Region:return Er.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(n=>new Er.FoldingRange(n.startLine,n.endLine,qr.asFoldingRangeKind(n.kind))):[]}};yi.FoldingRangeFeature=qr});var hd=D(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.DeclarationFeature=void 0;var My=require("vscode"),Bs=me(),Ay=it();function dd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var fd=class extends Ay.TextDocumentFeature{constructor(e){super(e,Bs.DeclarationRequest.type)}fillClientCapabilities(e){let n=dd(dd(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideDeclaration:(r,i,a)=>{let c=this._client,f=(y,R,b)=>c.sendRequest(Bs.DeclarationRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(y,R),b).then(c.protocol2CodeConverter.asDeclarationResult,w=>c.handleFailedRequest(Bs.DeclarationRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideDeclaration?d.provideDeclaration(r,i,a,f):f(r,i,a)}};return[My.languages.registerDeclarationProvider(e.documentSelector,n),n]}};Ri.DeclarationFeature=fd});var md=D(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.SelectionRangeFeature=void 0;var jy=require("vscode"),Gs=me(),$y=it();function pd(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var gd=class extends $y.TextDocumentFeature{constructor(e){super(e,Gs.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=pd(pd(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideSelectionRanges:(r,i,a)=>{let c=this._client,f=(y,R,b)=>{let w={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(y),positions:c.code2ProtocolConverter.asPositions(R)};return c.sendRequest(Gs.SelectionRangeRequest.type,w,b).then(S=>c.protocol2CodeConverter.asSelectionRanges(S),S=>c.handleFailedRequest(Gs.SelectionRangeRequest.type,S,null))},d=c.clientOptions.middleware;return d.provideSelectionRanges?d.provideSelectionRanges(r,i,a,f):f(r,i,a)}};return[jy.languages.registerSelectionRangeProvider(e.documentSelector,n),n]}};Ci.SelectionRangeFeature=gd});var yd=D(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.ProgressFeature=void 0;var Ky=me(),Hy=As();function Wy(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var vd=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){Wy(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new Hy.ProgressPart(this._client,i.token,n))};e.onRequest(Ky.WorkDoneProgressCreateRequest.type,r)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};bi.ProgressFeature=vd});var _d=D(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.CallHierarchyFeature=void 0;var zy=require("vscode"),Pn=me(),Uy=it();function Rd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Cd=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,n,r){let i=this.client,a=this.middleware,c=(f,d,y)=>{let R=i.code2ProtocolConverter.asTextDocumentPositionParams(f,d);return i.sendRequest(Pn.CallHierarchyPrepareRequest.type,R,y).then(b=>i.protocol2CodeConverter.asCallHierarchyItems(b),b=>i.handleFailedRequest(Pn.CallHierarchyPrepareRequest.type,b,null))};return a.prepareCallHierarchy?a.prepareCallHierarchy(e,n,r,c):c(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,a=(c,f)=>{let d={item:r.code2ProtocolConverter.asCallHierarchyItem(c)};return r.sendRequest(Pn.CallHierarchyIncomingCallsRequest.type,d,f).then(y=>r.protocol2CodeConverter.asCallHierarchyIncomingCalls(y),y=>r.handleFailedRequest(Pn.CallHierarchyIncomingCallsRequest.type,y,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,a):a(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,a=(c,f)=>{let d={item:r.code2ProtocolConverter.asCallHierarchyItem(c)};return r.sendRequest(Pn.CallHierarchyOutgoingCallsRequest.type,d,f).then(y=>r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(y),y=>r.handleFailedRequest(Pn.CallHierarchyOutgoingCallsRequest.type,y,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,n,a):a(e,n)}},bd=class extends Uy.TextDocumentFeature{constructor(e){super(e,Pn.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=Rd(Rd(e,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new Cd(n);return[zy.languages.registerCallHierarchyProvider(e.documentSelector,r),r]}};_i.CallHierarchyFeature=bd});var Td=D(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.SemanticTokensFeature=void 0;var wi=require("vscode"),By=it(),J=me(),Gy=tn();function Ti(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var wd=class extends By.TextDocumentFeature{constructor(e){super(e,J.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=Ti(Ti(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[J.SemanticTokenTypes.namespace,J.SemanticTokenTypes.type,J.SemanticTokenTypes.class,J.SemanticTokenTypes.enum,J.SemanticTokenTypes.interface,J.SemanticTokenTypes.struct,J.SemanticTokenTypes.typeParameter,J.SemanticTokenTypes.parameter,J.SemanticTokenTypes.variable,J.SemanticTokenTypes.property,J.SemanticTokenTypes.enumMember,J.SemanticTokenTypes.event,J.SemanticTokenTypes.function,J.SemanticTokenTypes.method,J.SemanticTokenTypes.macro,J.SemanticTokenTypes.keyword,J.SemanticTokenTypes.modifier,J.SemanticTokenTypes.comment,J.SemanticTokenTypes.string,J.SemanticTokenTypes.number,J.SemanticTokenTypes.regexp,J.SemanticTokenTypes.operator],n.tokenModifiers=[J.SemanticTokenModifiers.declaration,J.SemanticTokenModifiers.definition,J.SemanticTokenModifiers.readonly,J.SemanticTokenModifiers.static,J.SemanticTokenModifiers.deprecated,J.SemanticTokenModifiers.abstract,J.SemanticTokenModifiers.async,J.SemanticTokenModifiers.modification,J.SemanticTokenModifiers.documentation,J.SemanticTokenModifiers.defaultLibrary],n.formats=[J.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,Ti(Ti(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(J.SemanticTokensRefreshRequest.type,async()=>{for(let c of this.getAllProviders())c.onDidChangeSemanticTokensEmitter.fire()});let[i,a]=this.getRegistration(n,e.semanticTokensProvider);!i||!a||this.register({id:i,registerOptions:a})}registerLanguageProvider(e){let n=Gy.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,i=new wi.EventEmitter,a=n?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(b,w)=>{let S=this._client,O=S.clientOptions.middleware,N=(H,I)=>{let k={textDocument:S.code2ProtocolConverter.asTextDocumentIdentifier(H)};return S.sendRequest(J.SemanticTokensRequest.type,k,I).then(F=>S.protocol2CodeConverter.asSemanticTokens(F),F=>S.handleFailedRequest(J.SemanticTokensRequest.type,F,null))};return O.provideDocumentSemanticTokens?O.provideDocumentSemanticTokens(b,w,N):N(b,w)},provideDocumentSemanticTokensEdits:r?(b,w,S)=>{let O=this._client,N=O.clientOptions.middleware,H=(I,k,F)=>{let q={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(I),previousResultId:k};return O.sendRequest(J.SemanticTokensDeltaRequest.type,q,F).then(U=>J.SemanticTokens.is(U)?O.protocol2CodeConverter.asSemanticTokens(U):O.protocol2CodeConverter.asSemanticTokensEdits(U),U=>O.handleFailedRequest(J.SemanticTokensDeltaRequest.type,U,null))};return N.provideDocumentSemanticTokensEdits?N.provideDocumentSemanticTokensEdits(b,w,S,H):H(b,w,S)}:void 0}:void 0,f=e.range===!0?{provideDocumentRangeSemanticTokens:(b,w,S)=>{let O=this._client,N=O.clientOptions.middleware,H=(I,k,F)=>{let q={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(I),range:O.code2ProtocolConverter.asRange(k)};return O.sendRequest(J.SemanticTokensRangeRequest.type,q,F).then(U=>O.protocol2CodeConverter.asSemanticTokens(U),U=>O.handleFailedRequest(J.SemanticTokensRangeRequest.type,U,null))};return N.provideDocumentRangeSemanticTokens?N.provideDocumentRangeSemanticTokens(b,w,S,H):H(b,w,S)}}:void 0,d=[],R=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return a!==void 0&&d.push(wi.languages.registerDocumentSemanticTokensProvider(e.documentSelector,a,R)),f!==void 0&&d.push(wi.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,f,R)),[new wi.Disposable(()=>d.forEach(b=>b.dispose())),{range:f,full:a,onDidChangeSemanticTokensEmitter:i}]}};Si.SemanticTokensFeature=wd});var Pd=D((Jb,Sd)=>{Sd.exports=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=e(t[r],r);Xy(i)?n.push.apply(n,i):n.push(i)}return n};var Xy=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var kd=D((Yb,Od)=>{"use strict";Od.exports=Dd;function Dd(t,e,n){t instanceof RegExp&&(t=Ed(t,n)),e instanceof RegExp&&(e=Ed(e,n));var r=qd(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Ed(t,e){var n=e.match(t);return n?n[0]:null}Dd.range=qd;function qd(t,e,n){var r,i,a,c,f,d=n.indexOf(t),y=n.indexOf(e,d+1),R=d;if(d>=0&&y>0){for(r=[],a=n.length;R>=0&&!f;)R==d?(r.push(R),d=n.indexOf(t,R+1)):r.length==1?f=[r.pop(),y]:(i=r.pop(),i<a&&(a=i,c=y),y=n.indexOf(e,R+1)),R=d<y&&d>=0?d:y;r.length&&(f=[a,c])}return f}});var jd=D((Qb,Ad)=>{var Vy=Pd(),xd=kd();Ad.exports=Qy;var Fd="\0SLASH"+Math.random()+"\0",Nd="\0OPEN"+Math.random()+"\0",Xs="\0CLOSE"+Math.random()+"\0",Id="\0COMMA"+Math.random()+"\0",Ld="\0PERIOD"+Math.random()+"\0";function Vs(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Jy(t){return t.split("\\\\").join(Fd).split("\\{").join(Nd).split("\\}").join(Xs).split("\\,").join(Id).split("\\.").join(Ld)}function Yy(t){return t.split(Fd).join("\\").split(Nd).join("{").split(Xs).join("}").split(Id).join(",").split(Ld).join(".")}function Md(t){if(!t)return[""];var e=[],n=xd("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,a=n.post,c=r.split(",");c[c.length-1]+="{"+i+"}";var f=Md(a);return a.length&&(c[c.length-1]+=f.shift(),c.push.apply(c,f)),e.push.apply(e,c),e}function Qy(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Vn(Jy(t),!0).map(Yy)):[]}function Zy(t){return"{"+t+"}"}function eR(t){return/^-?0\d/.test(t)}function tR(t,e){return t<=e}function nR(t,e){return t>=e}function Vn(t,e){var n=[],r=xd("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),c=i||a,f=r.body.indexOf(",")>=0;if(!c&&!f)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+Xs+r.post,Vn(t)):[t];var d;if(c)d=r.body.split(/\.\./);else if(d=Md(r.body),d.length===1&&(d=Vn(d[0],!1).map(Zy),d.length===1)){var R=r.post.length?Vn(r.post,!1):[""];return R.map(function(Fe){return r.pre+d[0]+Fe})}var y=r.pre,R=r.post.length?Vn(r.post,!1):[""],b;if(c){var w=Vs(d[0]),S=Vs(d[1]),O=Math.max(d[0].length,d[1].length),N=d.length==3?Math.abs(Vs(d[2])):1,H=tR,I=S<w;I&&(N*=-1,H=nR);var k=d.some(eR);b=[];for(var F=w;H(F,S);F+=N){var q;if(a)q=String.fromCharCode(F),q==="\\"&&(q="");else if(q=String(F),k){var U=O-q.length;if(U>0){var Te=new Array(U+1).join("0");F<0?q="-"+Te+q.slice(1):q=Te+q}}b.push(q)}}else b=Vy(d,function(xe){return Vn(xe,!1)});for(var qe=0;qe<b.length;qe++)for(var Oe=0;Oe<R.length;Oe++){var ve=y+b[qe]+R[Oe];(!e||c||ve)&&n.push(ve)}return n}});var Bd=D((Zb,Ud)=>{Ud.exports=vt;vt.Minimatch=Ae;var Or={sep:"/"};try{Or=require("path")}catch{}var Js=vt.GLOBSTAR=Ae.GLOBSTAR={},rR=jd(),$d={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Ys="[^/]",Qs=Ys+"*?",iR="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",sR="(?:(?!(?:\\/|^)\\.).)*?",Kd=oR("().*{}+?[]^$\\!");function oR(t){return t.split("").reduce(function(e,n){return e[n]=!0,e},{})}var Hd=/\/+/;vt.filter=aR;function aR(t,e){return e=e||{},function(n,r,i){return vt(n,t,e)}}function Wd(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(r){n[r]=e[r]}),Object.keys(t).forEach(function(r){n[r]=t[r]}),n}vt.defaults=function(t){if(!t||!Object.keys(t).length)return vt;var e=vt,n=function(i,a,c){return e.minimatch(i,a,Wd(t,c))};return n.Minimatch=function(i,a){return new e.Minimatch(i,Wd(t,a))},n};Ae.defaults=function(t){return!t||!Object.keys(t).length?Ae:vt.defaults(t).Minimatch};function vt(t,e,n){if(typeof e!="string")throw new TypeError("glob pattern string required");return n||(n={}),!n.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?t==="":new Ae(e,n).match(t)}function Ae(t,e){if(!(this instanceof Ae))return new Ae(t,e);if(typeof t!="string")throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),Or.sep!=="/"&&(t=t.split(Or.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Ae.prototype.debug=function(){};Ae.prototype.make=cR;function cR(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(r){return r.split(Hd)}),this.debug(this.pattern,n),n=n.map(function(r,i,a){return r.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}}Ae.prototype.parseNegate=uR;function uR(){var t=this.pattern,e=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,a=t.length;i<a&&t.charAt(i)==="!";i++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}}vt.braceExpand=function(t,e){return zd(t,e)};Ae.prototype.braceExpand=zd;function zd(t,e){if(e||(this instanceof Ae?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:rR(t)}Ae.prototype.parse=lR;var Pi={};function lR(t,e){if(t.length>1024*64)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&t==="**")return Js;if(t==="")return"";var r="",i=!!n.nocase,a=!1,c=[],f=[],d,y=!1,R=-1,b=-1,w=t.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=this;function O(){if(d){switch(d){case"*":r+=Qs,i=!0;break;case"?":r+=Ys,i=!0;break;default:r+="\\"+d;break}S.debug("clearStateChar %j %j",d,r),d=!1}}for(var N=0,H=t.length,I;N<H&&(I=t.charAt(N));N++){if(this.debug("%s	%s %s %j",t,N,r,I),a&&Kd[I]){r+="\\"+I,a=!1;continue}switch(I){case"/":return!1;case"\\":O(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,N,r,I),y){this.debug("  in class"),I==="!"&&N===b+1&&(I="^"),r+=I;continue}S.debug("call clearStateChar %j",d),O(),d=I,n.noext&&O();continue;case"(":if(y){r+="(";continue}if(!d){r+="\\(";continue}c.push({type:d,start:N-1,reStart:r.length,open:$d[d].open,close:$d[d].close}),r+=d==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",d,r),d=!1;continue;case")":if(y||!c.length){r+="\\)";continue}O(),i=!0;var k=c.pop();r+=k.close,k.type==="!"&&f.push(k),k.reEnd=r.length;continue;case"|":if(y||!c.length||a){r+="\\|",a=!1;continue}O(),r+="|";continue;case"[":if(O(),y){r+="\\"+I;continue}y=!0,b=N,R=r.length,r+=I;continue;case"]":if(N===b+1||!y){r+="\\"+I,a=!1;continue}if(y){var F=t.substring(b+1,N);try{RegExp("["+F+"]")}catch{var q=this.parse(F,Pi);r=r.substr(0,R)+"\\["+q[0]+"\\]",i=i||q[1],y=!1;continue}}i=!0,y=!1,r+=I;continue;default:O(),a?a=!1:Kd[I]&&!(I==="^"&&y)&&(r+="\\"),r+=I}}for(y&&(F=t.substr(b+1),q=this.parse(F,Pi),r=r.substr(0,R)+"\\["+q[0],i=i||q[1]),k=c.pop();k;k=c.pop()){var U=r.slice(k.reStart+k.open.length);this.debug("setting tail",r,k),U=U.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(rt,ot,Rt){return Rt||(Rt="\\"),ot+ot+Rt+"|"}),this.debug(`tail=%j
   %s`,U,U,k,r);var Te=k.type==="*"?Qs:k.type==="?"?Ys:"\\"+k.type;i=!0,r=r.slice(0,k.reStart)+Te+"\\("+U}O(),a&&(r+="\\\\");var qe=!1;switch(r.charAt(0)){case".":case"[":case"(":qe=!0}for(var Oe=f.length-1;Oe>-1;Oe--){var ve=f[Oe],xe=r.slice(0,ve.reStart),Fe=r.slice(ve.reStart,ve.reEnd-8),Qe=r.slice(ve.reEnd-8,ve.reEnd),Be=r.slice(ve.reEnd);Qe+=Be;var Ze=xe.split("(").length-1,Ge=Be;for(N=0;N<Ze;N++)Ge=Ge.replace(/\)[+*?]?/,"");Be=Ge;var st="";Be===""&&e!==Pi&&(st="$");var de=xe+Fe+Be+st+Qe;r=de}if(r!==""&&i&&(r="(?=.)"+r),qe&&(r=w+r),e===Pi)return[r,i];if(!i)return hR(t);var yt=n.nocase?"i":"";try{var ke=new RegExp("^"+r+"$",yt)}catch{return new RegExp("$.")}return ke._glob=t,ke._src=r,ke}vt.makeRe=function(t,e){return new Ae(t,e||{}).makeRe()};Ae.prototype.makeRe=dR;function dR(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?Qs:e.dot?iR:sR,r=e.nocase?"i":"",i=t.map(function(a){return a.map(function(c){return c===Js?n:typeof c=="string"?pR(c):c._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp}vt.match=function(t,e,n){n=n||{};var r=new Ae(e,n);return t=t.filter(function(i){return r.match(i)}),r.options.nonull&&!t.length&&t.push(e),t};Ae.prototype.match=fR;function fR(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var n=this.options;Or.sep!=="/"&&(t=t.split(Or.sep).join("/")),t=t.split(Hd),this.debug(this.pattern,"split",t);var r=this.set;this.debug(this.pattern,"set",r);var i,a;for(a=t.length-1;a>=0&&(i=t[a],!i);a--);for(a=0;a<r.length;a++){var c=r[a],f=t;n.matchBase&&c.length===1&&(f=[i]);var d=this.matchOne(f,c,e);if(d)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}Ae.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,a=0,c=t.length,f=e.length;i<c&&a<f;i++,a++){this.debug("matchOne loop");var d=e[a],y=t[i];if(this.debug(e,d,y),d===!1)return!1;if(d===Js){this.debug("GLOBSTAR",[e,d,y]);var R=i,b=a+1;if(b===f){for(this.debug("** at the end");i<c;i++)if(t[i]==="."||t[i]===".."||!r.dot&&t[i].charAt(0)===".")return!1;return!0}for(;R<c;){var w=t[R];if(this.debug(`
globstar while`,t,R,e,b,w),this.matchOne(t.slice(R),e.slice(b),n))return this.debug("globstar found match!",R,c,w),!0;if(w==="."||w===".."||!r.dot&&w.charAt(0)==="."){this.debug("dot detected!",t,R,e,b);break}this.debug("globstar swallow a segment, and continue"),R++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,R,e,b),R===c))}var S;if(typeof d=="string"?(r.nocase?S=y.toLowerCase()===d.toLowerCase():S=y===d,this.debug("string match",d,y,S)):(S=y.match(d),this.debug("pattern match",d,y,S)),!S)return!1}if(i===c&&a===f)return!0;if(i===c)return n;if(a===f){var O=i===c-1&&t[i]==="";return O}throw new Error("wtf?")};function hR(t){return t.replace(/\\(.)/g,"$1")}function pR(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var tf=D(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.WillDeleteFilesFeature=nt.WillRenameFilesFeature=nt.WillCreateFilesFeature=nt.DidDeleteFilesFeature=nt.DidRenameFilesFeature=nt.DidCreateFilesFeature=void 0;var xt=require("vscode"),gR=Bd(),Ut=me(),mR=ci();function Gd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function vR(t,e){return t[e]}function Xd(t,e,n){t[e]=n}var Dn=class{constructor(e,n,r,i,a){this._filters=new Map,this._client=e,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=a}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=Gd(Gd(e,"workspace"),"fileOperations");Xd(n,"dynamicRegistration",!0),Xd(n,this._clientCapability,!0)}initialize(e){var n;let r=(n=e.workspace)===null||n===void 0?void 0:n.fileOperations,i=r!==void 0?vR(r,this._serverCapability):void 0;if((i==null?void 0:i.filters)!==void 0)try{this.register({id:mR.generateUuid(),registerOptions:{filters:i.filters}})}catch(a){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${a}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let i=new gR.Minimatch(r.pattern.glob,Dn.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,n){let r=await Promise.all(e.files.map(async a=>{let c=n(a),f=c.fsPath.replace(/\\/g,"/");for(let d of this._filters.values())for(let y of d)if(!(y.scheme!==void 0&&y.scheme!==c.scheme)){if(y.matcher.match(f)){if(y.kind===void 0)return!0;let R=await Dn.getFileType(c);if(R===void 0)return this._client.error(`Failed to determine file type for ${c.toString()}.`),!0;if(R===xt.FileType.File&&y.kind===Ut.FileOperationPatternKind.file||R===xt.FileType.Directory&&y.kind===Ut.FileOperationPatternKind.folder)return!0}else if(y.kind===Ut.FileOperationPatternKind.folder&&await Dn.getFileType(c)===xt.FileType.Directory&&y.matcher.match(`${f}/`))return!0}return!1})),i=e.files.filter((a,c)=>r[c]);return Object.assign(Object.assign({},e),{files:i})}static async getFileType(e){try{return(await xt.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},Di=class extends Dn{constructor(e,n,r,i,a,c,f){super(e,n,r,i,a);this._notificationType=r,this._accessUri=c,this._createParams=f}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async i=>{this._client.sendNotification(this._notificationType,this._createParams(i))};this.doSend(n,r)}}},Vd=class extends Di{constructor(e){super(e,xt.workspace.onDidCreateFiles,Ut.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didCreateFiles)?i.didCreateFiles(e,n):n(e)}};nt.DidCreateFilesFeature=Vd;var Jd=class extends Di{constructor(e){super(e,xt.workspace.onDidRenameFiles,Ut.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didRenameFiles)?i.didRenameFiles(e,n):n(e)}};nt.DidRenameFilesFeature=Jd;var Yd=class extends Di{constructor(e){super(e,xt.workspace.onDidDeleteFiles,Ut.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didDeleteFiles)?i.didDeleteFiles(e,n):n(e)}};nt.DidDeleteFilesFeature=Yd;var Ei=class extends Dn{constructor(e,n,r,i,a,c,f){super(e,n,r,i,a);this._requestType=r,this._accessUri=c,this._createParams=f}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},Qd=class extends Ei{constructor(e){super(e,xt.workspace.onWillCreateFiles,Ut.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willCreateFiles)?i.willCreateFiles(e,n):n(e)}};nt.WillCreateFilesFeature=Qd;var Zd=class extends Ei{constructor(e){super(e,xt.workspace.onWillRenameFiles,Ut.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willRenameFiles)?i.willRenameFiles(e,n):n(e)}};nt.WillRenameFilesFeature=Zd;var ef=class extends Ei{constructor(e){super(e,xt.workspace.onWillDeleteFiles,Ut.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willDeleteFiles)?i.willDeleteFiles(e,n):n(e)}};nt.WillDeleteFilesFeature=ef});var sf=D(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.LinkedEditingFeature=void 0;var yR=require("vscode"),Zs=me(),RR=it();function nf(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var rf=class extends RR.TextDocumentFeature{constructor(e){super(e,Zs.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=nf(nf(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideLinkedEditingRanges:(r,i,a)=>{let c=this._client,f=(y,R,b)=>c.sendRequest(Zs.LinkedEditingRangeRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(y,R),b).then(c.protocol2CodeConverter.asLinkedEditingRanges,w=>c.handleFailedRequest(Zs.LinkedEditingRangeRequest.type,w,null)),d=c.clientOptions.middleware;return d.provideLinkedEditingRange?d.provideLinkedEditingRange(r,i,a,f):f(r,i,a)}};return[yR.languages.registerLinkedEditingRangeProvider(e.documentSelector,n),n]}};qi.LinkedEditingFeature=rf});var eo=D(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.ProposedFeatures=En.CommonLanguageClient=void 0;var CR=it(),bR=td(),_R=Ts(),wR=id(),TR=od(),SR=cd(),PR=ld(),DR=hd(),ER=md(),qR=yd(),OR=_d(),kR=Td(),Jn=tf(),xR=sf(),of=class extends CR.BaseLanguageClient{constructor(e,n,r){super(e,n,r)}registerProposedFeatures(){this.registerFeatures(af.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new _R.ConfigurationFeature(this)),this.registerFeature(new TR.TypeDefinitionFeature(this)),this.registerFeature(new wR.ImplementationFeature(this)),this.registerFeature(new bR.ColorProviderFeature(this)),this.registerFeature(new SR.WorkspaceFoldersFeature(this)),this.registerFeature(new PR.FoldingRangeFeature(this)),this.registerFeature(new DR.DeclarationFeature(this)),this.registerFeature(new ER.SelectionRangeFeature(this)),this.registerFeature(new qR.ProgressFeature(this)),this.registerFeature(new OR.CallHierarchyFeature(this)),this.registerFeature(new kR.SemanticTokensFeature(this)),this.registerFeature(new xR.LinkedEditingFeature(this)),this.registerFeature(new Jn.DidCreateFilesFeature(this)),this.registerFeature(new Jn.DidRenameFilesFeature(this)),this.registerFeature(new Jn.DidDeleteFilesFeature(this)),this.registerFeature(new Jn.WillCreateFilesFeature(this)),this.registerFeature(new Jn.WillRenameFilesFeature(this)),this.registerFeature(new Jn.WillDeleteFilesFeature(this))}};En.CommonLanguageClient=of;var af;(function(t){function e(n){return[]}t.createAll=e})(af=En.ProposedFeatures||(En.ProposedFeatures={}))});var uf=D(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.terminate=void 0;var cf=require("child_process"),FR=require("path"),NR=process.platform==="win32",IR=process.platform==="darwin",LR=process.platform==="linux";function MR(t,e){if(NR)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),cf.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(LR||IR)try{var n=FR.join(__dirname,"terminateProcess.sh"),r=cf.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}Oi.terminate=MR});var to=D((i_,lf)=>{"use strict";lf.exports=me()});var df=D(Bt=>{"use strict";var AR=Bt&&Bt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),no=Bt&&Bt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&AR(e,t,n)};Object.defineProperty(Bt,"__esModule",{value:!0});no(me(),Bt);no(it(),Bt);no(eo(),Bt)});var vf=D(Ye=>{"use strict";var jR=Ye&&Ye.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ff=Ye&&Ye.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&jR(e,t,n)};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.SettingMonitor=Ye.LanguageClient=Ye.TransportKind=void 0;var qn=require("child_process"),ro=require("fs"),io=require("path"),hf=uc(),an=require("vscode"),De=tn(),$R=eo(),KR=it(),HR=uf(),Ee=to();ff(to(),Ye);ff(df(),Ye);var pf="^1.52.0",so;(function(t){function e(n){return De.string(n.command)}t.is=e})(so||(so={}));var Ke;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ke=Ye.TransportKind||(Ye.TransportKind={}));var Yn;(function(t){function e(n){let r=n;return r&&r.kind===Ke.socket&&De.number(r.port)}t.isSocket=e})(Yn||(Yn={}));var oo;(function(t){function e(n){return De.string(n.module)}t.is=e})(oo||(oo={}));var ao;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(ao||(ao={}));var co;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(co||(co={}));var gf=class extends $R.CommonLanguageClient{constructor(e,n,r,i,a){let c,f,d,y,R;De.string(n)?(c=e,f=n,d=r,y=i,R=!!a):(c=e.toLowerCase(),f=e,d=n,y=r,R=i),R===void 0&&(R=!1);super(c,f,y);this._serverOptions=d,this._forceDebug=R;try{this.checkVersion()}catch(b){throw De.string(b.message)&&this.outputChannel.appendLine(b.message),b}}checkVersion(){let e=hf.parse(an.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${an.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!hf.satisfies(e,pf))throw new Error(`The language client requires VS Code version ${pf} but received version ${an.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){!e||setTimeout(()=>{try{process.kill(e.pid,0),HR.terminate(e)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(R,b){if(!R&&!b)return;let w=Object.create(null);return Object.keys(process.env).forEach(S=>w[S]=process.env[S]),b&&(w.ELECTRON_RUN_AS_NODE="1",w.ELECTRON_NO_ASAR="1"),R&&Object.keys(R).forEach(S=>w[S]=R[S]),w}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function a(){let R=process.execArgv;return R?R.some(b=>r.some(w=>b.startsWith(w))||i.some(w=>b===w)):!1}function c(R){if(R.stdin===null||R.stdout===null||R.stderr===null)throw new Error("Process created without stdio streams")}let f=this._serverOptions;if(De.func(f))return f().then(R=>{if(KR.MessageTransports.is(R))return this._isDetached=!!R.detached,R;if(ao.is(R))return this._isDetached=!!R.detached,{reader:new Ee.StreamMessageReader(R.reader),writer:new Ee.StreamMessageWriter(R.writer)};{let b;return co.is(R)?(b=R.process,this._isDetached=R.detached):(b=R,this._isDetached=!1),b.stderr.on("data",w=>this.outputChannel.append(De.string(w)?w:w.toString(e))),{reader:new Ee.StreamMessageReader(b.stdout),writer:new Ee.StreamMessageWriter(b.stdin)}}});let d,y=f;return y.run||y.debug?this._forceDebug||a()?d=y.debug:d=y.run:d=f,this._getServerWorkingDir(d.options).then(R=>{if(oo.is(d)&&d.module){let b=d,w=b.transport||Ke.stdio;if(b.runtime){let S=[],O=b.options||Object.create(null);O.execArgv&&O.execArgv.forEach(k=>S.push(k)),S.push(b.module),b.args&&b.args.forEach(k=>S.push(k));let N=Object.create(null);N.cwd=R,N.env=n(O.env,!1);let H=this._getRuntimePath(b.runtime,R),I;if(w===Ke.ipc?(N.stdio=[null,null,null,"ipc"],S.push("--node-ipc")):w===Ke.stdio?S.push("--stdio"):w===Ke.pipe?(I=Ee.generateRandomPipeName(),S.push(`--pipe=${I}`)):Yn.isSocket(w)&&S.push(`--socket=${w.port}`),S.push(`--clientProcessId=${process.pid.toString()}`),w===Ke.ipc||w===Ke.stdio){let k=qn.spawn(H,S,N);return!k||!k.pid?Promise.reject(`Launching server using runtime ${H} failed.`):(this._serverProcess=k,k.stderr.on("data",F=>this.outputChannel.append(De.string(F)?F:F.toString(e))),w===Ke.ipc?(k.stdout.on("data",F=>this.outputChannel.append(De.string(F)?F:F.toString(e))),Promise.resolve({reader:new Ee.IPCMessageReader(k),writer:new Ee.IPCMessageWriter(k)})):Promise.resolve({reader:new Ee.StreamMessageReader(k.stdout),writer:new Ee.StreamMessageWriter(k.stdin)}))}else{if(w===Ke.pipe)return Ee.createClientPipeTransport(I).then(k=>{let F=qn.spawn(H,S,N);return!F||!F.pid?Promise.reject(`Launching server using runtime ${H} failed.`):(this._serverProcess=F,F.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),F.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),k.onConnected().then(q=>({reader:q[0],writer:q[1]})))});if(Yn.isSocket(w))return Ee.createClientSocketTransport(w.port).then(k=>{let F=qn.spawn(H,S,N);return!F||!F.pid?Promise.reject(`Launching server using runtime ${H} failed.`):(this._serverProcess=F,F.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),F.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),k.onConnected().then(q=>({reader:q[0],writer:q[1]})))})}}else{let S;return new Promise((O,N)=>{let H=b.args&&b.args.slice()||[];w===Ke.ipc?H.push("--node-ipc"):w===Ke.stdio?H.push("--stdio"):w===Ke.pipe?(S=Ee.generateRandomPipeName(),H.push(`--pipe=${S}`)):Yn.isSocket(w)&&H.push(`--socket=${w.port}`),H.push(`--clientProcessId=${process.pid.toString()}`);let I=b.options||Object.create(null);if(I.env=n(I.env,!0),I.execArgv=I.execArgv||[],I.cwd=R,I.silent=!0,w===Ke.ipc||w===Ke.stdio){let k=qn.fork(b.module,H||[],I);c(k),this._serverProcess=k,k.stderr.on("data",F=>this.outputChannel.append(De.string(F)?F:F.toString(e))),w===Ke.ipc?(k.stdout.on("data",F=>this.outputChannel.append(De.string(F)?F:F.toString(e))),O({reader:new Ee.IPCMessageReader(this._serverProcess),writer:new Ee.IPCMessageWriter(this._serverProcess)})):O({reader:new Ee.StreamMessageReader(k.stdout),writer:new Ee.StreamMessageWriter(k.stdin)})}else w===Ke.pipe?Ee.createClientPipeTransport(S).then(k=>{let F=qn.fork(b.module,H||[],I);c(F),this._serverProcess=F,F.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),F.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),k.onConnected().then(q=>{O({reader:q[0],writer:q[1]})})}):Yn.isSocket(w)&&Ee.createClientSocketTransport(w.port).then(k=>{let F=qn.fork(b.module,H||[],I);c(F),this._serverProcess=F,F.stderr.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),F.stdout.on("data",q=>this.outputChannel.append(De.string(q)?q:q.toString(e))),k.onConnected().then(q=>{O({reader:q[0],writer:q[1]})})})})}}else if(so.is(d)&&d.command){let b=d,w=b.args||[],S=Object.assign({},b.options);S.cwd=S.cwd||R;let O=qn.spawn(b.command,w,S);return!O||!O.pid?Promise.reject(`Launching server using command ${b.command} failed.`):(O.stderr.on("data",N=>this.outputChannel.append(De.string(N)?N:N.toString(e))),this._serverProcess=O,this._isDetached=!!S.detached,Promise.resolve({reader:new Ee.StreamMessageReader(O.stdout),writer:new Ee.StreamMessageWriter(O.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(f,null,4)))})}_getRuntimePath(e,n){if(io.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=io.join(r,e);if(ro.existsSync(i))return i}if(n!==void 0){let i=io.join(n,e);if(ro.existsSync(i))return i}return e}_mainGetRootPath(){let e=an.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{ro.lstat(n,(i,a)=>{r(!i&&a.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let n;try{n=JSON.parse(e)}catch{}return n===void 0||typeof n.locale!="string"?"en":n.locale}};Ye.LanguageClient=gf;var mf=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return an.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new an.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?an.workspace.getConfiguration(n).get(r,!1):an.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}};Ye.SettingMonitor=mf});var Rf=D((a_,yf)=>{"use strict";yf.exports=vf()});xf(exports,{activate:()=>XR,deactivate:()=>VR});var _f=Nr(require("path")),wf=Nr(require("vscode")),kr=Nr(Rf());var Cf=[{name:"System",description:"This module contains methods for system operations.",detail:"(module) System",symbolKind:"class"},{name:"stdin",description:"",detail:"(variable) stdin",symbolKind:"variable"},{name:"stdout",description:"",detail:"(variable) stdout",symbolKind:"variable"},{name:"stderr",description:"",detail:"(variable) stderr",symbolKind:"variable"},{name:"exit",description:"This task terminates the current process.",detail:"System.exit(code)",symbolKind:"task"},{name:"read",description:"Reads a line from the standard input stream.",detail:"System.stdin.read() -> string",symbolKind:"task"},{name:"write",description:"Writes a string to the standard output stream.",detail:"System.stdout.write(string)",symbolKind:"task"},{name:"Process",description:"This module contains methods for process operations.",detail:"(module) Process",symbolKind:"class"},{name:"exec",description:"Executes a given command and returns the result object. Waits for the command to finish before returning.",detail:"Process.exec(['ls', '-l'])",symbolKind:"task"},{name:"run",description:"Executes a given command and returns the result object. Does not wait for the command to finish before returning.",detail:"Process.run(['ls', '-l'])",symbolKind:"task"},{name:"Date",description:"This module contains methods for date operations.",detail:"(module) Date",symbolKind:"class"},{name:"new",description:"Creates a new Date object.",detail:"Date.new(year, month, day, hour, minute, second, millisecond) -> Date",symbolKind:"task"},{name:"now",description:"Returns the current date and time in a human readable format.",detail:"Date.now() // Mon Jan 01 2001 00:00:00 2000",symbolKind:"task"},{name:"nowUTC",description:"Returns a string representing the current date and time in UTC.",detail:"Datetime.nowUTC() // Fri May 29 02:12:32 2020",symbolKind:"task"},{name:"parse",description:"Parses a string representation of a date and time.",detail:"Date.parse(string) -> Number",symbolKind:"task"},{name:"getDay",description:"Returns the day of the week of a date.",detail:"Date.getDay() // 0 (Sunday) to 6 (Saturday)",symbolKind:"task"},{name:"getFullYear",description:"Returns the year of a date.",detail:"Date.getFullYear() // 2020",symbolKind:"task"},{name:"getHours",description:"Returns the hour of a date.",detail:"Date.getHours() // 0 to 23",symbolKind:"task"},{name:"getSeconds",description:"Returns the seconds of a date.",detail:"Date.getSeconds() // 0 to 59",symbolKind:"task"},{name:"getMilliseconds",description:"Returns the milliseconds of a date.",detail:"Date.getMilliseconds() // 0 to 999",symbolKind:"task"},{name:"getMinutes",description:"Returns the minutes of a date.",detail:"Date.getMinutes() // 0 to 59",symbolKind:"task"},{name:"getMonth",description:"Returns the month of a date.",detail:"Date.getMonth() // 0 to 11",symbolKind:"task"},{name:"getTime",description:"Returns number of milliseconds since a date.",detail:"Date.getTime() // 1589788400000",symbolKind:"task"},{name:"Path",description:"This module contains methods for path operations.",detail:"(module) Path",symbolKind:"class"},{name:"basename",description:"Returns the basename of the path.",detail:"Path.basename('/usr/bin')",symbolKind:"task"},{name:"dirname",description:"Returns the directory name of the path.",detail:"Path.dirname('/usr/bin')",symbolKind:"task"},{name:"extname",description:"Returns the extension of the path.",detail:"Path.extname('/src/main.txt')",symbolKind:"task"},{name:"isAbsolute",description:"Returns true if the path is absolute.",detail:"Path.isAbsolute('/usr')",symbolKind:"task"},{name:"Env",description:"This module contains methods for environment operations.",detail:"(module) Env",symbolKind:"class"},{name:"get",description:"Returns the value of an environment variable.",detail:"Env.get('URL')",symbolKind:"task"},{name:"set",description:"Chanages or adds an environment variable. When setting a variable, the value must be a string. Returns a boolean indicating whether the operation was successful.",detail:"Env.set('key', 'test')",symbolKind:"task"},{name:"delete",description:"Deletes an environment variable. Returns a boolean indicating whether the operation was successful.",detail:"Env.delete('key')",symbolKind:"task"},{name:"getAll",description:"Returns an object containing all environment variables.",detail:"Env.getAll()",symbolKind:"task"},{name:"File",description:"This module contains methods for file operations.",detail:"(module) File",symbolKind:"class"},{name:"exists",description:"Returns true if the file exists.",detail:"File.exists('/usr/bin/ls')",symbolKind:"task"},{name:"read",description:"Reads the contents of a file.",detail:"File.read('/usr/bin/ls')",symbolKind:"task"},{name:"write",description:"Writes the contents of a file.",detail:"File.write('/usr/bin/ls', 'Hello World!')",symbolKind:"task"},{name:"close",description:"Closes a file.",detail:"File.close('/usr/bin/ls')",symbolKind:"task"},{name:"Http",description:"This module contains methods for working with HTTP.",detail:"(module) Http",symbolKind:"class"},{name:"get",description:"Sends a HTTP GET request to a given URL. Returns a result object.",detail:"HTTP.get('https://www.url.com')",symbolKind:"task"},{name:"post",description:"Sends a HTTP POST request to a given URL. Returns a result object upon success.",detail:"HTTP.post('https://www.url.com', object)",symbolKind:"task"},{name:"Base64",description:"This module contains methods for working with Base64.",detail:"(module) Base64",symbolKind:"class"},{name:"encode",description:"Base64 encode a given string.",detail:"Base64.encode('This is a test')",symbolKind:"task"},{name:"decode",description:"Base64 decode a given string.",detail:"Base64.decode('VGhpcyBpcyBhIHRlc3Q=')",symbolKind:"task"},{name:"Hashlib",description:"Module containing methods for working with different hash algorithms.",detail:"(module) Hashlib",symbolKind:"task"},{name:"sha256",description:"Hashes a given string using the SHA-256 algorithm.",detail:"Hashlib.sha256('This is a test')",symbolKind:"task"},{name:"hmac",description:"Generates a HMAC using the SHA-256 algorithm.",detail:"Hashlib.hmac('secret', 'This is a test')",symbolKind:"task"},{name:"bcrypt",description:"Generates a bcrypt hash.",detail:"Hashlib.bcrypt( 'This is a test' )",symbolKind:"task"},{name:"Math",description:"This module contains methods for mathematical operations.",detail:"(module) Math",symbolKind:"class"},{name:"abs",description:"Returns the absolute value of a number.",detail:"Math.abs(x) -> Number",symbolKind:"task"},{name:"acos",description:"Returns the arccosine of a number.",detail:"Math.acos(x) -> Number",symbolKind:"task"},{name:"asin",description:"Returns the arcsine of a number.",detail:"Math.asin(x) -> Number",symbolKind:"task"},{name:"atan",description:"Returns the arctangent of a number.",detail:"Math.atan(x) -> Number",symbolKind:"task"},{name:"atan2",description:"Returns the arctangent of the quotient of its arguments.",detail:"Math.atan2(y, x) -> Number",symbolKind:"task"},{name:"ceil",description:"Returns the smallest integer greater than or equal to a number.",detail:"Math.ceil(x) -> Number",symbolKind:"task"},{name:"cos",description:"Returns the cosine of a number.",detail:"Math.cos(x) -> Number",symbolKind:"task"},{name:"exp",description:"Returns the value of E raised to the power of a number.",detail:"Math.exp(x) -> Number",symbolKind:"task"},{name:"floor",description:"Returns the largest integer less than or equal to a number.",detail:"Math.floor(x) -> Number",symbolKind:"task"},{name:"log",description:"Returns the natural logarithm (base e) of a number.",detail:"Math.log(x, base) -> Number // base defaults to e",symbolKind:"task"},{name:"max",description:"Returns the largest of zero or more numbers.",detail:"Math.max(value1, value2, ...) -> Number",symbolKind:"task"},{name:"min",description:"Returns the smallest of zero or more numbers.",detail:"Math.min(value1, value2, ...) -> Number",symbolKind:"task"},{name:"pow",description:"Returns base to the exponent power, that is, baseexponent.",detail:"Math.pow(x, y) -> Number",symbolKind:"task"},{name:"random",description:"Returns a pseudo-random number between 0 (inclusive) and 1 (exclusive).",detail:"Math.random() -> Number",symbolKind:"task"},{name:"round",description:"Returns the value of a number rounded to the nearest integer.",detail:"Math.round(x) -> Number",symbolKind:"task"},{name:"sin",description:"Returns the sine of a number.",detail:"Math.sin(x) -> Number",symbolKind:"task"},{name:"sqrt",description:"Returns the square root of a number.",detail:"Math.sqrt(x) -> Number",symbolKind:"task"},{name:"tan",description:"Returns the tangent of a number.",detail:"Math.tan(x) -> Number",symbolKind:"task"}],WR=t=>Cf.find(e=>e.name===t),zR=()=>Cf,bf=[{name:"print",description:"Prints a value to stdout.",detail:`(task)
print(values)`,symbolKind:"task"},{name:"println",description:"Prints a value to stdout with a newline.",detail:"println(values)",symbolKind:"task"},{name:"exit",description:"Exits the program.",detail:"exit()",symbolKind:"task"},{name:"clear",description:"Clears the screen.",detail:"clear()",symbolKind:"task"},{name:"delay",description:"Delay the program for a given amount of milliseconds.",detail:"delay(1000) // 1 second",symbolKind:"task"},{name:"input",description:"Retrieves input from stdin and returns value as a string",detail:'input("Enter your name: ") // Optional prompt',symbolKind:"task"},{name:"typeof",description:"Returns the type of a given value as a string.",detail:`typeof(10) -> "int"
typeof("test") -> "string"
typeof(true) -> "bool"
typeof(none) -> "none"`,symbolKind:"task"},{name:"assert",description:"Raise a runtime error if the given expression is not true.",detail:"assert(10 > 5)",symbolKind:"task"},{name:"isDefined",description:"Returns a boolean value indicating whether the given value is defined or not.",detail:`isDefined('test') -> true
isDefined(none) -> false`,symbolKind:"task"}],UR=t=>bf.find(e=>e.name===t),BR=()=>bf,On={getModule:WR,getModules:zR,getBuiltIn:UR,getBuiltIns:BR};var ki=Nr(require("vscode")),GR=({name:t,description:e,detail:n})=>{let r=new ki.MarkdownString,i=n;return r.appendCodeblock(i,"alden"),r.appendMarkdown(`---
`),r.appendText(e),r.isTrusted=!0,new ki.Hover(r)},uo=GR;var ae=require("vscode"),xi;function XR(t){let e=t.asAbsolutePath(_f.join("server","out","server.js")),n={execArgv:["--nolazy","--inspect=6009"]},r={run:{module:e,transport:kr.TransportKind.ipc},debug:{module:e,transport:kr.TransportKind.ipc,options:n}},i={documentSelector:[{scheme:"file",language:"alden"}],synchronize:{fileEvents:wf.workspace.createFileSystemWatcher("**/.clientrc")}};xi=new kr.LanguageClient("aldenLanguageServer","Alden Language Server",r,i),ae.languages.registerHoverProvider("alden",{provideHover(f,d,y){let R=f.getText(f.getWordRangeAtPosition(d)),b=R.indexOf("#"),w=b>-1?R.substring(0,b):R,S=On.getModule(w),O=On.getBuiltIn(w);return S?uo(S):O?uo(O):null}});let a=f=>{let d;switch(f){case"class":d=ae.SymbolKind.Class;break;case"task":d=ae.SymbolKind.Function;break;case"variable":d=ae.SymbolKind.Variable;break;case"constant":d=ae.SymbolKind.Constant;break;default:d=ae.SymbolKind.Class}return d},c=f=>{let d;switch(f){case"class":d=ae.CompletionItemKind.Class;break;case"task":d=ae.CompletionItemKind.Function;break;case"variable":d=ae.CompletionItemKind.Variable;break;case"constant":d=ae.CompletionItemKind.Constant;break;default:d=ae.CompletionItemKind.Class}return d};ae.languages.registerDocumentSymbolProvider("alden",{provideDocumentSymbols(f,d){let y=[],R=On.getModules(),b=f.lineAt(0),w=b.range.start,S=b.range.end;for(let O of R){let N=new ae.DocumentSymbol(O.name,O.description,a(O.symbolKind),new ae.Range(new ae.Position(w.line,w.character),new ae.Position(S.line,S.character)),new ae.Range(new ae.Position(w.line,w.character),new ae.Position(S.line,S.character)));y.push(N)}return y}}),ae.languages.registerDefinitionProvider("alden",{provideDefinition(f,d,y){let R=f.getText(f.getWordRangeAtPosition(d)),b=R.indexOf("#"),w=b>-1?R.substring(0,b):R,S=On.getModule(w),O=f.lineAt(0),N=O.range.start,H=O.range.end,I=ae.Uri.file(`${process.env.USERPROFILE}\\.vscode\\extensions\\alden.alden-${ae.extensions.getExtension("alden.alden").packageJSON.version}\\client\\src\\stubs\\${S.name}.aldeni`);return S?[new ae.Location(I,new ae.Range(new ae.Position(N.line,N.character),new ae.Position(H.line,H.character)))]:null}}),ae.languages.registerCompletionItemProvider("alden",{provideCompletionItems(f,d,y){let R=f.getText(f.getWordRangeAtPosition(d)),b=R.indexOf("#"),w=b>-1?R.substring(0,b):R,S=On.getModule(w),O=On.getBuiltIn(w);if(S){let N=c(S.symbolKind),H=new ae.CompletionItem(S.name,N);return H.documentation=S.description,[H]}if(O){let N=c(O.symbolKind),H=new ae.CompletionItem(O.name,N);return H.documentation=O.description,[H]}return null}}),xi.start()}function VR(){if(!!xi)return xi.stop()}0&&(module.exports={activate,deactivate});
